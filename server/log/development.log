Started GET "/" for ::1 at 2021-11-18 12:54:59 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.1ms | Allocations: 482)
Completed 200 OK in 26ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 4252)


Started GET "/favicon.ico" for ::1 at 2021-11-18 12:55:00 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2021-11-18 16:47:27 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.4ms | Allocations: 482)
Completed 200 OK in 18ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 4249)


Started GET "/" for ::1 at 2021-11-18 16:57:08 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.2ms | Allocations: 309)
Completed 200 OK in 18ms (Views: 10.0ms | ActiveRecord: 0.0ms | Allocations: 2472)


Started GET "/favicon.ico" for ::1 at 2021-11-18 16:57:08 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2021-11-18 17:02:24 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.1ms | Allocations: 309)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 2472)


  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20211119163009)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 16:31:45.026275"], ["updated_at", "2021-11-19 16:31:45.026275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAccounts (20211119163542)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163542"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransactions (20211119163721)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163721"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (4.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePortfolios (20211119163903)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163903"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (3.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserToAccounts (20211119170947)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119170947"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAccountToTransactions (20211119184501)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119184501"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAccountToPortfolios (20211119185026)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119185026"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-11-19 13:55:34 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.1ms | Allocations: 309)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 2470)


Started GET "/api/accounts" for ::1 at 2021-11-19 13:55:43 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/api/portfolio/1" for ::1 at 2021-11-19 14:03:10 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/portfolio/1"):
  
Started GET "/api/portfolios/1" for ::1 at 2021-11-19 14:03:18 -0500
Processing by PortfoliosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:58:in `set_portfolio'
Completed 404 Not Found in 83ms (ActiveRecord: 31.3ms | Allocations: 6789)


  
ActiveRecord::RecordNotFound (Couldn't find Portfolio with 'id'=1):
  
app/controllers/portfolios_controller.rb:58:in `set_portfolio'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:11:31.324719"], ["updated_at", "2021-11-19 19:11:31.324719"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:14:45.760347"], ["updated_at", "2021-11-19 19:14:45.760347"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (3.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 10000], ["created_at", "2021-11-19 19:14:45.806141"], ["updated_at", "2021-11-19 19:14:45.806141"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:22:58.791372"], ["updated_at", "2021-11-19 19:22:58.791372"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 19:22:58.826206"], ["updated_at", "2021-11-19 19:22:58.826206"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (2.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 19:22:58.849057"], ["updated_at", "2021-11-19 19:22:58.849057"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 19:22:58.855905"], ["updated_at", "2021-11-19 19:22:58.855905"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5049.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5048.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (31.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (19.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (97.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (27.6ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:03.562512"], ["updated_at", "2021-11-19 19:29:03.562512"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:03.585282"], ["updated_at", "2021-11-19 19:29:03.585282"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:03.647585"], ["updated_at", "2021-11-19 19:29:03.647585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-19 19:29:03.653666"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:03.659339"], ["updated_at", "2021-11-19 19:29:03.659339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:29:03.706830"], ["updated_at", "2021-11-19 19:29:03.706830"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 19:29:03.729249"], ["updated_at", "2021-11-19 19:29:03.729249"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 19:29:03.758727"], ["updated_at", "2021-11-19 19:29:03.758727"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 19:29:03.764775"], ["updated_at", "2021-11-19 19:29:03.764775"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (15.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (80.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:41.188681"], ["updated_at", "2021-11-19 19:29:41.188681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:41.198793"], ["updated_at", "2021-11-19 19:29:41.198793"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:41.272928"], ["updated_at", "2021-11-19 19:29:41.272928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-19 19:29:41.278188"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:41.282884"], ["updated_at", "2021-11-19 19:29:41.282884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:29:41.328722"], ["updated_at", "2021-11-19 19:29:41.328722"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 19:29:41.350450"], ["updated_at", "2021-11-19 19:29:41.350450"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 19:29:41.378005"], ["updated_at", "2021-11-19 19:29:41.378005"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 19:29:41.382960"], ["updated_at", "2021-11-19 19:29:41.382960"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-19 19:29:41.397307"], ["updated_at", "2021-11-19 19:29:41.397307"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-19 19:29:41.401895"], ["updated_at", "2021-11-19 19:29:41.401895"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-11-19 14:30:31 -0500
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.2ms | Allocations: 309)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 2470)


Started GET "/transactions/1" for ::1 at 2021-11-19 14:30:44 -0500
  
ActionController::RoutingError (No route matches [GET] "/transactions/1"):
  
Started GET "/api/transactions/1" for ::1 at 2021-11-19 14:30:55 -0500
Processing by TransactionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:44:in `set_transaction'
Completed 200 OK in 29ms (Views: 0.9ms | ActiveRecord: 15.0ms | Allocations: 6693)


Started GET "/api/transactions/2" for ::1 at 2021-11-19 14:31:12 -0500
Processing by TransactionsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:44:in `set_transaction'
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 656)


Started GET "/api/transactions/" for ::1 at 2021-11-19 14:31:17 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 856)


Started GET "/api/accounts" for ::1 at 2021-11-19 14:31:31 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)


Started GET "/api/accounts/1" for ::1 at 2021-11-19 14:31:43 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:51:in `set_account'
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 10.7ms | Allocations: 6583)


Started GET "/api/users" for ::1 at 2021-11-19 14:31:56 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 37ms (Views: 15.9ms | ActiveRecord: 14.4ms | Allocations: 5314)


Started GET "/api/portfolios" for ::1 at 2021-11-19 14:32:16 -0500
Processing by PortfoliosController#index as HTML
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:8:in `index'
Completed 200 OK in 27ms (Views: 14.3ms | ActiveRecord: 11.9ms | Allocations: 4909)


  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (24.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (24.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (80.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (35.6ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 21:08:42.146670"], ["updated_at", "2021-11-19 21:08:42.146670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 21:08:42.153173"], ["updated_at", "2021-11-19 21:08:42.153173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 21:08:42.211526"], ["updated_at", "2021-11-19 21:08:42.211526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-19 21:08:42.216261"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 21:08:42.237513"], ["updated_at", "2021-11-19 21:08:42.237513"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 21:08:42.297232"], ["updated_at", "2021-11-19 21:08:42.297232"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 21:08:42.326105"], ["updated_at", "2021-11-19 21:08:42.326105"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 21:08:42.344053"], ["updated_at", "2021-11-19 21:08:42.344053"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 21:08:42.349372"], ["updated_at", "2021-11-19 21:08:42.349372"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-19 21:08:42.367732"], ["updated_at", "2021-11-19 21:08:42.367732"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-19 21:08:42.373276"], ["updated_at", "2021-11-19 21:08:42.373276"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-19 21:08:42.378784"], ["updated_at", "2021-11-19 21:08:42.378784"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-19 21:08:42.383554"], ["updated_at", "2021-11-19 21:08:42.383554"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-19 21:08:42.388945"], ["updated_at", "2021-11-19 21:08:42.388945"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-19 21:08:42.394444"], ["updated_at", "2021-11-19 21:08:42.394444"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-19 21:08:42.399717"], ["updated_at", "2021-11-19 21:08:42.399717"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-19 21:08:42.404204"], ["updated_at", "2021-11-19 21:08:42.404204"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-19 21:08:42.408477"], ["updated_at", "2021-11-19 21:08:42.408477"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-19 21:08:42.412768"], ["updated_at", "2021-11-19 21:08:42.412768"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-19 21:08:42.417267"], ["updated_at", "2021-11-19 21:08:42.417267"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-19 21:08:42.421694"], ["updated_at", "2021-11-19 21:08:42.421694"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 21:08:42.426172"], ["updated_at", "2021-11-19 21:08:42.426172"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-19 21:08:42.430526"], ["updated_at", "2021-11-19 21:08:42.430526"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-19 21:08:42.436159"], ["updated_at", "2021-11-19 21:08:42.436159"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-19 21:08:42.440553"], ["updated_at", "2021-11-19 21:08:42.440553"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-19 21:08:42.444984"], ["updated_at", "2021-11-19 21:08:42.444984"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-19 21:08:42.449180"], ["updated_at", "2021-11-19 21:08:42.449180"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 21:08:42.453272"], ["updated_at", "2021-11-19 21:08:42.453272"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-19 21:08:42.457553"], ["updated_at", "2021-11-19 21:08:42.457553"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-19 21:08:42.462298"], ["updated_at", "2021-11-19 21:08:42.462298"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-19 21:08:42.466804"], ["updated_at", "2021-11-19 21:08:42.466804"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-19 21:08:42.484901"], ["updated_at", "2021-11-19 21:08:42.484901"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-19 21:08:42.489393"], ["updated_at", "2021-11-19 21:08:42.489393"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-19 21:08:42.493843"], ["updated_at", "2021-11-19 21:08:42.493843"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-19 21:08:42.498546"], ["updated_at", "2021-11-19 21:08:42.498546"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-19 21:08:42.502855"], ["updated_at", "2021-11-19 21:08:42.502855"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-19 21:08:42.507148"], ["updated_at", "2021-11-19 21:08:42.507148"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-19 21:08:42.511431"], ["updated_at", "2021-11-19 21:08:42.511431"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-19 21:08:42.516001"], ["updated_at", "2021-11-19 21:08:42.516001"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (97.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20211119163009)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163009"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAccounts (20211119163542)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163542"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransactions (20211119163721)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163721"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePortfolios (20211119163903)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163903"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserToAccounts (20211119170947)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119170947"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAccountToTransactions (20211119184501)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119184501"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAccountToPortfolios (20211119185026)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119185026"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferralCodeToUsers (20211120012622)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "referral_code" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120012622"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-20 01:28:26.056089"], ["updated_at", "2021-11-20 01:28:26.056089"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddReferralCountsToAccounts (20211120013655)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD "referral_bonus" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD "signup_bonus" boolean[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120013655"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateReferrals (20211120014208)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120014208"]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserRefToReferrals (20211120014456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120014456"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-11-20 22:38:29 -0500
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 29.0ms | Allocations: 308)
Completed 200 OK in 54ms (Views: 34.4ms | ActiveRecord: 0.0ms | Allocations: 2463)


Started GET "/favicon.ico" for ::1 at 2021-11-20 22:38:30 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/user/login" for ::1 at 2021-11-20 22:38:36 -0500
  
ActionController::RoutingError (No route matches [GET] "/user/login"):
  
Started GET "/api/user/login" for ::1 at 2021-11-20 22:38:47 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/user/login"):
  
Started GET "/api/users/login" for ::1 at 2021-11-20 22:38:58 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `set_user'
Completed 404 Not Found in 53ms (ActiveRecord: 24.4ms | Allocations: 3900)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:44:in `set_user'
Started GET "/api/users/" for ::1 at 2021-11-20 22:39:15 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms | Allocations: 716)


Started GET "/api/users/all" for ::1 at 2021-11-20 22:39:21 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"all"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `set_user'
Completed 404 Not Found in 6ms (ActiveRecord: 0.5ms | Allocations: 543)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=all):
  
app/controllers/users_controller.rb:44:in `set_user'
Started GET "/" for ::1 at 2021-11-21 11:42:19 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 34.7ms | Allocations: 308)
Completed 200 OK in 53ms (Views: 39.9ms | ActiveRecord: 0.0ms | Allocations: 2488)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (73.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (42.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (360.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (358.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (27.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (24.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:26:34.480330"], ["updated_at", "2021-11-21 17:26:34.480330"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:26:34.499560"], ["updated_at", "2021-11-21 17:26:34.499560"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:26:34.729301"], ["updated_at", "2021-11-21 17:26:34.729301"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:26:34.740051"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:26:34.749658"], ["updated_at", "2021-11-21 17:26:34.749658"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:26:34.887905"], ["updated_at", "2021-11-21 17:26:34.887905"]]
  [1m[36mAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:34.949314"], ["updated_at", "2021-11-21 17:26:34.949314"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:26:34.959653"], ["updated_at", "2021-11-21 17:26:34.959653"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:26:34.995306"], ["updated_at", "2021-11-21 17:26:34.995306"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:26:35.003581"], ["updated_at", "2021-11-21 17:26:35.003581"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:26:35.018764"], ["updated_at", "2021-11-21 17:26:35.018764"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:26:35.024763"], ["updated_at", "2021-11-21 17:26:35.024763"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:26:35.045990"], ["updated_at", "2021-11-21 17:26:35.045990"]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.049123"], ["updated_at", "2021-11-21 17:26:35.049123"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.053715"], ["updated_at", "2021-11-21 17:26:35.053715"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:26:35.059207"], ["updated_at", "2021-11-21 17:26:35.059207"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:26:35.064980"], ["updated_at", "2021-11-21 17:26:35.064980"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:26:35.070927"], ["updated_at", "2021-11-21 17:26:35.070927"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:26:35.075441"], ["updated_at", "2021-11-21 17:26:35.075441"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:26:35.083197"], ["updated_at", "2021-11-21 17:26:35.083197"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.085666"], ["updated_at", "2021-11-21 17:26:35.085666"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.090419"], ["updated_at", "2021-11-21 17:26:35.090419"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:26:35.096748"], ["updated_at", "2021-11-21 17:26:35.096748"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:26:35.103711"], ["updated_at", "2021-11-21 17:26:35.103711"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:26:35.109441"], ["updated_at", "2021-11-21 17:26:35.109441"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:26:35.114252"], ["updated_at", "2021-11-21 17:26:35.114252"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:26:35.120038"], ["updated_at", "2021-11-21 17:26:35.120038"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:26:35.124507"], ["updated_at", "2021-11-21 17:26:35.124507"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:26:35.129188"], ["updated_at", "2021-11-21 17:26:35.129188"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:26:35.133930"], ["updated_at", "2021-11-21 17:26:35.133930"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:26:35.140000"], ["updated_at", "2021-11-21 17:26:35.140000"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.142022"], ["updated_at", "2021-11-21 17:26:35.142022"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.145417"], ["updated_at", "2021-11-21 17:26:35.145417"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:26:35.150366"], ["updated_at", "2021-11-21 17:26:35.150366"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:26:35.154907"], ["updated_at", "2021-11-21 17:26:35.154907"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:26:35.159760"], ["updated_at", "2021-11-21 17:26:35.159760"], ["account_id", 8]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:26:35.168043"], ["updated_at", "2021-11-21 17:26:35.168043"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:26:35.181019"], ["updated_at", "2021-11-21 17:26:35.181019"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:26:35.186339"], ["updated_at", "2021-11-21 17:26:35.186339"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:26:35.191095"], ["updated_at", "2021-11-21 17:26:35.191095"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:26:35.195990"], ["updated_at", "2021-11-21 17:26:35.195990"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:26:35.200694"], ["updated_at", "2021-11-21 17:26:35.200694"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:26:35.205733"], ["updated_at", "2021-11-21 17:26:35.205733"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (40.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (366.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (33.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (362.8ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (40.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (34.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (361.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (362.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:34:25.273658"], ["updated_at", "2021-11-21 17:34:25.273658"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:34:25.296984"], ["updated_at", "2021-11-21 17:34:25.296984"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:34:25.514799"], ["updated_at", "2021-11-21 17:34:25.514799"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:34:25.537082"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:34:25.559757"], ["updated_at", "2021-11-21 17:34:25.559757"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:34:25.616657"], ["updated_at", "2021-11-21 17:34:25.616657"]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.629926"], ["updated_at", "2021-11-21 17:34:25.629926"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:34:25.634941"], ["updated_at", "2021-11-21 17:34:25.634941"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:34:25.646049"], ["updated_at", "2021-11-21 17:34:25.646049"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:34:25.651641"], ["updated_at", "2021-11-21 17:34:25.651641"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:34:25.666149"], ["updated_at", "2021-11-21 17:34:25.666149"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:34:25.671592"], ["updated_at", "2021-11-21 17:34:25.671592"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:34:25.678624"], ["updated_at", "2021-11-21 17:34:25.678624"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.680882"], ["updated_at", "2021-11-21 17:34:25.680882"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.684508"], ["updated_at", "2021-11-21 17:34:25.684508"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:34:25.700278"], ["updated_at", "2021-11-21 17:34:25.700278"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:34:25.704854"], ["updated_at", "2021-11-21 17:34:25.704854"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:34:25.710519"], ["updated_at", "2021-11-21 17:34:25.710519"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:34:25.715603"], ["updated_at", "2021-11-21 17:34:25.715603"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:34:25.725173"], ["updated_at", "2021-11-21 17:34:25.725173"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.730656"], ["updated_at", "2021-11-21 17:34:25.730656"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.736246"], ["updated_at", "2021-11-21 17:34:25.736246"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:34:25.741635"], ["updated_at", "2021-11-21 17:34:25.741635"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:34:25.747670"], ["updated_at", "2021-11-21 17:34:25.747670"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:34:25.752515"], ["updated_at", "2021-11-21 17:34:25.752515"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:34:25.757253"], ["updated_at", "2021-11-21 17:34:25.757253"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:34:25.762329"], ["updated_at", "2021-11-21 17:34:25.762329"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:34:25.766850"], ["updated_at", "2021-11-21 17:34:25.766850"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:34:25.771545"], ["updated_at", "2021-11-21 17:34:25.771545"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:34:25.776664"], ["updated_at", "2021-11-21 17:34:25.776664"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:34:25.783814"], ["updated_at", "2021-11-21 17:34:25.783814"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.785709"], ["updated_at", "2021-11-21 17:34:25.785709"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.789481"], ["updated_at", "2021-11-21 17:34:25.789481"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:34:25.794095"], ["updated_at", "2021-11-21 17:34:25.794095"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:34:25.798665"], ["updated_at", "2021-11-21 17:34:25.798665"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:34:25.803262"], ["updated_at", "2021-11-21 17:34:25.803262"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:34:25.807823"], ["updated_at", "2021-11-21 17:34:25.807823"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:34:25.813111"], ["updated_at", "2021-11-21 17:34:25.813111"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:34:25.818252"], ["updated_at", "2021-11-21 17:34:25.818252"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:34:25.822784"], ["updated_at", "2021-11-21 17:34:25.822784"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:34:25.827137"], ["updated_at", "2021-11-21 17:34:25.827137"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:34:25.831966"], ["updated_at", "2021-11-21 17:34:25.831966"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:34:25.836752"], ["updated_at", "2021-11-21 17:34:25.836752"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (35.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (354.2ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (37.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (36.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (356.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:49:14.872533"], ["updated_at", "2021-11-21 17:49:14.872533"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:49:14.881282"], ["updated_at", "2021-11-21 17:49:14.881282"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:49:15.080935"], ["updated_at", "2021-11-21 17:49:15.080935"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (2.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:49:15.093162"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:49:15.105780"], ["updated_at", "2021-11-21 17:49:15.105780"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:49:15.149686"], ["updated_at", "2021-11-21 17:49:15.149686"]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.162579"], ["updated_at", "2021-11-21 17:49:15.162579"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:49:15.167263"], ["updated_at", "2021-11-21 17:49:15.167263"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:49:15.177733"], ["updated_at", "2021-11-21 17:49:15.177733"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:49:15.182487"], ["updated_at", "2021-11-21 17:49:15.182487"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:49:15.200909"], ["updated_at", "2021-11-21 17:49:15.200909"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:49:15.208027"], ["updated_at", "2021-11-21 17:49:15.208027"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:49:15.219014"], ["updated_at", "2021-11-21 17:49:15.219014"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.221547"], ["updated_at", "2021-11-21 17:49:15.221547"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.225769"], ["updated_at", "2021-11-21 17:49:15.225769"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:49:15.242884"], ["updated_at", "2021-11-21 17:49:15.242884"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:49:15.247570"], ["updated_at", "2021-11-21 17:49:15.247570"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:49:15.252239"], ["updated_at", "2021-11-21 17:49:15.252239"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:49:15.256861"], ["updated_at", "2021-11-21 17:49:15.256861"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:49:15.262814"], ["updated_at", "2021-11-21 17:49:15.262814"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.264623"], ["updated_at", "2021-11-21 17:49:15.264623"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.268402"], ["updated_at", "2021-11-21 17:49:15.268402"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:49:15.272944"], ["updated_at", "2021-11-21 17:49:15.272944"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:49:15.277421"], ["updated_at", "2021-11-21 17:49:15.277421"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:49:15.281811"], ["updated_at", "2021-11-21 17:49:15.281811"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:49:15.287557"], ["updated_at", "2021-11-21 17:49:15.287557"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:49:15.295999"], ["updated_at", "2021-11-21 17:49:15.295999"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:49:15.302416"], ["updated_at", "2021-11-21 17:49:15.302416"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:49:15.307891"], ["updated_at", "2021-11-21 17:49:15.307891"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:49:15.312893"], ["updated_at", "2021-11-21 17:49:15.312893"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:49:15.319399"], ["updated_at", "2021-11-21 17:49:15.319399"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.321423"], ["updated_at", "2021-11-21 17:49:15.321423"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.325341"], ["updated_at", "2021-11-21 17:49:15.325341"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:49:15.330433"], ["updated_at", "2021-11-21 17:49:15.330433"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:49:15.335016"], ["updated_at", "2021-11-21 17:49:15.335016"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:49:15.339597"], ["updated_at", "2021-11-21 17:49:15.339597"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:49:15.344126"], ["updated_at", "2021-11-21 17:49:15.344126"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:49:15.348447"], ["updated_at", "2021-11-21 17:49:15.348447"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:49:15.353095"], ["updated_at", "2021-11-21 17:49:15.353095"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:49:15.357605"], ["updated_at", "2021-11-21 17:49:15.357605"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:49:15.361842"], ["updated_at", "2021-11-21 17:49:15.361842"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:49:15.366021"], ["updated_at", "2021-11-21 17:49:15.366021"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:49:15.370314"], ["updated_at", "2021-11-21 17:49:15.370314"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (58.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (32.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (358.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (354.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:50:25.003050"], ["updated_at", "2021-11-21 17:50:25.003050"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:50:25.017613"], ["updated_at", "2021-11-21 17:50:25.017613"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:50:25.225689"], ["updated_at", "2021-11-21 17:50:25.225689"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:50:25.233089"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:50:25.239785"], ["updated_at", "2021-11-21 17:50:25.239785"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:50:25.288114"], ["updated_at", "2021-11-21 17:50:25.288114"]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.306411"], ["updated_at", "2021-11-21 17:50:25.306411"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:50:25.315289"], ["updated_at", "2021-11-21 17:50:25.315289"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:50:25.338278"], ["updated_at", "2021-11-21 17:50:25.338278"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:50:25.345212"], ["updated_at", "2021-11-21 17:50:25.345212"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:50:25.361293"], ["updated_at", "2021-11-21 17:50:25.361293"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:50:25.368243"], ["updated_at", "2021-11-21 17:50:25.368243"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:50:25.377387"], ["updated_at", "2021-11-21 17:50:25.377387"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.380016"], ["updated_at", "2021-11-21 17:50:25.380016"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.384471"], ["updated_at", "2021-11-21 17:50:25.384471"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:50:25.389639"], ["updated_at", "2021-11-21 17:50:25.389639"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:50:25.406952"], ["updated_at", "2021-11-21 17:50:25.406952"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:50:25.411540"], ["updated_at", "2021-11-21 17:50:25.411540"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:50:25.415736"], ["updated_at", "2021-11-21 17:50:25.415736"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:50:25.421989"], ["updated_at", "2021-11-21 17:50:25.421989"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.423823"], ["updated_at", "2021-11-21 17:50:25.423823"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.427086"], ["updated_at", "2021-11-21 17:50:25.427086"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:50:25.431681"], ["updated_at", "2021-11-21 17:50:25.431681"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:50:25.435761"], ["updated_at", "2021-11-21 17:50:25.435761"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:50:25.439711"], ["updated_at", "2021-11-21 17:50:25.439711"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:50:25.443671"], ["updated_at", "2021-11-21 17:50:25.443671"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:50:25.447810"], ["updated_at", "2021-11-21 17:50:25.447810"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:50:25.451951"], ["updated_at", "2021-11-21 17:50:25.451951"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:50:25.456048"], ["updated_at", "2021-11-21 17:50:25.456048"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:50:25.459949"], ["updated_at", "2021-11-21 17:50:25.459949"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:50:25.465383"], ["updated_at", "2021-11-21 17:50:25.465383"]]
  [1m[36mAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.467167"], ["updated_at", "2021-11-21 17:50:25.467167"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.470337"], ["updated_at", "2021-11-21 17:50:25.470337"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:50:25.475065"], ["updated_at", "2021-11-21 17:50:25.475065"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:50:25.479277"], ["updated_at", "2021-11-21 17:50:25.479277"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:50:25.483514"], ["updated_at", "2021-11-21 17:50:25.483514"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:50:25.487696"], ["updated_at", "2021-11-21 17:50:25.487696"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:50:25.491946"], ["updated_at", "2021-11-21 17:50:25.491946"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:50:25.496570"], ["updated_at", "2021-11-21 17:50:25.496570"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:50:25.500715"], ["updated_at", "2021-11-21 17:50:25.500715"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:50:25.504937"], ["updated_at", "2021-11-21 17:50:25.504937"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:50:25.509093"], ["updated_at", "2021-11-21 17:50:25.509093"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:50:25.513288"], ["updated_at", "2021-11-21 17:50:25.513288"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (40.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (31.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (358.7ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (353.2ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:30:27.589220"], ["updated_at", "2021-11-21 18:30:27.589220"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:30:27.600466"], ["updated_at", "2021-11-21 18:30:27.600466"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:30:27.815848"], ["updated_at", "2021-11-21 18:30:27.815848"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 18:30:27.829693"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:30:27.841942"], ["updated_at", "2021-11-21 18:30:27.841942"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:30:27.900599"], ["updated_at", "2021-11-21 18:30:27.900599"]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:27.913274"], ["updated_at", "2021-11-21 18:30:27.913274"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 18:30:27.918342"], ["updated_at", "2021-11-21 18:30:27.918342"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:30:27.929320"], ["updated_at", "2021-11-21 18:30:27.929320"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 18:30:27.934217"], ["updated_at", "2021-11-21 18:30:27.934217"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:30:27.944870"], ["updated_at", "2021-11-21 18:30:27.944870"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 18:30:27.951121"], ["updated_at", "2021-11-21 18:30:27.951121"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 18:30:27.972305"], ["updated_at", "2021-11-21 18:30:27.972305"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:27.975294"], ["updated_at", "2021-11-21 18:30:27.975294"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:27.978905"], ["updated_at", "2021-11-21 18:30:27.978905"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 18:30:27.983827"], ["updated_at", "2021-11-21 18:30:27.983827"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 18:30:27.988228"], ["updated_at", "2021-11-21 18:30:27.988228"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 18:30:27.992695"], ["updated_at", "2021-11-21 18:30:27.992695"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 18:30:27.997010"], ["updated_at", "2021-11-21 18:30:27.997010"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 18:30:28.003499"], ["updated_at", "2021-11-21 18:30:28.003499"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.005359"], ["updated_at", "2021-11-21 18:30:28.005359"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.008783"], ["updated_at", "2021-11-21 18:30:28.008783"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 18:30:28.013190"], ["updated_at", "2021-11-21 18:30:28.013190"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 18:30:28.017380"], ["updated_at", "2021-11-21 18:30:28.017380"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:30:28.021383"], ["updated_at", "2021-11-21 18:30:28.021383"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 18:30:28.025381"], ["updated_at", "2021-11-21 18:30:28.025381"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 18:30:28.029708"], ["updated_at", "2021-11-21 18:30:28.029708"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 18:30:28.034229"], ["updated_at", "2021-11-21 18:30:28.034229"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:30:28.038602"], ["updated_at", "2021-11-21 18:30:28.038602"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 18:30:28.042772"], ["updated_at", "2021-11-21 18:30:28.042772"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:30:28.048703"], ["updated_at", "2021-11-21 18:30:28.048703"]]
  [1m[36mAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.050573"], ["updated_at", "2021-11-21 18:30:28.050573"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.054288"], ["updated_at", "2021-11-21 18:30:28.054288"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 18:30:28.058517"], ["updated_at", "2021-11-21 18:30:28.058517"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 18:30:28.062447"], ["updated_at", "2021-11-21 18:30:28.062447"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 18:30:28.066344"], ["updated_at", "2021-11-21 18:30:28.066344"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 18:30:28.070317"], ["updated_at", "2021-11-21 18:30:28.070317"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 18:30:28.075598"], ["updated_at", "2021-11-21 18:30:28.075598"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 18:30:28.083999"], ["updated_at", "2021-11-21 18:30:28.083999"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 18:30:28.091532"], ["updated_at", "2021-11-21 18:30:28.091532"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 18:30:28.099344"], ["updated_at", "2021-11-21 18:30:28.099344"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 18:30:28.105373"], ["updated_at", "2021-11-21 18:30:28.105373"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 18:30:28.110529"], ["updated_at", "2021-11-21 18:30:28.110529"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (33.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (145.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (363.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (357.2ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:32:14.348996"], ["updated_at", "2021-11-21 18:32:14.348996"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:32:14.359054"], ["updated_at", "2021-11-21 18:32:14.359054"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:32:14.562388"], ["updated_at", "2021-11-21 18:32:14.562388"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 18:32:14.574396"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:32:14.582226"], ["updated_at", "2021-11-21 18:32:14.582226"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:32:14.622194"], ["updated_at", "2021-11-21 18:32:14.622194"]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.634798"], ["updated_at", "2021-11-21 18:32:14.634798"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 18:32:14.638869"], ["updated_at", "2021-11-21 18:32:14.638869"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:32:14.649576"], ["updated_at", "2021-11-21 18:32:14.649576"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 18:32:14.654156"], ["updated_at", "2021-11-21 18:32:14.654156"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:32:14.664643"], ["updated_at", "2021-11-21 18:32:14.664643"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 18:32:14.669231"], ["updated_at", "2021-11-21 18:32:14.669231"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 18:32:14.683713"], ["updated_at", "2021-11-21 18:32:14.683713"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.686758"], ["updated_at", "2021-11-21 18:32:14.686758"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.690316"], ["updated_at", "2021-11-21 18:32:14.690316"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 18:32:14.695102"], ["updated_at", "2021-11-21 18:32:14.695102"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 18:32:14.699337"], ["updated_at", "2021-11-21 18:32:14.699337"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 18:32:14.703597"], ["updated_at", "2021-11-21 18:32:14.703597"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 18:32:14.707721"], ["updated_at", "2021-11-21 18:32:14.707721"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 18:32:14.713793"], ["updated_at", "2021-11-21 18:32:14.713793"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.715729"], ["updated_at", "2021-11-21 18:32:14.715729"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.719222"], ["updated_at", "2021-11-21 18:32:14.719222"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 18:32:14.723677"], ["updated_at", "2021-11-21 18:32:14.723677"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 18:32:14.727944"], ["updated_at", "2021-11-21 18:32:14.727944"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:32:14.732294"], ["updated_at", "2021-11-21 18:32:14.732294"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 18:32:14.736492"], ["updated_at", "2021-11-21 18:32:14.736492"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 18:32:14.743530"], ["updated_at", "2021-11-21 18:32:14.743530"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 18:32:14.753671"], ["updated_at", "2021-11-21 18:32:14.753671"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:32:14.760352"], ["updated_at", "2021-11-21 18:32:14.760352"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 18:32:14.765638"], ["updated_at", "2021-11-21 18:32:14.765638"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:32:14.772647"], ["updated_at", "2021-11-21 18:32:14.772647"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.774782"], ["updated_at", "2021-11-21 18:32:14.774782"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.778275"], ["updated_at", "2021-11-21 18:32:14.778275"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 18:32:14.782773"], ["updated_at", "2021-11-21 18:32:14.782773"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 18:32:14.786976"], ["updated_at", "2021-11-21 18:32:14.786976"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 18:32:14.792725"], ["updated_at", "2021-11-21 18:32:14.792725"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 18:32:14.801341"], ["updated_at", "2021-11-21 18:32:14.801341"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 18:32:14.807588"], ["updated_at", "2021-11-21 18:32:14.807588"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 18:32:14.813572"], ["updated_at", "2021-11-21 18:32:14.813572"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 18:32:14.818926"], ["updated_at", "2021-11-21 18:32:14.818926"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 18:32:14.824201"], ["updated_at", "2021-11-21 18:32:14.824201"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 18:32:14.829751"], ["updated_at", "2021-11-21 18:32:14.829751"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 18:32:14.834939"], ["updated_at", "2021-11-21 18:32:14.834939"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-11-21 16:13:27 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 34.1ms | Allocations: 308)
Completed 200 OK in 55ms (Views: 39.3ms | ActiveRecord: 0.0ms | Allocations: 2488)


Started GET "/login" for ::1 at 2021-11-21 16:13:34 -0500
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/api/users/login" for ::1 at 2021-11-21 16:13:47 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/users/login"):
  
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:29:36 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:30:05 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:31:09 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:31:23 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:31:29 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:31:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2", "settled_price"=>"310.14", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 32ms (Views: 11.2ms | ActiveRecord: 5.7ms | Allocations: 12317)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:31:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2", "settled_price"=>"310.14", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 8ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 849)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:33:14 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2", "settled_price"=>"310.14", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 669)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:33:35 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2.3", "settled_price"=>"356.66", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 6ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:33:53 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2.3", "settled_price"=>"356.66", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:34:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>""}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 123)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:34:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>"1.7", "settled_price"=>"263.62", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 9ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:35:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>"1.7", "settled_price"=>"263.62", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:35:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>"1.7", "settled_price"=>"263.62", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 21ms (Views: 19.5ms | ActiveRecord: 0.0ms | Allocations: 663)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:36:01 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1.7, "settled_price"=>263.62, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 5ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:37:04 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:37:10 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:39:13 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:39:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 118)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:39:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.3, "settled_price"=>201.59, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:41:01 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:41:10 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:41:51 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:42:12 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:42:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:42:25 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1.6, "settled_price"=>248.11, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/transactions" for ::1 at 2021-11-21 17:42:54 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (2.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 2.1ms | Allocations: 2175)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:23 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:39 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:43 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:52 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:19 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:21 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 3ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:45 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:59:04 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:05:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:05:45 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:07:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:07:10 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:08:31 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:08:35 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 29ms (Views: 0.6ms | ActiveRecord: 6.3ms | Allocations: 3816)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:08 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:20 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:25 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:44 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:48 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:11:29 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:13:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:13:21 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:17:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:18:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:20:29 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:20:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:20:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:29 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:06 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:40 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:45 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:48 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:25:00 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:25:41 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:32 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:59 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:43:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 56ms (Views: 4.7ms | ActiveRecord: 15.7ms | Allocations: 3765)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:43:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:44:20 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:46:12 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:46:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:46:24 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:03 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:25 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:30 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:52 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:49:55 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:50:20 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:30 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 30ms (Views: 0.6ms | ActiveRecord: 5.7ms | Allocations: 3766)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:48 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:52:31 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:52:53 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:53:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:54:58 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:08 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:22 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:46 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:57:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:59:50 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:59:52 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:00:25 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:00:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 6ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:01:01 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:01:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:02:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:03:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:03:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:38 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:44 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:50 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 18ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:56 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:59 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 9ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:05 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:09 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 6ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:10 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 11ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:13 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:35 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:06:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:34 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:39 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:41 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:44 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 5ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:50:27 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 55ms (ActiveRecord: 0.0ms | Allocations: 4283)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 87ms (Views: 8.0ms | ActiveRecord: 22.6ms | Allocations: 14511)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 694)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 131)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:47 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1.4, "settled_price"=>217.1}}
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 657)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:21:39 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1.4, "settled_price"=>217.1}}
Completed 422 Unprocessable Entity in 23ms (Views: 1.3ms | ActiveRecord: 5.8ms | Allocations: 7685)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:21:50 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 125)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:21:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.1, "settled_price"=>170.58, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 688)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:22:41 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 593)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:22:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.1, "settled_price"=>170.58, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (2.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 170], ["created_at", "2021-11-22 01:22:44.496703"], ["updated_at", "2021-11-22 01:22:44.496703"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 77ms (Views: 1.7ms | ActiveRecord: 21.5ms | Allocations: 14868)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:31:13 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.9, "settled_price"=>294.63, "account_id"=>1}}
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 294], ["created_at", "2021-11-22 01:31:13.951894"], ["updated_at", "2021-11-22 01:31:13.951894"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 41ms (Views: 0.7ms | ActiveRecord: 8.9ms | Allocations: 15840)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:42:16 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>5, "settled_price"=>775.35, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 5], ["settled_price", 775], ["created_at", "2021-11-22 01:42:16.265468"], ["updated_at", "2021-11-22 01:42:16.265468"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 57ms (ActiveRecord: 5.4ms | Allocations: 17851)


  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `cash_balance' for #<Account::ActiveRecord_Relation:0x000055e3ea1d48f8>):
  
app/models/transaction.rb:13:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:45:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.8, "settled_price"=>279.13, "account_id"=>1}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 279], ["created_at", "2021-11-22 01:45:51.942720"], ["updated_at", "2021-11-22 01:45:51.942720"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 15.9ms | Allocations: 14027)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/models/transaction.rb:13:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:47:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 01:47:42.993534"], ["updated_at", "2021-11-22 01:47:42.993534"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:14:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 8.6ms | Allocations: 14659)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:49:12 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 217], ["created_at", "2021-11-22 01:49:12.715281"], ["updated_at", "2021-11-22 01:49:12.715281"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 43ms (ActiveRecord: 7.3ms | Allocations: 16167)


  [1m[36mCACHE Account Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `cash_balance' for #<Account::ActiveRecord_Relation:0x00007fbcbc012a18>):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:51:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 217], ["created_at", "2021-11-22 01:51:48.559260"], ["updated_at", "2021-11-22 01:51:48.559260"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 6.3ms | Allocations: 16168)


  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `cash_balance' for #<Account::ActiveRecord_Relation:0x00007fbcc11f2838>):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:53:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 217], ["created_at", "2021-11-22 01:53:07.984946"], ["updated_at", "2021-11-22 01:53:07.984946"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:14:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 8.4ms | Allocations: 14605)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5013.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5008.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5008.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (43.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (39.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (820.2ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (370.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (49.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:58:46.334026"], ["updated_at", "2021-11-22 01:58:46.334026"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:58:46.346632"], ["updated_at", "2021-11-22 01:58:46.346632"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:58:46.526599"], ["updated_at", "2021-11-22 01:58:46.526599"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 01:58:46.536361"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:58:46.542110"], ["updated_at", "2021-11-22 01:58:46.542110"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 01:58:46.607957"], ["updated_at", "2021-11-22 01:58:46.607957"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 01:58:46.636498"], ["updated_at", "2021-11-22 01:58:46.636498"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (2.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 01:58:46.655286"], ["updated_at", "2021-11-22 01:58:46.655286"], ["account_id", 1]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 01:58:46.669651"], ["updated_at", "2021-11-22 01:58:46.669651"], ["account_id", 1]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 01:58:46.698828"], ["updated_at", "2021-11-22 01:58:46.698828"], ["account_id", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:14:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (61.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (33.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (356.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (21.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:59:14.818241"], ["updated_at", "2021-11-22 01:59:14.818241"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (5.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:59:14.832873"], ["updated_at", "2021-11-22 01:59:14.832873"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:59:15.022403"], ["updated_at", "2021-11-22 01:59:15.022403"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 01:59:15.031128"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:59:15.038316"], ["updated_at", "2021-11-22 01:59:15.038316"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 01:59:15.095063"], ["updated_at", "2021-11-22 01:59:15.095063"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 01:59:15.122427"], ["updated_at", "2021-11-22 01:59:15.122427"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 01:59:15.137214"], ["updated_at", "2021-11-22 01:59:15.137214"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 01:59:15.146013"], ["updated_at", "2021-11-22 01:59:15.146013"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 01:59:15.166289"], ["updated_at", "2021-11-22 01:59:15.166289"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 01:59:15.189854"], ["updated_at", "2021-11-22 01:59:15.189854"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 01:59:15.198712"], ["updated_at", "2021-11-22 01:59:15.198712"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 01:59:15.207773"], ["updated_at", "2021-11-22 01:59:15.207773"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 01:59:15.213365"], ["updated_at", "2021-11-22 01:59:15.213365"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 01:59:15.220607"], ["updated_at", "2021-11-22 01:59:15.220607"], ["account_id", 2]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 01:59:15.234113"], ["updated_at", "2021-11-22 01:59:15.234113"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 01:59:15.242475"], ["updated_at", "2021-11-22 01:59:15.242475"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 01:59:15.248984"], ["updated_at", "2021-11-22 01:59:15.248984"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 01:59:15.258569"], ["updated_at", "2021-11-22 01:59:15.258569"], ["user_id", 3]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 01:59:15.266104"], ["updated_at", "2021-11-22 01:59:15.266104"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 01:59:15.273643"], ["updated_at", "2021-11-22 01:59:15.273643"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 01:59:15.281416"], ["updated_at", "2021-11-22 01:59:15.281416"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 01:59:15.288345"], ["updated_at", "2021-11-22 01:59:15.288345"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 01:59:15.304899"], ["updated_at", "2021-11-22 01:59:15.304899"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 01:59:15.312031"], ["updated_at", "2021-11-22 01:59:15.312031"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 01:59:15.322998"], ["updated_at", "2021-11-22 01:59:15.322998"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 01:59:15.330907"], ["updated_at", "2021-11-22 01:59:15.330907"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 01:59:15.340457"], ["updated_at", "2021-11-22 01:59:15.340457"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 01:59:15.349662"], ["updated_at", "2021-11-22 01:59:15.349662"], ["user_id", 4]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 01:59:15.358188"], ["updated_at", "2021-11-22 01:59:15.358188"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 01:59:15.365910"], ["updated_at", "2021-11-22 01:59:15.365910"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 01:59:15.373386"], ["updated_at", "2021-11-22 01:59:15.373386"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 01:59:15.381782"], ["updated_at", "2021-11-22 01:59:15.381782"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 01:59:15.390018"], ["updated_at", "2021-11-22 01:59:15.390018"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 01:59:15.398604"], ["updated_at", "2021-11-22 01:59:15.398604"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 01:59:15.406846"], ["updated_at", "2021-11-22 01:59:15.406846"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 01:59:15.418394"], ["updated_at", "2021-11-22 01:59:15.418394"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 01:59:15.428962"], ["updated_at", "2021-11-22 01:59:15.428962"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 01:59:15.439646"], ["updated_at", "2021-11-22 01:59:15.439646"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:15:54 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 14:15:55.085037"], ["updated_at", "2021-11-22 14:15:55.085037"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 68ms (Views: 1.2ms | ActiveRecord: 9.5ms | Allocations: 19349)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:24:06 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (1.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 14:24:06.176194"], ["updated_at", "2021-11-22 14:24:06.176194"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 29ms (Views: 1.3ms | ActiveRecord: 7.5ms | Allocations: 6045)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transacs" for ::1 at 2021-11-22 09:24:38 -0500
  
ActionController::RoutingError (No route matches [POST] "/api/transacs"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transacs" for ::1 at 2021-11-22 09:25:04 -0500
  
ActionController::RoutingError (No route matches [POST] "/api/transacs"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transacs" for ::1 at 2021-11-22 09:25:49 -0500
  
ActionController::RoutingError (No route matches [POST] "/api/transacs"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/transactions" for ::1 at 2021-11-22 09:35:23 -0500
Processing by TransactionsController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 277)


  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/transaction.rb:13: syntax error, unexpected '}', expecting =>
...ccount.find_by(id: {account_id})
...                              ^):
  
app/models/transaction.rb:13: syntax error, unexpected '}', expecting =>
app/models/transaction.rb:13: syntax error, unexpected '}', expecting =>
app/controllers/transactions_controller.rb:6:in `index'
Started GET "/api/transactions" for ::1 at 2021-11-22 09:35:44 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 6.0ms | Allocations: 10092)


Started GET "/api/transactions" for ::1 at 2021-11-22 09:36:16 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 1.3ms | Allocations: 2233)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:39:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>20, "settled_price"=>3101.4, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 20], ["settled_price", 3101], ["created_at", "2021-11-22 14:39:07.569023"], ["updated_at", "2021-11-22 14:39:07.569023"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 26ms (Views: 0.5ms | ActiveRecord: 8.3ms | Allocations: 14569)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:43:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>500, "settled_price"=>77535, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 500], ["settled_price", 77535], ["created_at", "2021-11-22 14:43:34.469203"], ["updated_at", "2021-11-22 14:43:34.469203"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 23ms (Views: 0.5ms | ActiveRecord: 6.5ms | Allocations: 14204)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:45:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>10, "settled_price"=>1550.7, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 10], ["settled_price", 1550], ["created_at", "2021-11-22 14:45:34.825800"], ["updated_at", "2021-11-22 14:45:34.825800"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 25ms (Views: 0.5ms | ActiveRecord: 6.8ms | Allocations: 14187)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:55:57 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>90, "settled_price"=>13956.3, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 90], ["settled_price", 13956], ["created_at", "2021-11-22 14:55:57.898421"], ["updated_at", "2021-11-22 14:55:57.898421"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 28ms (Views: 0.5ms | ActiveRecord: 6.4ms | Allocations: 16563)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 10:04:12 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>90, "settled_price"=>13956.3, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 90], ["settled_price", 13956], ["created_at", "2021-11-22 15:04:13.061437"], ["updated_at", "2021-11-22 15:04:13.061437"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 94ms (ActiveRecord: 8.6ms | Allocations: 18892)


  
NameError (undefined local variable or method `current_balance_from_account' for #<Transaction:0x00007f4afc1de1a8>):
  
app/models/transaction.rb:25:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 10:10:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>0.4, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (3.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 155], ["created_at", "2021-11-22 15:10:42.078536"], ["updated_at", "2021-11-22 15:10:42.078536"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 19.5ms | Allocations: 9093)


  
NameError (undefined local variable or method `current_balance_from_account' for #<Transaction:0x00007f4b055ec020>):
  
app/models/transaction.rb:25:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 10:11:01 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 15:11:01.570911"], ["updated_at", "2021-11-22 15:11:01.570911"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 46ms (Views: 0.7ms | ActiveRecord: 11.1ms | Allocations: 13655)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 11:57:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (1.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 16:57:51.485155"], ["updated_at", "2021-11-22 16:57:51.485155"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1845], ["stock_balance", 9721], ["updated_at", "2021-11-22 16:57:51.503818"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 180ms (Views: 2.2ms | ActiveRecord: 16.3ms | Allocations: 23865)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 11:59:22 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>14, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 14], ["settled_price", 155], ["created_at", "2021-11-22 16:59:22.705058"], ["updated_at", "2021-11-22 16:59:22.705058"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -325], ["stock_balance", 11891], ["updated_at", "2021-11-22 16:59:22.713687"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 25ms (Views: 0.5ms | ActiveRecord: 5.0ms | Allocations: 4908)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:01:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>60, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 60], ["settled_price", 155], ["created_at", "2021-11-22 17:01:26.289525"], ["updated_at", "2021-11-22 17:01:26.289525"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 8975], ["stock_balance", 2591], ["updated_at", "2021-11-22 17:01:26.296872"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 20ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 4908)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:04:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:04:07.883740"], ["updated_at", "2021-11-22 17:04:07.883740"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 8820], ["stock_balance", 2746], ["updated_at", "2021-11-22 17:04:07.895686"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 36ms (Views: 0.5ms | ActiveRecord: 10.1ms | Allocations: 21041)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/transactions" for ::1 at 2021-11-22 12:16:39 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 4.5ms | Allocations: 10712)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:17:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1224)


  
NoMethodError (undefined method `account_id' for #<TransactionsController:0x007f4b04f7d9f0>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:18:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 724)


  
NoMethodError (undefined method `transacation' for #<ActionController::Parameters:0x000056518aae9cf0>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:18:54 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 779)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x0000565189d61e48>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:19:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 827)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x00007f4b0560d928>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:19:58 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 757)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x00007f4b0453aa10>):
  
app/controllers/transactions_controller.rb:19:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:20:18 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 817)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x00007f4b044a97b8>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/accounts" for ::1 at 2021-11-22 12:22:27 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 148)


Started GET "/api/transactions" for ::1 at 2021-11-22 12:22:45 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 61ms (Views: 37.1ms | ActiveRecord: 19.1ms | Allocations: 7971)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5030.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (43.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (42.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (834.7ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (353.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (40.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:23:32.791641"], ["updated_at", "2021-11-22 17:23:32.791641"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:23:32.798846"], ["updated_at", "2021-11-22 17:23:32.798846"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (34.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:23:33.046412"], ["updated_at", "2021-11-22 17:23:33.046412"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 17:23:33.062075"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:23:33.074322"], ["updated_at", "2021-11-22 17:23:33.074322"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:23:33.187656"], ["updated_at", "2021-11-22 17:23:33.187656"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 17:23:33.249965"], ["updated_at", "2021-11-22 17:23:33.249965"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:23:33.262896"], ["updated_at", "2021-11-22 17:23:33.262896"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 17:23:33.269679"], ["updated_at", "2021-11-22 17:23:33.269679"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:23:33.295227"], ["updated_at", "2021-11-22 17:23:33.295227"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 17:23:33.300283"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 17:23:33.317082"], ["updated_at", "2021-11-22 17:23:33.317082"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 17:23:33.321394"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 17:23:33.327640"], ["updated_at", "2021-11-22 17:23:33.327640"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 17:23:33.333881"], ["updated_at", "2021-11-22 17:23:33.333881"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 17:23:33.337659"], ["updated_at", "2021-11-22 17:23:33.337659"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 17:23:33.342078"], ["updated_at", "2021-11-22 17:23:33.342078"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 17:23:33.349426"], ["updated_at", "2021-11-22 17:23:33.349426"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 17:23:33.353543"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 17:23:33.359762"], ["updated_at", "2021-11-22 17:23:33.359762"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 17:23:33.364464"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 17:23:33.374891"], ["updated_at", "2021-11-22 17:23:33.374891"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 17:23:33.384692"], ["updated_at", "2021-11-22 17:23:33.384692"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 17:23:33.390748"], ["updated_at", "2021-11-22 17:23:33.390748"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 17:23:33.396509"], ["updated_at", "2021-11-22 17:23:33.396509"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:23:33.401547"], ["updated_at", "2021-11-22 17:23:33.401547"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 17:23:33.405770"], ["updated_at", "2021-11-22 17:23:33.405770"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 17:23:33.411906"], ["updated_at", "2021-11-22 17:23:33.411906"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 17:23:33.415722"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 17:23:33.421796"], ["updated_at", "2021-11-22 17:23:33.421796"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 17:23:33.426111"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:23:33.431693"], ["updated_at", "2021-11-22 17:23:33.431693"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 17:23:33.435129"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 17:23:33.447241"], ["updated_at", "2021-11-22 17:23:33.447241"], ["account_id", 3]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 17:23:33.456694"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:23:33.463937"], ["updated_at", "2021-11-22 17:23:33.463937"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 17:23:33.477158"], ["updated_at", "2021-11-22 17:23:33.477158"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 17:23:33.483811"], ["updated_at", "2021-11-22 17:23:33.483811"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 17:23:33.490082"], ["updated_at", "2021-11-22 17:23:33.490082"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 17:23:33.495941"], ["updated_at", "2021-11-22 17:23:33.495941"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 17:23:33.500874"], ["updated_at", "2021-11-22 17:23:33.500874"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 17:23:33.505275"], ["updated_at", "2021-11-22 17:23:33.505275"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 17:23:33.521617"], ["updated_at", "2021-11-22 17:23:33.521617"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 17:23:33.528836"], ["updated_at", "2021-11-22 17:23:33.528836"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 17:23:33.537077"], ["updated_at", "2021-11-22 17:23:33.537077"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 17:23:33.542210"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 17:23:33.548154"], ["updated_at", "2021-11-22 17:23:33.548154"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 17:23:33.552293"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 17:23:33.558814"], ["updated_at", "2021-11-22 17:23:33.558814"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 17:23:33.562488"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 12:24:19 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2348)


Started GET "/api/accounts" for ::1 at 2021-11-22 12:24:22 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 112)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (69.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (50.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (424.8ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (379.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (26.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:25:49.393413"], ["updated_at", "2021-11-22 17:25:49.393413"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:25:49.402727"], ["updated_at", "2021-11-22 17:25:49.402727"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (26.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:25:49.648857"], ["updated_at", "2021-11-22 17:25:49.648857"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 17:25:49.662045"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:25:49.674391"], ["updated_at", "2021-11-22 17:25:49.674391"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:25:49.720347"], ["updated_at", "2021-11-22 17:25:49.720347"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 17:25:49.737866"], ["updated_at", "2021-11-22 17:25:49.737866"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:25:49.748226"], ["updated_at", "2021-11-22 17:25:49.748226"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 17:25:49.752846"], ["updated_at", "2021-11-22 17:25:49.752846"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:25:49.775198"], ["updated_at", "2021-11-22 17:25:49.775198"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 17:25:49.781190"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 17:25:49.797973"], ["updated_at", "2021-11-22 17:25:49.797973"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 17:25:49.802620"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 17:25:49.808644"], ["updated_at", "2021-11-22 17:25:49.808644"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 17:25:49.815163"], ["updated_at", "2021-11-22 17:25:49.815163"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 17:25:49.819125"], ["updated_at", "2021-11-22 17:25:49.819125"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 17:25:49.823662"], ["updated_at", "2021-11-22 17:25:49.823662"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 17:25:49.830284"], ["updated_at", "2021-11-22 17:25:49.830284"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 17:25:49.834234"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 17:25:49.840389"], ["updated_at", "2021-11-22 17:25:49.840389"], ["account_id", 2]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 17:25:49.844462"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 17:25:49.850212"], ["updated_at", "2021-11-22 17:25:49.850212"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 17:25:49.856165"], ["updated_at", "2021-11-22 17:25:49.856165"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 17:25:49.860066"], ["updated_at", "2021-11-22 17:25:49.860066"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 17:25:49.864263"], ["updated_at", "2021-11-22 17:25:49.864263"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:25:49.869524"], ["updated_at", "2021-11-22 17:25:49.869524"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 17:25:49.874262"], ["updated_at", "2021-11-22 17:25:49.874262"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 17:25:49.881231"], ["updated_at", "2021-11-22 17:25:49.881231"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 17:25:49.885294"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 17:25:49.890965"], ["updated_at", "2021-11-22 17:25:49.890965"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 17:25:49.894689"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:25:49.902260"], ["updated_at", "2021-11-22 17:25:49.902260"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 17:25:49.906377"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 17:25:49.912088"], ["updated_at", "2021-11-22 17:25:49.912088"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 17:25:49.915890"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:25:49.920994"], ["updated_at", "2021-11-22 17:25:49.920994"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 17:25:49.926670"], ["updated_at", "2021-11-22 17:25:49.926670"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 17:25:49.930919"], ["updated_at", "2021-11-22 17:25:49.930919"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 17:25:49.935666"], ["updated_at", "2021-11-22 17:25:49.935666"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 17:25:49.940093"], ["updated_at", "2021-11-22 17:25:49.940093"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 17:25:49.947342"], ["updated_at", "2021-11-22 17:25:49.947342"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 17:25:49.952027"], ["updated_at", "2021-11-22 17:25:49.952027"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 17:25:49.967867"], ["updated_at", "2021-11-22 17:25:49.967867"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 17:25:49.975375"], ["updated_at", "2021-11-22 17:25:49.975375"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 17:25:49.984358"], ["updated_at", "2021-11-22 17:25:49.984358"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 17:25:49.989739"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 17:25:49.995882"], ["updated_at", "2021-11-22 17:25:49.995882"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 17:25:50.000736"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 17:25:50.006517"], ["updated_at", "2021-11-22 17:25:50.006517"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 17:25:50.010272"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 12:25:57 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:7:in `index'
Completed 200 OK in 15ms (Views: 6.7ms | ActiveRecord: 3.3ms | Allocations: 11162)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 12:30:28 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 15ms (Views: 5.9ms | ActiveRecord: 2.8ms | Allocations: 11162)


Started GET "/api/accounts" for ::1 at 2021-11-22 12:30:29 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.1ms | Allocations: 1086)


Started GET "/api/accounts" for ::1 at 2021-11-22 12:30:29 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.9ms | Allocations: 1086)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:41:58 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1.6, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.6ms | Allocations: 10636)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:32:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:42:31 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1.6, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:42:32.014047"], ["updated_at", "2021-11-22 17:42:32.014047"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5586], ["stock_balance", 17152], ["updated_at", "2021-11-22 17:42:32.026863"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
Completed 201 Created in 38ms (Views: 0.5ms | ActiveRecord: 10.9ms | Allocations: 23783)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:49:42 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/controllers/transactions_controller.rb:82: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/transactions_controller.rb:82: syntax error, unexpected end-of-input, expecting end
app/controllers/transactions_controller.rb:82: syntax error, unexpected end-of-input, expecting end
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:50:13 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 LIMIT $2[0m  [["account_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:50:13.885342"], ["updated_at", "2021-11-22 17:50:13.885342"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 17:50:13.896812"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:51:in `create'
Completed 201 Created in 65ms (Views: 0.5ms | ActiveRecord: 10.6ms | Allocations: 28122)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:59:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:59:45.646175"], ["updated_at", "2021-11-22 17:59:45.646175"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5586], ["stock_balance", 17152], ["updated_at", "2021-11-22 17:59:45.656851"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:52:in `create'
Completed 201 Created in 43ms (Views: 1.1ms | ActiveRecord: 8.7ms | Allocations: 27729)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:03:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AA", "trade"=>-1, "quantity"=>1.2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AA"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.7ms | Allocations: 9068)


  
NoMethodError (undefined method `quantity' for nil:NilClass):
  
app/controllers/transactions_controller.rb:36:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:04:06 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>200, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:43:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:43:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 200], ["settled_price", 155], ["created_at", "2021-11-22 18:04:06.021903"], ["updated_at", "2021-11-22 18:04:06.021903"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:43:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 25414], ["stock_balance", -13848], ["updated_at", "2021-11-22 18:04:06.038317"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:43:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 9.2ms | Allocations: 20277)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5009.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (30.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (40.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (363.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (354.5ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (28.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (8.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 18:05:14.599578"], ["updated_at", "2021-11-22 18:05:14.599578"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 18:05:14.615313"], ["updated_at", "2021-11-22 18:05:14.615313"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (33.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (22.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (22.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 18:05:14.897040"], ["updated_at", "2021-11-22 18:05:14.897040"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 18:05:14.911410"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 18:05:14.922770"], ["updated_at", "2021-11-22 18:05:14.922770"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 18:05:14.965967"], ["updated_at", "2021-11-22 18:05:14.965967"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 18:05:14.983484"], ["updated_at", "2021-11-22 18:05:14.983484"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 18:05:15.002931"], ["updated_at", "2021-11-22 18:05:15.002931"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 18:05:15.010300"], ["updated_at", "2021-11-22 18:05:15.010300"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 18:05:15.029201"], ["updated_at", "2021-11-22 18:05:15.029201"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 18:05:15.034082"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 18:05:15.050573"], ["updated_at", "2021-11-22 18:05:15.050573"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 18:05:15.054573"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 18:05:15.064275"], ["updated_at", "2021-11-22 18:05:15.064275"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 18:05:15.070759"], ["updated_at", "2021-11-22 18:05:15.070759"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 18:05:15.074800"], ["updated_at", "2021-11-22 18:05:15.074800"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 18:05:15.079440"], ["updated_at", "2021-11-22 18:05:15.079440"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 18:05:15.086164"], ["updated_at", "2021-11-22 18:05:15.086164"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 18:05:15.090100"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 18:05:15.096626"], ["updated_at", "2021-11-22 18:05:15.096626"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 18:05:15.101031"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 18:05:15.106592"], ["updated_at", "2021-11-22 18:05:15.106592"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 18:05:15.112131"], ["updated_at", "2021-11-22 18:05:15.112131"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 18:05:15.115928"], ["updated_at", "2021-11-22 18:05:15.115928"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 18:05:15.120067"], ["updated_at", "2021-11-22 18:05:15.120067"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 18:05:15.124157"], ["updated_at", "2021-11-22 18:05:15.124157"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 18:05:15.129473"], ["updated_at", "2021-11-22 18:05:15.129473"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 18:05:15.136221"], ["updated_at", "2021-11-22 18:05:15.136221"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 18:05:15.140326"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 18:05:15.146118"], ["updated_at", "2021-11-22 18:05:15.146118"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 18:05:15.149727"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 18:05:15.155344"], ["updated_at", "2021-11-22 18:05:15.155344"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 18:05:15.160930"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 18:05:15.166582"], ["updated_at", "2021-11-22 18:05:15.166582"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 18:05:15.170218"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 18:05:15.175039"], ["updated_at", "2021-11-22 18:05:15.175039"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 18:05:15.180619"], ["updated_at", "2021-11-22 18:05:15.180619"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 18:05:15.184246"], ["updated_at", "2021-11-22 18:05:15.184246"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 18:05:15.189160"], ["updated_at", "2021-11-22 18:05:15.189160"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 18:05:15.194013"], ["updated_at", "2021-11-22 18:05:15.194013"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 18:05:15.198296"], ["updated_at", "2021-11-22 18:05:15.198296"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 18:05:15.203114"], ["updated_at", "2021-11-22 18:05:15.203114"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 18:05:15.228128"], ["updated_at", "2021-11-22 18:05:15.228128"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 18:05:15.236593"], ["updated_at", "2021-11-22 18:05:15.236593"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 18:05:15.245138"], ["updated_at", "2021-11-22 18:05:15.245138"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 18:05:15.250276"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 18:05:15.255655"], ["updated_at", "2021-11-22 18:05:15.255655"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 18:05:15.259415"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 18:05:15.265983"], ["updated_at", "2021-11-22 18:05:15.265983"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 18:05:15.269975"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:05:30 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>200, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 5.7ms | Allocations: 16521)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:38:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:11:33 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:11:34.050785"], ["updated_at", "2021-11-22 18:11:34.050785"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5276], ["stock_balance", 16842], ["updated_at", "2021-11-22 18:11:34.063053"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
Completed 201 Created in 52ms (Views: 0.5ms | ActiveRecord: 11.0ms | Allocations: 30698)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:16:39 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:16:39.315230"], ["updated_at", "2021-11-22 18:16:39.315230"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5121], ["stock_balance", 16687], ["updated_at", "2021-11-22 18:16:39.327368"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 9.2ms | Allocations: 23111)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:19:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.3ms | Allocations: 9057)


  
NoMethodError (undefined method `ticker' for nil:NilClass):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:22:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.1ms | Allocations: 8947)


  
NameError (undefined local variable or method `account_portfolio' for #<TransactionsController:0x007f6484374a20>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:28:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:23:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 0.6ms | Allocations: 2647)


  
NameError (undefined local variable or method `account_portfolio' for #<TransactionsController:0x0056037e841fc0>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:28:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:23:37 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:23:37.903767"], ["updated_at", "2021-11-22 18:23:37.903767"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4966], ["stock_balance", 16532], ["updated_at", "2021-11-22 18:23:37.916305"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:53:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 23128)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:32:25 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:49:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:32:25.588014"], ["updated_at", "2021-11-22 18:32:25.588014"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:49:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4811], ["stock_balance", 16377], ["updated_at", "2021-11-22 18:32:25.598433"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:49:in `create'
Completed 201 Created in 39ms (Views: 1.6ms | ActiveRecord: 7.2ms | Allocations: 24705)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:33:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:33:04.265215"], ["updated_at", "2021-11-22 18:33:04.265215"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4656], ["stock_balance", 16222], ["updated_at", "2021-11-22 18:33:04.285293"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
Completed 201 Created in 46ms (Views: 0.5ms | ActiveRecord: 11.3ms | Allocations: 23147)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:33:36 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>300, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.0ms | Allocations: 5163)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:40:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:37:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.1ms | Allocations: 7368)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column accounts.ticker does not exist
LINE 1: ....* FROM "accounts" WHERE "accounts"."id" = $1 AND "accounts"...
                                                             ^
):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:38:32 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.5ms | Allocations: 7404)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column accounts.ticker does not exist
LINE 1: ....* FROM "accounts" WHERE "accounts"."id" = $1 AND "accounts"...
                                                             ^
):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:39:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.4ms | Allocations: 12327)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:35:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:40:31 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.7ms | Allocations: 13727)


  
NoMethodError (undefined method `count' for #<Transaction:0x00007f6494fd2078>
Did you mean?  account):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:41:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2[0m  [["account_id", 1], ["ticker", "AAPL"]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.2ms | Allocations: 8832)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:35:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:43:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.7ms | Allocations: 10582)


  
NameError (undefined local variable or method `total_quantity' for #<TransactionsController:0x007f64950e31d8>
Did you mean?  total_buys):
  
app/controllers/transactions_controller.rb:31:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:43:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.5ms | Allocations: 10582)


  
NameError (undefined local variable or method `total_quantity' for #<TransactionsController:0x007f648c3b7890>
Did you mean?  total_buys):
  
app/controllers/transactions_controller.rb:31:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:44:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.6ms | Allocations: 9363)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:36:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:45:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.6ms | Allocations: 9362)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:38:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:46:27 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.9ms | Allocations: 8887)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:37:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:48:18 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.5ms | Allocations: 12873)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:41:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:49:14 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 3.2ms | Allocations: 9373)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:41:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:51:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.9ms | Allocations: 12920)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:45:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:01:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:34:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:41:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.2ms | Allocations: 15301)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:02:16 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:34:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:41:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:56:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:69:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:69:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:02:16.409374"], ["updated_at", "2021-11-22 19:02:16.409374"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:69:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4501], ["stock_balance", 16067], ["updated_at", "2021-11-22 19:02:16.421469"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:69:in `create'
Completed 201 Created in 43ms (Views: 1.3ms | ActiveRecord: 12.4ms | Allocations: 24344)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:13:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:13:07.768444"], ["updated_at", "2021-11-22 19:13:07.768444"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4346], ["stock_balance", 15912], ["updated_at", "2021-11-22 19:13:07.778407"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
Completed 201 Created in 39ms (Views: 0.5ms | ActiveRecord: 7.5ms | Allocations: 25885)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:13:56 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1.3, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:13:56.924859"], ["updated_at", "2021-11-22 19:13:56.924859"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4191], ["stock_balance", 15757], ["updated_at", "2021-11-22 19:13:56.930284"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
Completed 201 Created in 41ms (Views: 0.4ms | ActiveRecord: 7.7ms | Allocations: 10560)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:17:20 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (5.4ms)[0m  [1m[34mSELECT SUM() FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 9.4ms | Allocations: 8521)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ERROR:  function sum() does not exist
LINE 1: SELECT SUM() FROM "transactions" WHERE "transactions"."accou...
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
):
  
app/controllers/transactions_controller.rb:33:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:18:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:18:08.831307"], ["updated_at", "2021-11-22 19:18:08.831307"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4036], ["stock_balance", 15602], ["updated_at", "2021-11-22 19:18:08.852506"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
Completed 201 Created in 53ms (Views: 0.5ms | ActiveRecord: 11.6ms | Allocations: 27774)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:19:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:19:34.418020"], ["updated_at", "2021-11-22 19:19:34.418020"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3881], ["stock_balance", 15447], ["updated_at", "2021-11-22 19:19:34.429019"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
Completed 201 Created in 43ms (Views: 0.5ms | ActiveRecord: 10.6ms | Allocations: 27705)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5012.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (26.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (40.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (383.5ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (381.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:23:44.899356"], ["updated_at", "2021-11-22 19:23:44.899356"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:23:44.910774"], ["updated_at", "2021-11-22 19:23:44.910774"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:23:45.126155"], ["updated_at", "2021-11-22 19:23:45.126155"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 19:23:45.140030"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:23:45.150279"], ["updated_at", "2021-11-22 19:23:45.150279"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:23:45.191736"], ["updated_at", "2021-11-22 19:23:45.191736"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 19:23:45.209340"], ["updated_at", "2021-11-22 19:23:45.209340"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:23:45.219612"], ["updated_at", "2021-11-22 19:23:45.219612"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 19:23:45.226291"], ["updated_at", "2021-11-22 19:23:45.226291"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:23:45.247689"], ["updated_at", "2021-11-22 19:23:45.247689"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 19:23:45.253031"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 19:23:45.269509"], ["updated_at", "2021-11-22 19:23:45.269509"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 19:23:45.274143"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 19:23:45.281007"], ["updated_at", "2021-11-22 19:23:45.281007"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 19:23:45.287412"], ["updated_at", "2021-11-22 19:23:45.287412"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 19:23:45.291880"], ["updated_at", "2021-11-22 19:23:45.291880"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 19:23:45.296666"], ["updated_at", "2021-11-22 19:23:45.296666"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 19:23:45.303589"], ["updated_at", "2021-11-22 19:23:45.303589"], ["account_id", 2]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 19:23:45.307613"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 19:23:45.314344"], ["updated_at", "2021-11-22 19:23:45.314344"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 19:23:45.318510"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 19:23:45.323855"], ["updated_at", "2021-11-22 19:23:45.323855"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 19:23:45.329983"], ["updated_at", "2021-11-22 19:23:45.329983"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 19:23:45.333814"], ["updated_at", "2021-11-22 19:23:45.333814"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 19:23:45.338259"], ["updated_at", "2021-11-22 19:23:45.338259"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:23:45.343168"], ["updated_at", "2021-11-22 19:23:45.343168"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 19:23:45.347987"], ["updated_at", "2021-11-22 19:23:45.347987"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 19:23:45.354935"], ["updated_at", "2021-11-22 19:23:45.354935"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (2.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 19:23:45.358980"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 19:23:45.367125"], ["updated_at", "2021-11-22 19:23:45.367125"], ["account_id", 3]]
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 19:23:45.374508"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:23:45.387405"], ["updated_at", "2021-11-22 19:23:45.387405"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (3.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 19:23:45.393269"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 19:23:45.404610"], ["updated_at", "2021-11-22 19:23:45.404610"], ["account_id", 3]]
  [1m[36mAccount Load (2.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 19:23:45.412773"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:23:45.418758"], ["updated_at", "2021-11-22 19:23:45.418758"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 19:23:45.425857"], ["updated_at", "2021-11-22 19:23:45.425857"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 19:23:45.431108"], ["updated_at", "2021-11-22 19:23:45.431108"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 19:23:45.437111"], ["updated_at", "2021-11-22 19:23:45.437111"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 19:23:45.442474"], ["updated_at", "2021-11-22 19:23:45.442474"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 19:23:45.448106"], ["updated_at", "2021-11-22 19:23:45.448106"], ["account_id", 4]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 19:23:45.460239"], ["updated_at", "2021-11-22 19:23:45.460239"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 19:23:45.484247"], ["updated_at", "2021-11-22 19:23:45.484247"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 19:23:45.494789"], ["updated_at", "2021-11-22 19:23:45.494789"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 19:23:45.506733"], ["updated_at", "2021-11-22 19:23:45.506733"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 19:23:45.513711"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 19:23:45.521501"], ["updated_at", "2021-11-22 19:23:45.521501"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 19:23:45.526142"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 19:23:45.532924"], ["updated_at", "2021-11-22 19:23:45.532924"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 19:23:45.537718"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:24:52 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>21, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.9ms | Allocations: 17348)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:27:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>22, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.7ms | Allocations: 14366)


  
NameError (undefined local variable or method `final_quantity' for #<TransactionsController:0x007f2eb4422ab8>
Did you mean?  total_quantity):
  
app/controllers/transactions_controller.rb:43:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:27:29 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>21, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.5ms | Allocations: 3678)


  
NameError (undefined local variable or method `final_quantity' for #<TransactionsController:0x007f2ed0014040>
Did you mean?  total_quantity):
  
app/controllers/transactions_controller.rb:43:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:27:39 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>20, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.8ms | Allocations: 3676)


  
NameError (undefined local variable or method `final_quantity' for #<TransactionsController:0x007f2eb4599ec8>
Did you mean?  total_quantity):
  
app/controllers/transactions_controller.rb:43:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:28:09 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>22, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.5ms | Allocations: 12930)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:28:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>20, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 20], ["settled_price", 155], ["created_at", "2021-11-22 19:28:17.183000"], ["updated_at", "2021-11-22 19:28:17.183000"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -2331], ["stock_balance", 13897], ["updated_at", "2021-11-22 19:28:17.206346"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:77:in `create'
Completed 201 Created in 53ms (Views: 0.9ms | ActiveRecord: 9.3ms | Allocations: 14107)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (65.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (45.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (378.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (358.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:28:29.525159"], ["updated_at", "2021-11-22 19:28:29.525159"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:28:29.534083"], ["updated_at", "2021-11-22 19:28:29.534083"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:28:29.739124"], ["updated_at", "2021-11-22 19:28:29.739124"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 19:28:29.752065"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:28:29.760107"], ["updated_at", "2021-11-22 19:28:29.760107"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:28:29.799438"], ["updated_at", "2021-11-22 19:28:29.799438"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 19:28:29.822018"], ["updated_at", "2021-11-22 19:28:29.822018"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:28:29.832063"], ["updated_at", "2021-11-22 19:28:29.832063"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 19:28:29.836789"], ["updated_at", "2021-11-22 19:28:29.836789"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:28:29.849783"], ["updated_at", "2021-11-22 19:28:29.849783"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 19:28:29.853911"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 19:28:29.870257"], ["updated_at", "2021-11-22 19:28:29.870257"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 19:28:29.874532"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 19:28:29.880169"], ["updated_at", "2021-11-22 19:28:29.880169"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 19:28:29.886890"], ["updated_at", "2021-11-22 19:28:29.886890"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 19:28:29.890985"], ["updated_at", "2021-11-22 19:28:29.890985"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 19:28:29.895821"], ["updated_at", "2021-11-22 19:28:29.895821"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 19:28:29.903056"], ["updated_at", "2021-11-22 19:28:29.903056"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 19:28:29.907327"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 19:28:29.913866"], ["updated_at", "2021-11-22 19:28:29.913866"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 19:28:29.918417"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 19:28:29.924369"], ["updated_at", "2021-11-22 19:28:29.924369"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 19:28:29.930344"], ["updated_at", "2021-11-22 19:28:29.930344"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 19:28:29.936751"], ["updated_at", "2021-11-22 19:28:29.936751"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 19:28:29.945956"], ["updated_at", "2021-11-22 19:28:29.945956"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:28:29.952352"], ["updated_at", "2021-11-22 19:28:29.952352"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 19:28:29.957765"], ["updated_at", "2021-11-22 19:28:29.957765"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 19:28:29.964877"], ["updated_at", "2021-11-22 19:28:29.964877"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 19:28:29.968448"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 19:28:29.976040"], ["updated_at", "2021-11-22 19:28:29.976040"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 19:28:29.980546"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:28:29.991656"], ["updated_at", "2021-11-22 19:28:29.991656"], ["account_id", 3]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 19:28:29.998250"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 19:28:30.005832"], ["updated_at", "2021-11-22 19:28:30.005832"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 19:28:30.011170"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:28:30.016972"], ["updated_at", "2021-11-22 19:28:30.016972"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 19:28:30.023008"], ["updated_at", "2021-11-22 19:28:30.023008"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 19:28:30.027038"], ["updated_at", "2021-11-22 19:28:30.027038"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 19:28:30.031553"], ["updated_at", "2021-11-22 19:28:30.031553"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 19:28:30.036067"], ["updated_at", "2021-11-22 19:28:30.036067"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 19:28:30.041382"], ["updated_at", "2021-11-22 19:28:30.041382"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 19:28:30.045600"], ["updated_at", "2021-11-22 19:28:30.045600"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 19:28:30.051811"], ["updated_at", "2021-11-22 19:28:30.051811"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 19:28:30.068948"], ["updated_at", "2021-11-22 19:28:30.068948"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 19:28:30.078085"], ["updated_at", "2021-11-22 19:28:30.078085"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 19:28:30.082736"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 19:28:30.088397"], ["updated_at", "2021-11-22 19:28:30.088397"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 19:28:30.092140"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 19:28:30.097984"], ["updated_at", "2021-11-22 19:28:30.097984"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 19:28:30.102367"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (27.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (37.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (360.5ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (354.0ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 20:06:40.485703"], ["updated_at", "2021-11-22 20:06:40.485703"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 20:06:40.498999"], ["updated_at", "2021-11-22 20:06:40.498999"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 20:06:40.742953"], ["updated_at", "2021-11-22 20:06:40.742953"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 20:06:40.753039"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 20:06:40.762618"], ["updated_at", "2021-11-22 20:06:40.762618"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 20:06:40.814443"], ["updated_at", "2021-11-22 20:06:40.814443"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 20:06:40.831790"], ["updated_at", "2021-11-22 20:06:40.831790"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 20:06:40.842531"], ["updated_at", "2021-11-22 20:06:40.842531"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 20:06:40.849084"], ["updated_at", "2021-11-22 20:06:40.849084"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 20:06:40.863367"], ["updated_at", "2021-11-22 20:06:40.863367"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 20:06:40.892582"], ["updated_at", "2021-11-22 20:06:40.892582"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 20:06:40.900240"], ["updated_at", "2021-11-22 20:06:40.900240"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 20:06:40.906909"], ["updated_at", "2021-11-22 20:06:40.906909"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 20:06:40.911137"], ["updated_at", "2021-11-22 20:06:40.911137"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 20:06:40.915676"], ["updated_at", "2021-11-22 20:06:40.915676"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 20:06:40.922437"], ["updated_at", "2021-11-22 20:06:40.922437"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 20:06:40.927956"], ["updated_at", "2021-11-22 20:06:40.927956"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 20:06:40.933368"], ["updated_at", "2021-11-22 20:06:40.933368"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 20:06:40.939224"], ["updated_at", "2021-11-22 20:06:40.939224"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 20:06:40.943365"], ["updated_at", "2021-11-22 20:06:40.943365"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 20:06:40.947784"], ["updated_at", "2021-11-22 20:06:40.947784"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 20:06:40.952079"], ["updated_at", "2021-11-22 20:06:40.952079"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 20:06:40.956501"], ["updated_at", "2021-11-22 20:06:40.956501"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 20:06:40.970545"], ["updated_at", "2021-11-22 20:06:40.970545"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 20:06:40.980039"], ["updated_at", "2021-11-22 20:06:40.980039"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 20:06:40.992033"], ["updated_at", "2021-11-22 20:06:40.992033"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 20:06:41.001634"], ["updated_at", "2021-11-22 20:06:41.001634"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 20:06:41.009966"], ["updated_at", "2021-11-22 20:06:41.009966"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 20:06:41.016765"], ["updated_at", "2021-11-22 20:06:41.016765"], ["user_id", 4]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 20:06:41.022461"], ["updated_at", "2021-11-22 20:06:41.022461"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 20:06:41.027083"], ["updated_at", "2021-11-22 20:06:41.027083"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 20:06:41.032070"], ["updated_at", "2021-11-22 20:06:41.032070"], ["account_id", 4]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 20:06:41.039650"], ["updated_at", "2021-11-22 20:06:41.039650"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 20:06:41.045503"], ["updated_at", "2021-11-22 20:06:41.045503"], ["account_id", 4]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 20:06:41.055559"], ["updated_at", "2021-11-22 20:06:41.055559"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 20:06:41.062671"], ["updated_at", "2021-11-22 20:06:41.062671"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 20:06:41.069021"], ["updated_at", "2021-11-22 20:06:41.069021"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 20:06:41.075037"], ["updated_at", "2021-11-22 20:06:41.075037"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 20:06:41.081461"], ["updated_at", "2021-11-22 20:06:41.081461"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 15:07:31 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 14ms (Views: 6.2ms | ActiveRecord: 2.4ms | Allocations: 11162)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:33:18 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>3, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 3], ["settled_price", 155], ["created_at", "2021-11-22 20:33:18.962174"], ["updated_at", "2021-11-22 20:33:18.962174"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:20:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:27:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1535], ["stock_balance", 10031], ["updated_at", "2021-11-22 20:33:18.985313"], ["id", 1]]
  ↳ app/models/transaction.rb:27:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 84ms (Views: 0.6ms | ActiveRecord: 13.5ms | Allocations: 27866)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:37:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 2], ["settled_price", 155], ["created_at", "2021-11-22 20:37:45.447514"], ["updated_at", "2021-11-22 20:37:45.447514"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:21:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:29:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1845], ["stock_balance", 9721], ["updated_at", "2021-11-22 20:37:45.459490"], ["id", 1]]
  ↳ app/models/transaction.rb:29:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 36ms (Views: 0.5ms | ActiveRecord: 8.7ms | Allocations: 22878)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:43:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>500, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.2ms | Allocations: 15253)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:48:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:44:38 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>10, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.2ms | Allocations: 2615)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:50:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 20:50:21.647122"], ["updated_at", "2021-11-22 20:50:21.647122"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:25:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1690], ["stock_balance", 9876], ["updated_at", "2021-11-22 20:50:21.659517"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 44ms (Views: 0.6ms | ActiveRecord: 12.8ms | Allocations: 24736)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:52:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 20:52:41.555910"], ["updated_at", "2021-11-22 20:52:41.555910"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:25:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1535], ["stock_balance", 10031], ["updated_at", "2021-11-22 20:52:41.567783"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 40ms (Views: 0.5ms | ActiveRecord: 10.5ms | Allocations: 24292)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:54:24 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 20:54:24.456978"], ["updated_at", "2021-11-22 20:54:24.456978"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1380], ["stock_balance", 10186], ["updated_at", "2021-11-22 20:54:24.469040"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 50ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 24352)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:55:33 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 2], ["settled_price", 155], ["created_at", "2021-11-22 20:55:33.433226"], ["updated_at", "2021-11-22 20:55:33.433226"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1070], ["stock_balance", 10496], ["updated_at", "2021-11-22 20:55:33.445940"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 41ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 24323)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:57:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>3, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 3], ["settled_price", 155], ["created_at", "2021-11-22 20:57:06.002834"], ["updated_at", "2021-11-22 20:57:06.002834"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:38:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 29ms (Views: 0.5ms | ActiveRecord: 7.7ms | Allocations: 16907)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:59:26 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end):
  
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:00:10 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end):
  
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:00:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:00:59.360835"], ["updated_at", "2021-11-22 21:00:59.360835"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:38:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 31ms (Views: 1.6ms | ActiveRecord: 7.8ms | Allocations: 16954)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:02:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:02:40.930101"], ["updated_at", "2021-11-22 21:02:40.930101"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 28ms (Views: 0.5ms | ActiveRecord: 7.8ms | Allocations: 16967)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:03:53 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:03:53.987895"], ["updated_at", "2021-11-22 21:03:53.987895"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 29ms (Views: 0.7ms | ActiveRecord: 7.4ms | Allocations: 16927)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:05:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:05:08.067332"], ["updated_at", "2021-11-22 21:05:08.067332"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 6.3ms | Allocations: 17237)


  
NoMethodError (undefined method `quantity' for nil:NilClass):
  
app/models/transaction.rb:37:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:12:29 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:12:30.045868"], ["updated_at", "2021-11-22 21:12:30.045868"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.3ms | Allocations: 19295)


  
NoMethodError (undefined method `quantity' for nil:NilClass):
  
app/models/transaction.rb:38:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:13:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:13:44.977054"], ["updated_at", "2021-11-22 21:13:44.977054"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 7.8ms | Allocations: 17300)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/models/transaction.rb:37:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:19:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:19:55.997852"], ["updated_at", "2021-11-22 21:19:55.997852"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 915], ["stock_balance", 10651], ["updated_at", "2021-11-22 21:19:56.011853"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 55ms (Views: 0.5ms | ActiveRecord: 13.4ms | Allocations: 25285)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:20:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:20:42.454188"], ["updated_at", "2021-11-22 21:20:42.454188"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1070], ["stock_balance", 10496], ["updated_at", "2021-11-22 21:20:42.462467"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 30ms (Views: 0.5ms | ActiveRecord: 5.7ms | Allocations: 6728)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:22:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:22:59.604652"], ["updated_at", "2021-11-22 21:22:59.604652"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 915], ["stock_balance", 10651], ["updated_at", "2021-11-22 21:22:59.615862"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 41ms (Views: 1.3ms | ActiveRecord: 10.3ms | Allocations: 22814)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:23:36 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:23:36.798363"], ["updated_at", "2021-11-22 21:23:36.798363"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:23:36.809570"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:39:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:43:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 21], ["updated_at", "2021-11-22 21:23:36.819903"], ["id", 1]]
  ↳ app/models/transaction.rb:43:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 22], ["updated_at", "2021-11-22 21:23:36.821390"], ["id", 1]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 48ms (Views: 0.5ms | ActiveRecord: 11.4ms | Allocations: 29976)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:29:54 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:29:54.363294"], ["updated_at", "2021-11-22 21:29:54.363294"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:29:54.373129"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 6.4ms | Allocations: 27432)


  
NameError (undefined local variable or method `account_portfolio' for #<Transaction:0x000055c57f23b460>
Did you mean?  account_id):
  
app/models/transaction.rb:41:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:30:32 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:30:32.255878"], ["updated_at", "2021-11-22 21:30:32.255878"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:30:32.269602"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 11.5ms | Allocations: 27362)


  
ActiveModel::UnknownAttributeError (unknown attribute 'tiker' for Portfolio.):
  
app/models/transaction.rb:57:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:30:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:30:55.774821"], ["updated_at", "2021-11-22 21:30:55.774821"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:30:55.786220"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ABC"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 21:30:55.802563"], ["updated_at", "2021-11-22 21:30:55.802563"], ["account_id", 1]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 55ms (Views: 1.3ms | ActiveRecord: 12.3ms | Allocations: 29105)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:41:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:41:55.605439"], ["updated_at", "2021-11-22 21:41:55.605439"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:41:55.615191"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:52:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 6.4ms | Allocations: 29802)


  
FrozenError (can't modify frozen attributes):
  
app/models/transaction.rb:56:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:43:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:43:08.876218"], ["updated_at", "2021-11-22 21:43:08.876218"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:43:08.889950"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:56:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 21:43:08.917472"], ["id", 14]]
  ↳ app/models/transaction.rb:56:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 74ms (Views: 0.5ms | ActiveRecord: 17.1ms | Allocations: 29706)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:43:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:43:48.269680"], ["updated_at", "2021-11-22 21:43:48.269680"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:43:48.282431"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 1], ["updated_at", "2021-11-22 21:43:48.293467"], ["id", 14]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mTransaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "transactions" WHERE "transactions"."id" = $1[0m  [["id", 36]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 50ms (Views: 0.5ms | ActiveRecord: 12.5ms | Allocations: 30042)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:44:03 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.9ms | Allocations: 2452)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:45:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (4.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 5.3ms | Allocations: 2450)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:45:32 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/controllers/transactions_controller.rb:52: syntax error, unexpected =>, expecting then or ';' or '\n'
...trade_type == -1 && quantity => total_quantity
...                             ^~
/home/wavyadri/lighthouse-host/wealthify/server/app/controllers/transactions_controller.rb:102: syntax error, unexpected end, expecting end-of-input):
  
app/controllers/transactions_controller.rb:52: syntax error, unexpected =>, expecting then or ';' or '\n'
app/controllers/transactions_controller.rb:102: syntax error, unexpected end, expecting end-of-input
app/controllers/transactions_controller.rb:52: syntax error, unexpected =>, expecting then or ';' or '\n'
app/controllers/transactions_controller.rb:102: syntax error, unexpected end, expecting end-of-input
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:45:52 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.5ms | Allocations: 12915)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:48:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:48:42.322587"], ["updated_at", "2021-11-22 21:48:42.322587"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:48:42.334566"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 21:48:42.345411"], ["id", 14]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mTransaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "transactions" WHERE "transactions"."id" = $1[0m  [["id", 37]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 10.2ms | Allocations: 30392)


  
FrozenError (can't modify frozen attributes):
  
app/models/transaction.rb:61:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:50:38 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:59:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:50:38.620665"], ["updated_at", "2021-11-22 21:50:38.620665"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:59:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:50:38.632618"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 21:50:38.645202"], ["id", 14]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mTransaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "transactions" WHERE "transactions"."id" = $1[0m  [["id", 38]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:59:in `create'
Completed 201 Created in 55ms (Views: 0.6ms | ActiveRecord: 13.3ms | Allocations: 30452)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:06:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:06:41.908179"], ["updated_at", "2021-11-22 22:06:41.908179"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 22:06:41.918861"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.7ms | Allocations: 27586)


  
NoMethodError (undefined method `Portfolio' for #<Account:0x000055c580157a20>
Did you mean?  portfolios
               portfolios=):
  
app/models/transaction.rb:42:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:57:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:07:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:07:07.313392"], ["updated_at", "2021-11-22 22:07:07.313392"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 22:07:07.333948"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 54ms (Views: 0.6ms | ActiveRecord: 12.9ms | Allocations: 27437)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:07:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.4ms | Allocations: 2388)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:08:57 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:08:57.737914"], ["updated_at", "2021-11-22 22:08:57.737914"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 22:08:57.749977"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 45ms (Views: 0.5ms | ActiveRecord: 11.4ms | Allocations: 27384)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:09:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:09:26.677205"], ["updated_at", "2021-11-22 22:09:26.677205"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 22:09:26.690887"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (1.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CDS"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 22:09:26.715465"], ["updated_at", "2021-11-22 22:09:26.715465"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 73ms (Views: 0.6ms | ActiveRecord: 18.8ms | Allocations: 29049)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:10:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>23, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 23], ["settled_price", 155], ["created_at", "2021-11-22 22:10:17.859467"], ["updated_at", "2021-11-22 22:10:17.859467"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-22 22:10:17.869493"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", -1], ["updated_at", "2021-11-22 22:10:17.877893"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 39ms (Views: 0.8ms | ActiveRecord: 5.1ms | Allocations: 9014)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (41.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (366.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (368.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 22:11:49.786755"], ["updated_at", "2021-11-22 22:11:49.786755"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 22:11:49.809840"], ["updated_at", "2021-11-22 22:11:49.809840"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 22:11:50.055779"], ["updated_at", "2021-11-22 22:11:50.055779"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 22:11:50.070203"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 22:11:50.082775"], ["updated_at", "2021-11-22 22:11:50.082775"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 22:11:50.125161"], ["updated_at", "2021-11-22 22:11:50.125161"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 22:11:50.142228"], ["updated_at", "2021-11-22 22:11:50.142228"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 22:11:50.154557"], ["updated_at", "2021-11-22 22:11:50.154557"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 22:11:50.160406"], ["updated_at", "2021-11-22 22:11:50.160406"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 22:11:50.185094"], ["updated_at", "2021-11-22 22:11:50.185094"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 22:11:50.204271"], ["updated_at", "2021-11-22 22:11:50.204271"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 22:11:50.209997"], ["updated_at", "2021-11-22 22:11:50.209997"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 22:11:50.215887"], ["updated_at", "2021-11-22 22:11:50.215887"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 22:11:50.221879"], ["updated_at", "2021-11-22 22:11:50.221879"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 22:11:50.227988"], ["updated_at", "2021-11-22 22:11:50.227988"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 22:11:50.234212"], ["updated_at", "2021-11-22 22:11:50.234212"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 22:11:50.240035"], ["updated_at", "2021-11-22 22:11:50.240035"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 22:11:50.245545"], ["updated_at", "2021-11-22 22:11:50.245545"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 22:11:50.259873"], ["updated_at", "2021-11-22 22:11:50.259873"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 22:11:50.273817"], ["updated_at", "2021-11-22 22:11:50.273817"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 22:11:50.281792"], ["updated_at", "2021-11-22 22:11:50.281792"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 22:11:50.288635"], ["updated_at", "2021-11-22 22:11:50.288635"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 22:11:50.295560"], ["updated_at", "2021-11-22 22:11:50.295560"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 22:11:50.301652"], ["updated_at", "2021-11-22 22:11:50.301652"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 22:11:50.307931"], ["updated_at", "2021-11-22 22:11:50.307931"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 22:11:50.314280"], ["updated_at", "2021-11-22 22:11:50.314280"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 22:11:50.320809"], ["updated_at", "2021-11-22 22:11:50.320809"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 22:11:50.331727"], ["updated_at", "2021-11-22 22:11:50.331727"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 22:11:50.342359"], ["updated_at", "2021-11-22 22:11:50.342359"], ["user_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 22:11:50.350286"], ["updated_at", "2021-11-22 22:11:50.350286"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 22:11:50.356679"], ["updated_at", "2021-11-22 22:11:50.356679"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 22:11:50.364711"], ["updated_at", "2021-11-22 22:11:50.364711"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 22:11:50.378188"], ["updated_at", "2021-11-22 22:11:50.378188"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 22:11:50.393202"], ["updated_at", "2021-11-22 22:11:50.393202"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 22:11:50.406475"], ["updated_at", "2021-11-22 22:11:50.406475"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 22:11:50.415598"], ["updated_at", "2021-11-22 22:11:50.415598"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 22:11:50.433901"], ["updated_at", "2021-11-22 22:11:50.433901"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 22:11:50.441246"], ["updated_at", "2021-11-22 22:11:50.441246"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 22:11:50.447960"], ["updated_at", "2021-11-22 22:11:50.447960"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:12:46 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>21, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 6.2ms | Allocations: 17287)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:13:01 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>20, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 20], ["settled_price", 155], ["created_at", "2021-11-22 22:13:01.139253"], ["updated_at", "2021-11-22 22:13:01.139253"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 5100], ["stock_balance", 6466], ["updated_at", "2021-11-22 22:13:01.154686"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 22:13:01.166987"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 1]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 67ms (Views: 0.5ms | ActiveRecord: 11.6ms | Allocations: 21583)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:13:23 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>5, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 5], ["settled_price", 155], ["created_at", "2021-11-22 22:13:23.764646"], ["updated_at", "2021-11-22 22:13:23.764646"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (2.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4325], ["stock_balance", 7241], ["updated_at", "2021-11-22 22:13:23.775147"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 5], ["current_spot_price", 155], ["created_at", "2021-11-22 22:13:23.784247"], ["updated_at", "2021-11-22 22:13:23.784247"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 8.8ms | Allocations: 8606)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:21:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:21:02.383842"], ["updated_at", "2021-11-22 22:21:02.383842"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-22 22:21:02.394140"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "NEGG"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 22:21:02.402604"], ["updated_at", "2021-11-22 22:21:02.402604"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 47ms (Views: 0.5ms | ActiveRecord: 8.4ms | Allocations: 30627)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:21:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>100000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 3.7ms | Allocations: 2397)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:27:49 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>10000000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 23.3ms | Allocations: 5554)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:32:09 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.3ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:32:43 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms | Allocations: 2399)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:32:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:37:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.1ms | Allocations: 2399)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:46:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 4.3ms | Allocations: 5607)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>100000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.3ms | Allocations: 2382)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (3.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:47:04.403565"], ["updated_at", "2021-11-22 22:47:04.403565"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4325], ["stock_balance", 7241], ["updated_at", "2021-11-22 22:47:04.411438"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 22:47:04.417199"], ["id", 15]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 15]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 33ms (Views: 0.4ms | ActiveRecord: 9.6ms | Allocations: 9445)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:23 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>100000000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.1ms | Allocations: 2388)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:37 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.3ms | Allocations: 2387)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (2.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:47:40.145564"], ["updated_at", "2021-11-22 22:47:40.145564"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-22 22:47:40.157134"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "NEGG"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 22:47:40.165940"], ["updated_at", "2021-11-22 22:47:40.165940"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 40ms (Views: 0.6ms | ActiveRecord: 9.0ms | Allocations: 8571)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:52:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>10000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.9ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:52:52 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.1ms | Allocations: 2377)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:53:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:53:00.218782"], ["updated_at", "2021-11-22 22:53:00.218782"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4325], ["stock_balance", 7241], ["updated_at", "2021-11-22 22:53:00.230124"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 22:53:00.236913"], ["id", 2]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 2]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 43ms (Views: 0.5ms | ActiveRecord: 6.5ms | Allocations: 9430)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 20:39:26 -0500
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>100000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 110ms (ActiveRecord: 17.3ms | Allocations: 17356)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 20:39:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 2], ["settled_price", 155], ["created_at", "2021-11-23 01:39:48.479629"], ["updated_at", "2021-11-23 01:39:48.479629"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 4.2ms | Allocations: 7218)


  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/user.rb:29: syntax error, unexpected <<, expecting end
<<<<<<< HEAD
^~
/home/wavyadri/lighthouse-host/wealthify/server/app/models/user.rb:31: syntax error, unexpected ===, expecting end
=======
^~~
/home/wavyadri/lighthouse-host/wealthify/server/app/models/user.rb:37: syntax error, unexpected end, expecting end-of-input):
  
app/models/user.rb:29: syntax error, unexpected <<, expecting end
app/models/user.rb:31: syntax error, unexpected ===, expecting end
app/models/user.rb:37: syntax error, unexpected end, expecting end-of-input
app/models/user.rb:29: syntax error, unexpected <<, expecting end
app/models/user.rb:31: syntax error, unexpected ===, expecting end
app/models/user.rb:37: syntax error, unexpected end, expecting end-of-input
app/models/transaction.rb:23:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:57:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 20:42:27 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-23 01:42:27.679718"], ["updated_at", "2021-11-23 01:42:27.679718"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 500 Internal Server Error in 83ms (ActiveRecord: 12.1ms | Allocations: 21834)


  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/user.rb:29: syntax error, unexpected <<, expecting end
<<<<<<< HEAD
^~
/home/wavyadri/lighthouse-host/wealthify/server/app/models/user.rb:31: syntax error, unexpected ===, expecting end
=======
^~~
/home/wavyadri/lighthouse-host/wealthify/server/app/models/user.rb:37: syntax error, unexpected end, expecting end-of-input):
  
app/models/user.rb:29: syntax error, unexpected <<, expecting end
app/models/user.rb:31: syntax error, unexpected ===, expecting end
app/models/user.rb:37: syntax error, unexpected end, expecting end-of-input
app/models/user.rb:29: syntax error, unexpected <<, expecting end
app/models/user.rb:31: syntax error, unexpected ===, expecting end
app/models/user.rb:37: syntax error, unexpected end, expecting end-of-input
app/models/transaction.rb:23:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:57:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 20:43:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (1.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-23 01:43:45.968538"], ["updated_at", "2021-11-23 01:43:45.968538"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-23 01:43:45.993487"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 6], ["updated_at", "2021-11-23 01:43:46.016637"], ["id", 14]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 88ms (Views: 0.9ms | ActiveRecord: 18.2ms | Allocations: 30420)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 20:44:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>7, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (2.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.9ms | Allocations: 2442)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 20:44:49 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>6, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (4.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 6], ["settled_price", 155], ["created_at", "2021-11-23 01:44:49.827400"], ["updated_at", "2021-11-23 01:44:49.827400"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 5100], ["stock_balance", 6466], ["updated_at", "2021-11-23 01:44:49.834391"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-23 01:44:49.840236"], ["id", 14]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 39ms (Views: 0.7ms | ActiveRecord: 10.8ms | Allocations: 9471)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5019.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (42.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (57.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (752.9ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (362.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 02:30:53.254420"], ["updated_at", "2021-11-23 02:30:53.254420"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 02:30:53.271746"], ["updated_at", "2021-11-23 02:30:53.271746"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 02:30:53.525879"], ["updated_at", "2021-11-23 02:30:53.525879"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 02:30:53.538932"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 02:30:53.546409"], ["updated_at", "2021-11-23 02:30:53.546409"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:30:53.586969"], ["updated_at", "2021-11-23 02:30:53.586969"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 02:30:53.610182"], ["updated_at", "2021-11-23 02:30:53.610182"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 02:30:53.622782"], ["updated_at", "2021-11-23 02:30:53.622782"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 02:30:53.628917"], ["updated_at", "2021-11-23 02:30:53.628917"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 02:30:53.641735"], ["updated_at", "2021-11-23 02:30:53.641735"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 02:30:53.658495"], ["updated_at", "2021-11-23 02:30:53.658495"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:30:53.664822"], ["updated_at", "2021-11-23 02:30:53.664822"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 02:30:53.671510"], ["updated_at", "2021-11-23 02:30:53.671510"], ["user_id", 2]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 02:30:53.681249"], ["updated_at", "2021-11-23 02:30:53.681249"], ["account_id", 2]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 02:30:53.689087"], ["updated_at", "2021-11-23 02:30:53.689087"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 02:30:53.697862"], ["updated_at", "2021-11-23 02:30:53.697862"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 02:30:53.704480"], ["updated_at", "2021-11-23 02:30:53.704480"], ["account_id", 2]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:30:53.717326"], ["updated_at", "2021-11-23 02:30:53.717326"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 02:30:53.727771"], ["updated_at", "2021-11-23 02:30:53.727771"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 02:30:53.735712"], ["updated_at", "2021-11-23 02:30:53.735712"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 02:30:53.742526"], ["updated_at", "2021-11-23 02:30:53.742526"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 02:30:53.748851"], ["updated_at", "2021-11-23 02:30:53.748851"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 02:30:53.755475"], ["updated_at", "2021-11-23 02:30:53.755475"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 02:30:53.761879"], ["updated_at", "2021-11-23 02:30:53.761879"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 02:30:53.768871"], ["updated_at", "2021-11-23 02:30:53.768871"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 02:30:53.775011"], ["updated_at", "2021-11-23 02:30:53.775011"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 02:30:53.781993"], ["updated_at", "2021-11-23 02:30:53.781993"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:30:53.788082"], ["updated_at", "2021-11-23 02:30:53.788082"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 02:30:53.793589"], ["updated_at", "2021-11-23 02:30:53.793589"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 02:30:53.800051"], ["updated_at", "2021-11-23 02:30:53.800051"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 02:30:53.806752"], ["updated_at", "2021-11-23 02:30:53.806752"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 02:30:53.812821"], ["updated_at", "2021-11-23 02:30:53.812821"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 02:30:53.820390"], ["updated_at", "2021-11-23 02:30:53.820390"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 02:30:53.826589"], ["updated_at", "2021-11-23 02:30:53.826589"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 02:30:53.833767"], ["updated_at", "2021-11-23 02:30:53.833767"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 02:30:53.850341"], ["updated_at", "2021-11-23 02:30:53.850341"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 02:30:53.857091"], ["updated_at", "2021-11-23 02:30:53.857091"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 02:30:53.863375"], ["updated_at", "2021-11-23 02:30:53.863375"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 02:30:53.871042"], ["updated_at", "2021-11-23 02:30:53.871042"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (66.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (40.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (356.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 02:31:55.753915"], ["updated_at", "2021-11-23 02:31:55.753915"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 02:31:55.767290"], ["updated_at", "2021-11-23 02:31:55.767290"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 02:31:56.036586"], ["updated_at", "2021-11-23 02:31:56.036586"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 02:31:56.048820"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 02:31:56.059706"], ["updated_at", "2021-11-23 02:31:56.059706"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:31:56.105425"], ["updated_at", "2021-11-23 02:31:56.105425"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 02:31:56.122868"], ["updated_at", "2021-11-23 02:31:56.122868"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 02:31:56.135139"], ["updated_at", "2021-11-23 02:31:56.135139"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 02:31:56.141177"], ["updated_at", "2021-11-23 02:31:56.141177"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 02:31:56.153171"], ["updated_at", "2021-11-23 02:31:56.153171"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 02:31:56.158924"], ["updated_at", "2021-11-23 02:31:56.158924"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:31:56.164090"], ["updated_at", "2021-11-23 02:31:56.164090"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 02:31:56.169514"], ["updated_at", "2021-11-23 02:31:56.169514"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 02:31:56.175288"], ["updated_at", "2021-11-23 02:31:56.175288"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 02:31:56.184821"], ["updated_at", "2021-11-23 02:31:56.184821"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 02:31:56.195323"], ["updated_at", "2021-11-23 02:31:56.195323"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 02:31:56.202479"], ["updated_at", "2021-11-23 02:31:56.202479"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:31:56.208473"], ["updated_at", "2021-11-23 02:31:56.208473"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 02:31:56.215087"], ["updated_at", "2021-11-23 02:31:56.215087"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 02:31:56.222275"], ["updated_at", "2021-11-23 02:31:56.222275"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 02:31:56.239240"], ["updated_at", "2021-11-23 02:31:56.239240"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 02:31:56.245116"], ["updated_at", "2021-11-23 02:31:56.245116"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 02:31:56.250802"], ["updated_at", "2021-11-23 02:31:56.250802"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 02:31:56.256617"], ["updated_at", "2021-11-23 02:31:56.256617"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 02:31:56.262488"], ["updated_at", "2021-11-23 02:31:56.262488"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 02:31:56.268252"], ["updated_at", "2021-11-23 02:31:56.268252"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 02:31:56.273955"], ["updated_at", "2021-11-23 02:31:56.273955"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 02:31:56.279539"], ["updated_at", "2021-11-23 02:31:56.279539"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 02:31:56.285351"], ["updated_at", "2021-11-23 02:31:56.285351"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 02:31:56.291312"], ["updated_at", "2021-11-23 02:31:56.291312"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 02:31:56.297080"], ["updated_at", "2021-11-23 02:31:56.297080"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 02:31:56.302899"], ["updated_at", "2021-11-23 02:31:56.302899"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 02:31:56.308432"], ["updated_at", "2021-11-23 02:31:56.308432"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 02:31:56.313980"], ["updated_at", "2021-11-23 02:31:56.313980"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 02:31:56.319696"], ["updated_at", "2021-11-23 02:31:56.319696"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 02:31:56.325992"], ["updated_at", "2021-11-23 02:31:56.325992"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 02:31:56.331613"], ["updated_at", "2021-11-23 02:31:56.331613"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 02:31:56.336978"], ["updated_at", "2021-11-23 02:31:56.336978"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 02:31:56.342443"], ["updated_at", "2021-11-23 02:31:56.342443"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 21:35:51 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.0], ["settled_price", 155], ["created_at", "2021-11-23 02:35:51.696018"], ["updated_at", "2021-11-23 02:35:51.696018"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 48ms (Views: 0.6ms | ActiveRecord: 7.0ms | Allocations: 21185)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-22 21:36:16 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 230ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 5425)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:41:29 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 12ms (Views: 6.5ms | ActiveRecord: 2.9ms | Allocations: 6469)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:42:28 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 1.4ms | Allocations: 2262)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:42:46 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.7ms | Allocations: 2262)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:43:01 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.8ms | Allocations: 2241)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-22 21:50:20 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 224ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 4043)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:50:22 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (1.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 33ms (Views: 6.2ms | ActiveRecord: 3.5ms | Allocations: 2298)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-22 21:51:11 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 213ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 832)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:51:14 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (3.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 4.5ms | Allocations: 2241)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:52:44 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 2.4ms | Allocations: 2241)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:52:54 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 2.0ms | Allocations: 2241)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:53:01 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.1ms | Allocations: 2241)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-22 21:54:07 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 1.3ms | Allocations: 2242)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (165.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (54.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (870.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (365.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (72.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (26.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (13.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 16:11:42.043189"], ["updated_at", "2021-11-23 16:11:42.043189"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 16:11:42.052177"], ["updated_at", "2021-11-23 16:11:42.052177"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (9.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 16:11:42.299898"], ["updated_at", "2021-11-23 16:11:42.299898"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 16:11:42.319735"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 16:11:42.331215"], ["updated_at", "2021-11-23 16:11:42.331215"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:11:42.431278"], ["updated_at", "2021-11-23 16:11:42.431278"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 16:11:42.492367"], ["updated_at", "2021-11-23 16:11:42.492367"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:11:42.508333"], ["updated_at", "2021-11-23 16:11:42.508333"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 16:11:42.514373"], ["updated_at", "2021-11-23 16:11:42.514373"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 16:11:42.556689"], ["updated_at", "2021-11-23 16:11:42.556689"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-23 16:11:42.573912"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 40.0], ["updated_at", "2021-11-23 16:11:42.579845"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 16:11:42.585982"], ["updated_at", "2021-11-23 16:11:42.585982"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7566], ["stock_balance", 19132], ["updated_at", "2021-11-23 16:11:42.590666"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 3.0], ["updated_at", "2021-11-23 16:11:42.595095"], ["id", 2]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:11:42.600765"], ["updated_at", "2021-11-23 16:11:42.600765"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 16:11:42.606785"], ["updated_at", "2021-11-23 16:11:42.606785"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 16:11:42.612743"], ["updated_at", "2021-11-23 16:11:42.612743"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 16:11:42.618372"], ["updated_at", "2021-11-23 16:11:42.618372"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 16:11:42.624915"], ["updated_at", "2021-11-23 16:11:42.624915"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-23 16:11:42.629196"], ["id", 2]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 6.0], ["updated_at", "2021-11-23 16:11:42.632868"], ["id", 3]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 16:11:42.642421"], ["updated_at", "2021-11-23 16:11:42.642421"], ["account_id", 2]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-23 16:11:42.646510"], ["id", 2]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 20.0], ["updated_at", "2021-11-23 16:11:42.650949"], ["id", 4]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:11:42.658362"], ["updated_at", "2021-11-23 16:11:42.658362"]]
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 16:11:42.679189"], ["updated_at", "2021-11-23 16:11:42.679189"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 16:11:42.691561"], ["updated_at", "2021-11-23 16:11:42.691561"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 16:11:42.699685"], ["updated_at", "2021-11-23 16:11:42.699685"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:11:42.706557"], ["updated_at", "2021-11-23 16:11:42.706557"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 16:11:42.712359"], ["updated_at", "2021-11-23 16:11:42.712359"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 16:11:42.721854"], ["updated_at", "2021-11-23 16:11:42.721854"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-23 16:11:42.725654"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "WISH"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "WISH"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 100.0], ["updated_at", "2021-11-23 16:11:42.729527"], ["id", 5]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 16:11:42.738792"], ["updated_at", "2021-11-23 16:11:42.738792"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-23 16:11:42.742486"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMSC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMSC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 10.0], ["updated_at", "2021-11-23 16:11:42.747593"], ["id", 6]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 16:11:42.754384"], ["updated_at", "2021-11-23 16:11:42.754384"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-23 16:11:42.758171"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:11:42.761858"], ["updated_at", "2021-11-23 16:11:42.761858"], ["account_id", 3]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 16:11:42.777912"], ["updated_at", "2021-11-23 16:11:42.777912"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-23 16:11:42.782185"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 100.0], ["updated_at", "2021-11-23 16:11:42.787890"], ["id", 8]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:11:42.801808"], ["updated_at", "2021-11-23 16:11:42.801808"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 16:11:42.811994"], ["updated_at", "2021-11-23 16:11:42.811994"], ["user_id", 4]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 16:11:42.827606"], ["updated_at", "2021-11-23 16:11:42.827606"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 16:11:42.837704"], ["updated_at", "2021-11-23 16:11:42.837704"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 16:11:42.846688"], ["updated_at", "2021-11-23 16:11:42.846688"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 16:11:42.853064"], ["updated_at", "2021-11-23 16:11:42.853064"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 16:11:42.859413"], ["updated_at", "2021-11-23 16:11:42.859413"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 16:11:42.865898"], ["updated_at", "2021-11-23 16:11:42.865898"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1994], ["stock_balance", 11993], ["updated_at", "2021-11-23 16:11:42.869485"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 1.0], ["updated_at", "2021-11-23 16:11:42.873693"], ["id", 10]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 16:11:42.887516"], ["updated_at", "2021-11-23 16:11:42.887516"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -2569], ["stock_balance", 12568], ["updated_at", "2021-11-23 16:11:42.894375"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "BTC-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "BTC-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0.02], ["updated_at", "2021-11-23 16:11:42.900920"], ["id", 11]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 16:11:42.910624"], ["updated_at", "2021-11-23 16:11:42.910624"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6369], ["stock_balance", 16368], ["updated_at", "2021-11-23 16:11:42.914908"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "DOT1-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "DOT1-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 200.0], ["updated_at", "2021-11-23 16:11:42.918970"], ["id", 12]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 16:11:42.924781"], ["updated_at", "2021-11-23 16:11:42.924781"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9369], ["stock_balance", 19368], ["updated_at", "2021-11-23 16:11:42.929828"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "TLRY"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "TLRY"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 600.0], ["updated_at", "2021-11-23 16:11:42.934568"], ["id", 13]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 16:11:42.944056"], ["updated_at", "2021-11-23 16:11:42.944056"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9729], ["stock_balance", 19728], ["updated_at", "2021-11-23 16:11:42.949737"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "CGC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "CGC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 60.0], ["updated_at", "2021-11-23 16:11:42.953884"], ["id", 14]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (64.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (43.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.9ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (356.5ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (28.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 16:14:05.934280"], ["updated_at", "2021-11-23 16:14:05.934280"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 16:14:05.947261"], ["updated_at", "2021-11-23 16:14:05.947261"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (24.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 16:14:06.175102"], ["updated_at", "2021-11-23 16:14:06.175102"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 16:14:06.188734"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 16:14:06.201557"], ["updated_at", "2021-11-23 16:14:06.201557"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:06.247616"], ["updated_at", "2021-11-23 16:14:06.247616"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 16:14:06.264902"], ["updated_at", "2021-11-23 16:14:06.264902"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:14:06.278121"], ["updated_at", "2021-11-23 16:14:06.278121"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 16:14:06.284098"], ["updated_at", "2021-11-23 16:14:06.284098"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 16:14:06.297022"], ["updated_at", "2021-11-23 16:14:06.297022"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 16:14:06.313082"], ["updated_at", "2021-11-23 16:14:06.313082"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:06.318473"], ["updated_at", "2021-11-23 16:14:06.318473"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 16:14:06.324014"], ["updated_at", "2021-11-23 16:14:06.324014"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 16:14:06.330000"], ["updated_at", "2021-11-23 16:14:06.330000"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 16:14:06.343096"], ["updated_at", "2021-11-23 16:14:06.343096"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 16:14:06.359802"], ["updated_at", "2021-11-23 16:14:06.359802"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 16:14:06.370111"], ["updated_at", "2021-11-23 16:14:06.370111"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:06.377022"], ["updated_at", "2021-11-23 16:14:06.377022"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 16:14:06.384350"], ["updated_at", "2021-11-23 16:14:06.384350"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 16:14:06.390496"], ["updated_at", "2021-11-23 16:14:06.390496"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 16:14:06.403537"], ["updated_at", "2021-11-23 16:14:06.403537"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:14:06.413673"], ["updated_at", "2021-11-23 16:14:06.413673"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 16:14:06.420677"], ["updated_at", "2021-11-23 16:14:06.420677"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 16:14:06.427353"], ["updated_at", "2021-11-23 16:14:06.427353"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 16:14:06.433386"], ["updated_at", "2021-11-23 16:14:06.433386"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 16:14:06.439319"], ["updated_at", "2021-11-23 16:14:06.439319"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 16:14:06.445738"], ["updated_at", "2021-11-23 16:14:06.445738"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:06.456609"], ["updated_at", "2021-11-23 16:14:06.456609"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 16:14:06.466024"], ["updated_at", "2021-11-23 16:14:06.466024"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 16:14:06.473270"], ["updated_at", "2021-11-23 16:14:06.473270"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 16:14:06.479940"], ["updated_at", "2021-11-23 16:14:06.479940"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 16:14:06.485976"], ["updated_at", "2021-11-23 16:14:06.485976"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 16:14:06.492491"], ["updated_at", "2021-11-23 16:14:06.492491"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 16:14:06.498478"], ["updated_at", "2021-11-23 16:14:06.498478"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 16:14:06.507465"], ["updated_at", "2021-11-23 16:14:06.507465"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 16:14:06.534780"], ["updated_at", "2021-11-23 16:14:06.534780"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 16:14:06.542702"], ["updated_at", "2021-11-23 16:14:06.542702"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 16:14:06.550019"], ["updated_at", "2021-11-23 16:14:06.550019"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 16:14:06.557922"], ["updated_at", "2021-11-23 16:14:06.557922"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (66.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (44.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (395.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (36.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (24.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (29.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (25.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 16:14:10.985091"], ["updated_at", "2021-11-23 16:14:10.985091"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 16:14:11.000352"], ["updated_at", "2021-11-23 16:14:11.000352"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (36.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (28.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (25.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (26.5ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (27.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (6.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (27.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (3.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 16:14:11.368393"], ["updated_at", "2021-11-23 16:14:11.368393"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 16:14:11.385644"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 16:14:11.398528"], ["updated_at", "2021-11-23 16:14:11.398528"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:11.440785"], ["updated_at", "2021-11-23 16:14:11.440785"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 16:14:11.470161"], ["updated_at", "2021-11-23 16:14:11.470161"], ["user_id", 1]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:14:11.485969"], ["updated_at", "2021-11-23 16:14:11.485969"], ["account_id", 1]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 16:14:11.499265"], ["updated_at", "2021-11-23 16:14:11.499265"], ["account_id", 1]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 16:14:11.524970"], ["updated_at", "2021-11-23 16:14:11.524970"], ["account_id", 1]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 16:14:11.551517"], ["updated_at", "2021-11-23 16:14:11.551517"], ["account_id", 1]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:11.560050"], ["updated_at", "2021-11-23 16:14:11.560050"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 16:14:11.568330"], ["updated_at", "2021-11-23 16:14:11.568330"], ["user_id", 2]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 16:14:11.576551"], ["updated_at", "2021-11-23 16:14:11.576551"], ["account_id", 2]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 16:14:11.584513"], ["updated_at", "2021-11-23 16:14:11.584513"], ["account_id", 2]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 16:14:11.598572"], ["updated_at", "2021-11-23 16:14:11.598572"], ["account_id", 2]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 16:14:11.613670"], ["updated_at", "2021-11-23 16:14:11.613670"], ["account_id", 2]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:11.630117"], ["updated_at", "2021-11-23 16:14:11.630117"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 16:14:11.644576"], ["updated_at", "2021-11-23 16:14:11.644576"], ["user_id", 3]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 16:14:11.654755"], ["updated_at", "2021-11-23 16:14:11.654755"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 16:14:11.663549"], ["updated_at", "2021-11-23 16:14:11.663549"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 16:14:11.671356"], ["updated_at", "2021-11-23 16:14:11.671356"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 16:14:11.679029"], ["updated_at", "2021-11-23 16:14:11.679029"], ["account_id", 3]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 16:14:11.688191"], ["updated_at", "2021-11-23 16:14:11.688191"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 16:14:11.696682"], ["updated_at", "2021-11-23 16:14:11.696682"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 16:14:11.704418"], ["updated_at", "2021-11-23 16:14:11.704418"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 16:14:11.712255"], ["updated_at", "2021-11-23 16:14:11.712255"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 16:14:11.719930"], ["updated_at", "2021-11-23 16:14:11.719930"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 16:14:11.734386"], ["updated_at", "2021-11-23 16:14:11.734386"], ["user_id", 4]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 16:14:11.751963"], ["updated_at", "2021-11-23 16:14:11.751963"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 16:14:11.768620"], ["updated_at", "2021-11-23 16:14:11.768620"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 16:14:11.785209"], ["updated_at", "2021-11-23 16:14:11.785209"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 16:14:11.798911"], ["updated_at", "2021-11-23 16:14:11.798911"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 16:14:11.808622"], ["updated_at", "2021-11-23 16:14:11.808622"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 16:14:11.818582"], ["updated_at", "2021-11-23 16:14:11.818582"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 16:14:11.840205"], ["updated_at", "2021-11-23 16:14:11.840205"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 16:14:11.848956"], ["updated_at", "2021-11-23 16:14:11.848956"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 16:14:11.857088"], ["updated_at", "2021-11-23 16:14:11.857088"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 16:14:11.865016"], ["updated_at", "2021-11-23 16:14:11.865016"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 11:16:08 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 255ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 9104)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 11:16:42 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 57ms (Views: 28.5ms | ActiveRecord: 9.2ms | Allocations: 18097)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 11:16:52 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 1.8ms | Allocations: 2263)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 11:17:03 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.7, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (1.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 0.7], ["settled_price", 155], ["created_at", "2021-11-23 16:17:04.019064"], ["updated_at", "2021-11-23 16:17:04.019064"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 44ms (Views: 2.0ms | ActiveRecord: 10.1ms | Allocations: 6361)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 11:17:10 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1.0], ["settled_price", 155], ["created_at", "2021-11-23 16:17:10.240000"], ["updated_at", "2021-11-23 16:17:10.240000"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 23ms (Views: 0.4ms | ActiveRecord: 5.9ms | Allocations: 4577)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 11:30:04 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 220ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 4042)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 11:31:49 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (1.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 29ms (Views: 8.7ms | ActiveRecord: 3.8ms | Allocations: 2298)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 11:44:08 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 222ms (Views: 0.1ms | ActiveRecord: 5.0ms | Allocations: 3960)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 12:01:25 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 223ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 7879)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:02:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>4350.3022, "user_id"=>2}}
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3708)


  
NameError (undefined local variable or method `user_id' for #<TransactionsController:0x007fb8d011d290>
Did you mean?  user_url):
  
app/controllers/transactions_controller.rb:27:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:02:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.594, "user_id"=>2}}
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms | Allocations: 2270)


  
NameError (undefined local variable or method `user_id' for #<TransactionsController:0x007fb8d4030e00>
Did you mean?  user_url):
  
app/controllers/transactions_controller.rb:27:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:02:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.594, "user_id"=>2}}
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3714)


  
NameError (undefined local variable or method `user_id' for #<TransactionsController:0x007fb8d0608a48>
Did you mean?  user_url):
  
app/controllers/transactions_controller.rb:27:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 12:03:37 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 241ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 9105)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:03:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.6666, "user_id"=>2}}
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
[31mUnpermitted parameter: :user_id[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 3928)


  
NameError (undefined local variable or method `user_id' for #<TransactionsController:0x00564c6fbe1fb0>
Did you mean?  user_url):
  
app/controllers/transactions_controller.rb:27:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:04:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.6666, "user_id"=>2}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 3612)


  
NameError (undefined local variable or method `user_id' for #<TransactionsController:0x00564c6fe100c0>
Did you mean?  user_url):
  
app/controllers/transactions_controller.rb:27:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 12:05:53 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 222ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 5428)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:06:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.535, "user_id"=>2}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.5ms | Allocations: 9098)


  
NameError (undefined local variable or method `account_id' for #<TransactionsController:0x007fa308591250>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:32:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 12:11:33 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 225ms (Views: 0.7ms | ActiveRecord: 2.7ms | Allocations: 9105)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:11:34 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 54ms (Views: 19.3ms | ActiveRecord: 7.3ms | Allocations: 18138)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:16:14 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 30ms (Views: 24.4ms | ActiveRecord: 1.9ms | Allocations: 2263)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:18:15 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.7499}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:35:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:39:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.9ms | Allocations: 2520)


  
NoMethodError (undefined method `cash_balance' for nil:NilClass):
  
app/controllers/transactions_controller.rb:47:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:20:37 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>159.7499}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.2ms | Allocations: 5532)


  
NoMethodError (undefined method `cash_balance' for nil:NilClass):
  
app/controllers/transactions_controller.rb:45:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:21:16 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>159.7499}}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.9ms | Allocations: 2469)


  
NoMethodError (undefined method `cash_balance' for nil:NilClass):
  
app/controllers/transactions_controller.rb:45:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:23:12 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>159.7499}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" IS NULL AND "transactions"."ticker" = $1 AND "transactions"."trade" = $2[0m  [["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.6ms | Allocations: 2445)


  
NoMethodError (undefined method `cash_balance' for nil:NilClass):
  
app/controllers/transactions_controller.rb:45:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 12:23:37 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 221ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 5293)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:23:37 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 34ms (Views: 12.1ms | ActiveRecord: 9.1ms | Allocations: 13760)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:24:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (2.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 0.1], ["settled_price", 160], ["created_at", "2021-11-23 17:24:19.637956"], ["updated_at", "2021-11-23 17:24:19.637956"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
Completed 201 Created in 30ms (Views: 0.6ms | ActiveRecord: 5.7ms | Allocations: 7693)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:24:23 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.5ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:53:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:26:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 0.1], ["settled_price", 160], ["created_at", "2021-11-23 17:26:21.471761"], ["updated_at", "2021-11-23 17:26:21.471761"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
Completed 201 Created in 27ms (Views: 0.5ms | ActiveRecord: 5.4ms | Allocations: 4546)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:31:27 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>0.2, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 0.2], ["settled_price", 160], ["created_at", "2021-11-23 17:31:27.160559"], ["updated_at", "2021-11-23 17:31:27.160559"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
Completed 201 Created in 21ms (Views: 0.6ms | ActiveRecord: 5.1ms | Allocations: 4556)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:32:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.6ms | Allocations: 2398)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:47:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:32:06 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 0.1], ["settled_price", 160], ["created_at", "2021-11-23 17:32:06.537107"], ["updated_at", "2021-11-23 17:32:06.537107"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:58:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:58:in `create'
Completed 201 Created in 31ms (Views: 0.6ms | ActiveRecord: 6.1ms | Allocations: 4559)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:33:30 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 5.0ms | Allocations: 12916)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:47:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:33:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>0.1, "settled_price"=>160.025, "account_id"=>2}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 133], ["stock_balance", 9866], ["updated_at", "2021-11-23 17:33:41.907605"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:66:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 0.1], ["current_spot_price", 160], ["created_at", "2021-11-23 17:33:41.921719"], ["updated_at", "2021-11-23 17:33:41.921719"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 0.1], ["settled_price", 160], ["created_at", "2021-11-23 17:33:41.927120"], ["updated_at", "2021-11-23 17:33:41.927120"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:85:in `create'
Completed 201 Created in 51ms (Views: 0.5ms | ActiveRecord: 12.1ms | Allocations: 20446)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 12:36:30 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 231ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 9104)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:36:30 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 55ms (Views: 29.0ms | ActiveRecord: 7.3ms | Allocations: 18687)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:37:04 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.8ms | Allocations: 2900)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:37:10 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"DKNG", "trade"=>-1, "quantity"=>1, "settled_price"=>35.12, "account_id"=>2}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.7ms | Allocations: 2530)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:53:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:37:23 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"DKNG", "trade"=>1, "quantity"=>0.1, "settled_price"=>35.12, "account_id"=>2}}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 129], ["stock_balance", 9869], ["updated_at", "2021-11-23 17:37:23.103364"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:66:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DKNG"], ["quantity", 0.1], ["current_spot_price", 35], ["created_at", "2021-11-23 17:37:23.112623"], ["updated_at", "2021-11-23 17:37:23.112623"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DKNG"], ["trade", 1], ["quantity", 0.1], ["settled_price", 35], ["created_at", "2021-11-23 17:37:23.118617"], ["updated_at", "2021-11-23 17:37:23.118617"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:85:in `create'
Completed 201 Created in 42ms (Views: 0.7ms | ActiveRecord: 9.1ms | Allocations: 12905)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:37:27 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 17ms (Views: 9.4ms | ActiveRecord: 2.6ms | Allocations: 3129)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:37:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"DKNG", "trade"=>-1, "quantity"=>1, "settled_price"=>35.1101, "account_id"=>2}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (1.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 3.8ms | Allocations: 2387)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:53:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-23 12:38:03 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"DKNG", "trade"=>-1, "quantity"=>0.1, "settled_price"=>35.1101, "account_id"=>2}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 132], ["stock_balance", 9865], ["updated_at", "2021-11-23 17:38:03.417075"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:63:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:66:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "DKNG"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:68:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:73:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:73:in `create'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0.0], ["updated_at", "2021-11-23 17:38:03.427320"], ["id", 15]]
  ↳ app/controllers/transactions_controller.rb:73:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:73:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mPortfolio Destroy (0.7ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 15]]
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DKNG"], ["trade", -1], ["quantity", 0.1], ["settled_price", 35], ["created_at", "2021-11-23 17:38:03.437865"], ["updated_at", "2021-11-23 17:38:03.437865"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:85:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:85:in `create'
Completed 201 Created in 51ms (Views: 0.3ms | ActiveRecord: 11.9ms | Allocations: 12048)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-23 12:38:17 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.3ms | Allocations: 3092)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
