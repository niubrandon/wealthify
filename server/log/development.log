Started GET "/" for ::1 at 2021-11-18 12:54:59 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.1ms | Allocations: 482)
Completed 200 OK in 26ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 4252)


Started GET "/favicon.ico" for ::1 at 2021-11-18 12:55:00 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2021-11-18 16:47:27 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.4ms | Allocations: 482)
Completed 200 OK in 18ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 4249)


Started GET "/" for ::1 at 2021-11-18 16:57:08 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.2ms | Allocations: 309)
Completed 200 OK in 18ms (Views: 10.0ms | ActiveRecord: 0.0ms | Allocations: 2472)


Started GET "/favicon.ico" for ::1 at 2021-11-18 16:57:08 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2021-11-18 17:02:24 -0500
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/aarontenn/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.1ms | Allocations: 309)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 2472)


  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20211119163009)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 16:31:45.026275"], ["updated_at", "2021-11-19 16:31:45.026275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAccounts (20211119163542)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163542"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransactions (20211119163721)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163721"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (4.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePortfolios (20211119163903)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163903"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (3.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserToAccounts (20211119170947)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119170947"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAccountToTransactions (20211119184501)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119184501"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAccountToPortfolios (20211119185026)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119185026"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-11-19 13:55:34 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.1ms | Allocations: 309)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 2470)


Started GET "/api/accounts" for ::1 at 2021-11-19 13:55:43 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/api/portfolio/1" for ::1 at 2021-11-19 14:03:10 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/portfolio/1"):
  
Started GET "/api/portfolios/1" for ::1 at 2021-11-19 14:03:18 -0500
Processing by PortfoliosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:58:in `set_portfolio'
Completed 404 Not Found in 83ms (ActiveRecord: 31.3ms | Allocations: 6789)


  
ActiveRecord::RecordNotFound (Couldn't find Portfolio with 'id'=1):
  
app/controllers/portfolios_controller.rb:58:in `set_portfolio'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:11:31.324719"], ["updated_at", "2021-11-19 19:11:31.324719"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:14:45.760347"], ["updated_at", "2021-11-19 19:14:45.760347"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (3.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 10000], ["created_at", "2021-11-19 19:14:45.806141"], ["updated_at", "2021-11-19 19:14:45.806141"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:22:58.791372"], ["updated_at", "2021-11-19 19:22:58.791372"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 19:22:58.826206"], ["updated_at", "2021-11-19 19:22:58.826206"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (2.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 19:22:58.849057"], ["updated_at", "2021-11-19 19:22:58.849057"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 19:22:58.855905"], ["updated_at", "2021-11-19 19:22:58.855905"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5049.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5048.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (31.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (19.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (97.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (27.6ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:03.562512"], ["updated_at", "2021-11-19 19:29:03.562512"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:03.585282"], ["updated_at", "2021-11-19 19:29:03.585282"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:03.647585"], ["updated_at", "2021-11-19 19:29:03.647585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-19 19:29:03.653666"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:03.659339"], ["updated_at", "2021-11-19 19:29:03.659339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:29:03.706830"], ["updated_at", "2021-11-19 19:29:03.706830"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 19:29:03.729249"], ["updated_at", "2021-11-19 19:29:03.729249"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 19:29:03.758727"], ["updated_at", "2021-11-19 19:29:03.758727"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 19:29:03.764775"], ["updated_at", "2021-11-19 19:29:03.764775"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (15.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (80.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:41.188681"], ["updated_at", "2021-11-19 19:29:41.188681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:41.198793"], ["updated_at", "2021-11-19 19:29:41.198793"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 19:29:41.272928"], ["updated_at", "2021-11-19 19:29:41.272928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-19 19:29:41.278188"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 19:29:41.282884"], ["updated_at", "2021-11-19 19:29:41.282884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 19:29:41.328722"], ["updated_at", "2021-11-19 19:29:41.328722"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 19:29:41.350450"], ["updated_at", "2021-11-19 19:29:41.350450"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 19:29:41.378005"], ["updated_at", "2021-11-19 19:29:41.378005"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 19:29:41.382960"], ["updated_at", "2021-11-19 19:29:41.382960"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-19 19:29:41.397307"], ["updated_at", "2021-11-19 19:29:41.397307"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-19 19:29:41.401895"], ["updated_at", "2021-11-19 19:29:41.401895"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-11-19 14:30:31 -0500
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/brandonniu/.rbenv/versions/2.6.6/lib/ruby/gems/2.6.0/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.2ms | Allocations: 309)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 2470)


Started GET "/transactions/1" for ::1 at 2021-11-19 14:30:44 -0500
  
ActionController::RoutingError (No route matches [GET] "/transactions/1"):
  
Started GET "/api/transactions/1" for ::1 at 2021-11-19 14:30:55 -0500
Processing by TransactionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:44:in `set_transaction'
Completed 200 OK in 29ms (Views: 0.9ms | ActiveRecord: 15.0ms | Allocations: 6693)


Started GET "/api/transactions/2" for ::1 at 2021-11-19 14:31:12 -0500
Processing by TransactionsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:44:in `set_transaction'
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 656)


Started GET "/api/transactions/" for ::1 at 2021-11-19 14:31:17 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 856)


Started GET "/api/accounts" for ::1 at 2021-11-19 14:31:31 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)


Started GET "/api/accounts/1" for ::1 at 2021-11-19 14:31:43 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:51:in `set_account'
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 10.7ms | Allocations: 6583)


Started GET "/api/users" for ::1 at 2021-11-19 14:31:56 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 37ms (Views: 15.9ms | ActiveRecord: 14.4ms | Allocations: 5314)


Started GET "/api/portfolios" for ::1 at 2021-11-19 14:32:16 -0500
Processing by PortfoliosController#index as HTML
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:8:in `index'
Completed 200 OK in 27ms (Views: 14.3ms | ActiveRecord: 11.9ms | Allocations: 4909)


  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (24.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (24.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (80.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (35.6ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 21:08:42.146670"], ["updated_at", "2021-11-19 21:08:42.146670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 21:08:42.153173"], ["updated_at", "2021-11-19 21:08:42.153173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211119185026)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501);

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-19 21:08:42.211526"], ["updated_at", "2021-11-19 21:08:42.211526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-19 21:08:42.216261"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0f55761c753375885fb4cea189534f9280c5e972"], ["created_at", "2021-11-19 21:08:42.237513"], ["updated_at", "2021-11-19 21:08:42.237513"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 21:08:42.297232"], ["updated_at", "2021-11-19 21:08:42.297232"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-19 21:08:42.326105"], ["updated_at", "2021-11-19 21:08:42.326105"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 21:08:42.344053"], ["updated_at", "2021-11-19 21:08:42.344053"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-19 21:08:42.349372"], ["updated_at", "2021-11-19 21:08:42.349372"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-19 21:08:42.367732"], ["updated_at", "2021-11-19 21:08:42.367732"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-19 21:08:42.373276"], ["updated_at", "2021-11-19 21:08:42.373276"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-19 21:08:42.378784"], ["updated_at", "2021-11-19 21:08:42.378784"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-19 21:08:42.383554"], ["updated_at", "2021-11-19 21:08:42.383554"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-19 21:08:42.388945"], ["updated_at", "2021-11-19 21:08:42.388945"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-19 21:08:42.394444"], ["updated_at", "2021-11-19 21:08:42.394444"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-19 21:08:42.399717"], ["updated_at", "2021-11-19 21:08:42.399717"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-19 21:08:42.404204"], ["updated_at", "2021-11-19 21:08:42.404204"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-19 21:08:42.408477"], ["updated_at", "2021-11-19 21:08:42.408477"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-19 21:08:42.412768"], ["updated_at", "2021-11-19 21:08:42.412768"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-19 21:08:42.417267"], ["updated_at", "2021-11-19 21:08:42.417267"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-19 21:08:42.421694"], ["updated_at", "2021-11-19 21:08:42.421694"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-19 21:08:42.426172"], ["updated_at", "2021-11-19 21:08:42.426172"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-19 21:08:42.430526"], ["updated_at", "2021-11-19 21:08:42.430526"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-19 21:08:42.436159"], ["updated_at", "2021-11-19 21:08:42.436159"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-19 21:08:42.440553"], ["updated_at", "2021-11-19 21:08:42.440553"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-19 21:08:42.444984"], ["updated_at", "2021-11-19 21:08:42.444984"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-19 21:08:42.449180"], ["updated_at", "2021-11-19 21:08:42.449180"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-19 21:08:42.453272"], ["updated_at", "2021-11-19 21:08:42.453272"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-19 21:08:42.457553"], ["updated_at", "2021-11-19 21:08:42.457553"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-19 21:08:42.462298"], ["updated_at", "2021-11-19 21:08:42.462298"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-19 21:08:42.466804"], ["updated_at", "2021-11-19 21:08:42.466804"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-19 21:08:42.484901"], ["updated_at", "2021-11-19 21:08:42.484901"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-19 21:08:42.489393"], ["updated_at", "2021-11-19 21:08:42.489393"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-19 21:08:42.493843"], ["updated_at", "2021-11-19 21:08:42.493843"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-19 21:08:42.498546"], ["updated_at", "2021-11-19 21:08:42.498546"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-19 21:08:42.502855"], ["updated_at", "2021-11-19 21:08:42.502855"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-19 21:08:42.507148"], ["updated_at", "2021-11-19 21:08:42.507148"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-19 21:08:42.511431"], ["updated_at", "2021-11-19 21:08:42.511431"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-19 21:08:42.516001"], ["updated_at", "2021-11-19 21:08:42.516001"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (97.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20211119163009)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163009"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAccounts (20211119163542)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163542"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransactions (20211119163721)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163721"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePortfolios (20211119163903)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119163903"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserToAccounts (20211119170947)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119170947"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAccountToTransactions (20211119184501)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119184501"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAccountToPortfolios (20211119185026)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD "account_id" bigint NOT NULL[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211119185026"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferralCodeToUsers (20211120012622)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "referral_code" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120012622"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-20 01:28:26.056089"], ["updated_at", "2021-11-20 01:28:26.056089"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddReferralCountsToAccounts (20211120013655)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD "referral_bonus" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD "signup_bonus" boolean[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120013655"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateReferrals (20211120014208)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120014208"]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserRefToReferrals (20211120014456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211120014456"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-11-20 22:38:29 -0500
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 29.0ms | Allocations: 308)
Completed 200 OK in 54ms (Views: 34.4ms | ActiveRecord: 0.0ms | Allocations: 2463)


Started GET "/favicon.ico" for ::1 at 2021-11-20 22:38:30 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/user/login" for ::1 at 2021-11-20 22:38:36 -0500
  
ActionController::RoutingError (No route matches [GET] "/user/login"):
  
Started GET "/api/user/login" for ::1 at 2021-11-20 22:38:47 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/user/login"):
  
Started GET "/api/users/login" for ::1 at 2021-11-20 22:38:58 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `set_user'
Completed 404 Not Found in 53ms (ActiveRecord: 24.4ms | Allocations: 3900)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:44:in `set_user'
Started GET "/api/users/" for ::1 at 2021-11-20 22:39:15 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms | Allocations: 716)


Started GET "/api/users/all" for ::1 at 2021-11-20 22:39:21 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"all"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `set_user'
Completed 404 Not Found in 6ms (ActiveRecord: 0.5ms | Allocations: 543)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=all):
  
app/controllers/users_controller.rb:44:in `set_user'
Started GET "/" for ::1 at 2021-11-21 11:42:19 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 34.7ms | Allocations: 308)
Completed 200 OK in 53ms (Views: 39.9ms | ActiveRecord: 0.0ms | Allocations: 2488)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (73.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (42.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (360.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (358.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (27.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (24.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:26:34.480330"], ["updated_at", "2021-11-21 17:26:34.480330"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:26:34.499560"], ["updated_at", "2021-11-21 17:26:34.499560"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:26:34.729301"], ["updated_at", "2021-11-21 17:26:34.729301"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:26:34.740051"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:26:34.749658"], ["updated_at", "2021-11-21 17:26:34.749658"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:26:34.887905"], ["updated_at", "2021-11-21 17:26:34.887905"]]
  [1m[36mAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:34.949314"], ["updated_at", "2021-11-21 17:26:34.949314"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:26:34.959653"], ["updated_at", "2021-11-21 17:26:34.959653"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:26:34.995306"], ["updated_at", "2021-11-21 17:26:34.995306"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:26:35.003581"], ["updated_at", "2021-11-21 17:26:35.003581"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:26:35.018764"], ["updated_at", "2021-11-21 17:26:35.018764"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:26:35.024763"], ["updated_at", "2021-11-21 17:26:35.024763"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:26:35.045990"], ["updated_at", "2021-11-21 17:26:35.045990"]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.049123"], ["updated_at", "2021-11-21 17:26:35.049123"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.053715"], ["updated_at", "2021-11-21 17:26:35.053715"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:26:35.059207"], ["updated_at", "2021-11-21 17:26:35.059207"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:26:35.064980"], ["updated_at", "2021-11-21 17:26:35.064980"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:26:35.070927"], ["updated_at", "2021-11-21 17:26:35.070927"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:26:35.075441"], ["updated_at", "2021-11-21 17:26:35.075441"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:26:35.083197"], ["updated_at", "2021-11-21 17:26:35.083197"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.085666"], ["updated_at", "2021-11-21 17:26:35.085666"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.090419"], ["updated_at", "2021-11-21 17:26:35.090419"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:26:35.096748"], ["updated_at", "2021-11-21 17:26:35.096748"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:26:35.103711"], ["updated_at", "2021-11-21 17:26:35.103711"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:26:35.109441"], ["updated_at", "2021-11-21 17:26:35.109441"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:26:35.114252"], ["updated_at", "2021-11-21 17:26:35.114252"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:26:35.120038"], ["updated_at", "2021-11-21 17:26:35.120038"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:26:35.124507"], ["updated_at", "2021-11-21 17:26:35.124507"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:26:35.129188"], ["updated_at", "2021-11-21 17:26:35.129188"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:26:35.133930"], ["updated_at", "2021-11-21 17:26:35.133930"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:26:35.140000"], ["updated_at", "2021-11-21 17:26:35.140000"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.142022"], ["updated_at", "2021-11-21 17:26:35.142022"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:26:35.145417"], ["updated_at", "2021-11-21 17:26:35.145417"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:26:35.150366"], ["updated_at", "2021-11-21 17:26:35.150366"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:26:35.154907"], ["updated_at", "2021-11-21 17:26:35.154907"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:26:35.159760"], ["updated_at", "2021-11-21 17:26:35.159760"], ["account_id", 8]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:26:35.168043"], ["updated_at", "2021-11-21 17:26:35.168043"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:26:35.181019"], ["updated_at", "2021-11-21 17:26:35.181019"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:26:35.186339"], ["updated_at", "2021-11-21 17:26:35.186339"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:26:35.191095"], ["updated_at", "2021-11-21 17:26:35.191095"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:26:35.195990"], ["updated_at", "2021-11-21 17:26:35.195990"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:26:35.200694"], ["updated_at", "2021-11-21 17:26:35.200694"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:26:35.205733"], ["updated_at", "2021-11-21 17:26:35.205733"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (40.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (366.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (33.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (362.8ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (40.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (34.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (361.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (362.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:34:25.273658"], ["updated_at", "2021-11-21 17:34:25.273658"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:34:25.296984"], ["updated_at", "2021-11-21 17:34:25.296984"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:34:25.514799"], ["updated_at", "2021-11-21 17:34:25.514799"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:34:25.537082"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:34:25.559757"], ["updated_at", "2021-11-21 17:34:25.559757"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:34:25.616657"], ["updated_at", "2021-11-21 17:34:25.616657"]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.629926"], ["updated_at", "2021-11-21 17:34:25.629926"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:34:25.634941"], ["updated_at", "2021-11-21 17:34:25.634941"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:34:25.646049"], ["updated_at", "2021-11-21 17:34:25.646049"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:34:25.651641"], ["updated_at", "2021-11-21 17:34:25.651641"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:34:25.666149"], ["updated_at", "2021-11-21 17:34:25.666149"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:34:25.671592"], ["updated_at", "2021-11-21 17:34:25.671592"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:34:25.678624"], ["updated_at", "2021-11-21 17:34:25.678624"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.680882"], ["updated_at", "2021-11-21 17:34:25.680882"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.684508"], ["updated_at", "2021-11-21 17:34:25.684508"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:34:25.700278"], ["updated_at", "2021-11-21 17:34:25.700278"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:34:25.704854"], ["updated_at", "2021-11-21 17:34:25.704854"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:34:25.710519"], ["updated_at", "2021-11-21 17:34:25.710519"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:34:25.715603"], ["updated_at", "2021-11-21 17:34:25.715603"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:34:25.725173"], ["updated_at", "2021-11-21 17:34:25.725173"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.730656"], ["updated_at", "2021-11-21 17:34:25.730656"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.736246"], ["updated_at", "2021-11-21 17:34:25.736246"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:34:25.741635"], ["updated_at", "2021-11-21 17:34:25.741635"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:34:25.747670"], ["updated_at", "2021-11-21 17:34:25.747670"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:34:25.752515"], ["updated_at", "2021-11-21 17:34:25.752515"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:34:25.757253"], ["updated_at", "2021-11-21 17:34:25.757253"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:34:25.762329"], ["updated_at", "2021-11-21 17:34:25.762329"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:34:25.766850"], ["updated_at", "2021-11-21 17:34:25.766850"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:34:25.771545"], ["updated_at", "2021-11-21 17:34:25.771545"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:34:25.776664"], ["updated_at", "2021-11-21 17:34:25.776664"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:34:25.783814"], ["updated_at", "2021-11-21 17:34:25.783814"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.785709"], ["updated_at", "2021-11-21 17:34:25.785709"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:34:25.789481"], ["updated_at", "2021-11-21 17:34:25.789481"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:34:25.794095"], ["updated_at", "2021-11-21 17:34:25.794095"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:34:25.798665"], ["updated_at", "2021-11-21 17:34:25.798665"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:34:25.803262"], ["updated_at", "2021-11-21 17:34:25.803262"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:34:25.807823"], ["updated_at", "2021-11-21 17:34:25.807823"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:34:25.813111"], ["updated_at", "2021-11-21 17:34:25.813111"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:34:25.818252"], ["updated_at", "2021-11-21 17:34:25.818252"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:34:25.822784"], ["updated_at", "2021-11-21 17:34:25.822784"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:34:25.827137"], ["updated_at", "2021-11-21 17:34:25.827137"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:34:25.831966"], ["updated_at", "2021-11-21 17:34:25.831966"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:34:25.836752"], ["updated_at", "2021-11-21 17:34:25.836752"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (35.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (354.2ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (37.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (36.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (356.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:49:14.872533"], ["updated_at", "2021-11-21 17:49:14.872533"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:49:14.881282"], ["updated_at", "2021-11-21 17:49:14.881282"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:49:15.080935"], ["updated_at", "2021-11-21 17:49:15.080935"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (2.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:49:15.093162"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:49:15.105780"], ["updated_at", "2021-11-21 17:49:15.105780"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:49:15.149686"], ["updated_at", "2021-11-21 17:49:15.149686"]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.162579"], ["updated_at", "2021-11-21 17:49:15.162579"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:49:15.167263"], ["updated_at", "2021-11-21 17:49:15.167263"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:49:15.177733"], ["updated_at", "2021-11-21 17:49:15.177733"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:49:15.182487"], ["updated_at", "2021-11-21 17:49:15.182487"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:49:15.200909"], ["updated_at", "2021-11-21 17:49:15.200909"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:49:15.208027"], ["updated_at", "2021-11-21 17:49:15.208027"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:49:15.219014"], ["updated_at", "2021-11-21 17:49:15.219014"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.221547"], ["updated_at", "2021-11-21 17:49:15.221547"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.225769"], ["updated_at", "2021-11-21 17:49:15.225769"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:49:15.242884"], ["updated_at", "2021-11-21 17:49:15.242884"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:49:15.247570"], ["updated_at", "2021-11-21 17:49:15.247570"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:49:15.252239"], ["updated_at", "2021-11-21 17:49:15.252239"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:49:15.256861"], ["updated_at", "2021-11-21 17:49:15.256861"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:49:15.262814"], ["updated_at", "2021-11-21 17:49:15.262814"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.264623"], ["updated_at", "2021-11-21 17:49:15.264623"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.268402"], ["updated_at", "2021-11-21 17:49:15.268402"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:49:15.272944"], ["updated_at", "2021-11-21 17:49:15.272944"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:49:15.277421"], ["updated_at", "2021-11-21 17:49:15.277421"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:49:15.281811"], ["updated_at", "2021-11-21 17:49:15.281811"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:49:15.287557"], ["updated_at", "2021-11-21 17:49:15.287557"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:49:15.295999"], ["updated_at", "2021-11-21 17:49:15.295999"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:49:15.302416"], ["updated_at", "2021-11-21 17:49:15.302416"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:49:15.307891"], ["updated_at", "2021-11-21 17:49:15.307891"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:49:15.312893"], ["updated_at", "2021-11-21 17:49:15.312893"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:49:15.319399"], ["updated_at", "2021-11-21 17:49:15.319399"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.321423"], ["updated_at", "2021-11-21 17:49:15.321423"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:49:15.325341"], ["updated_at", "2021-11-21 17:49:15.325341"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:49:15.330433"], ["updated_at", "2021-11-21 17:49:15.330433"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:49:15.335016"], ["updated_at", "2021-11-21 17:49:15.335016"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:49:15.339597"], ["updated_at", "2021-11-21 17:49:15.339597"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:49:15.344126"], ["updated_at", "2021-11-21 17:49:15.344126"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:49:15.348447"], ["updated_at", "2021-11-21 17:49:15.348447"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:49:15.353095"], ["updated_at", "2021-11-21 17:49:15.353095"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:49:15.357605"], ["updated_at", "2021-11-21 17:49:15.357605"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:49:15.361842"], ["updated_at", "2021-11-21 17:49:15.361842"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:49:15.366021"], ["updated_at", "2021-11-21 17:49:15.366021"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:49:15.370314"], ["updated_at", "2021-11-21 17:49:15.370314"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (58.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (32.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (358.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (354.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:50:25.003050"], ["updated_at", "2021-11-21 17:50:25.003050"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:50:25.017613"], ["updated_at", "2021-11-21 17:50:25.017613"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 17:50:25.225689"], ["updated_at", "2021-11-21 17:50:25.225689"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 17:50:25.233089"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 17:50:25.239785"], ["updated_at", "2021-11-21 17:50:25.239785"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:50:25.288114"], ["updated_at", "2021-11-21 17:50:25.288114"]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.306411"], ["updated_at", "2021-11-21 17:50:25.306411"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 17:50:25.315289"], ["updated_at", "2021-11-21 17:50:25.315289"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:50:25.338278"], ["updated_at", "2021-11-21 17:50:25.338278"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 17:50:25.345212"], ["updated_at", "2021-11-21 17:50:25.345212"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:50:25.361293"], ["updated_at", "2021-11-21 17:50:25.361293"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 17:50:25.368243"], ["updated_at", "2021-11-21 17:50:25.368243"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 17:50:25.377387"], ["updated_at", "2021-11-21 17:50:25.377387"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.380016"], ["updated_at", "2021-11-21 17:50:25.380016"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.384471"], ["updated_at", "2021-11-21 17:50:25.384471"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 17:50:25.389639"], ["updated_at", "2021-11-21 17:50:25.389639"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 17:50:25.406952"], ["updated_at", "2021-11-21 17:50:25.406952"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 17:50:25.411540"], ["updated_at", "2021-11-21 17:50:25.411540"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 17:50:25.415736"], ["updated_at", "2021-11-21 17:50:25.415736"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 17:50:25.421989"], ["updated_at", "2021-11-21 17:50:25.421989"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.423823"], ["updated_at", "2021-11-21 17:50:25.423823"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.427086"], ["updated_at", "2021-11-21 17:50:25.427086"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 17:50:25.431681"], ["updated_at", "2021-11-21 17:50:25.431681"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 17:50:25.435761"], ["updated_at", "2021-11-21 17:50:25.435761"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 17:50:25.439711"], ["updated_at", "2021-11-21 17:50:25.439711"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 17:50:25.443671"], ["updated_at", "2021-11-21 17:50:25.443671"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 17:50:25.447810"], ["updated_at", "2021-11-21 17:50:25.447810"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 17:50:25.451951"], ["updated_at", "2021-11-21 17:50:25.451951"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 17:50:25.456048"], ["updated_at", "2021-11-21 17:50:25.456048"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 17:50:25.459949"], ["updated_at", "2021-11-21 17:50:25.459949"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 17:50:25.465383"], ["updated_at", "2021-11-21 17:50:25.465383"]]
  [1m[36mAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.467167"], ["updated_at", "2021-11-21 17:50:25.467167"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 17:50:25.470337"], ["updated_at", "2021-11-21 17:50:25.470337"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 17:50:25.475065"], ["updated_at", "2021-11-21 17:50:25.475065"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 17:50:25.479277"], ["updated_at", "2021-11-21 17:50:25.479277"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 17:50:25.483514"], ["updated_at", "2021-11-21 17:50:25.483514"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 17:50:25.487696"], ["updated_at", "2021-11-21 17:50:25.487696"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 17:50:25.491946"], ["updated_at", "2021-11-21 17:50:25.491946"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 17:50:25.496570"], ["updated_at", "2021-11-21 17:50:25.496570"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 17:50:25.500715"], ["updated_at", "2021-11-21 17:50:25.500715"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 17:50:25.504937"], ["updated_at", "2021-11-21 17:50:25.504937"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 17:50:25.509093"], ["updated_at", "2021-11-21 17:50:25.509093"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 17:50:25.513288"], ["updated_at", "2021-11-21 17:50:25.513288"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (40.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (31.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (358.7ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (353.2ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:30:27.589220"], ["updated_at", "2021-11-21 18:30:27.589220"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:30:27.600466"], ["updated_at", "2021-11-21 18:30:27.600466"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:30:27.815848"], ["updated_at", "2021-11-21 18:30:27.815848"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 18:30:27.829693"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:30:27.841942"], ["updated_at", "2021-11-21 18:30:27.841942"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:30:27.900599"], ["updated_at", "2021-11-21 18:30:27.900599"]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:27.913274"], ["updated_at", "2021-11-21 18:30:27.913274"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 18:30:27.918342"], ["updated_at", "2021-11-21 18:30:27.918342"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:30:27.929320"], ["updated_at", "2021-11-21 18:30:27.929320"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 18:30:27.934217"], ["updated_at", "2021-11-21 18:30:27.934217"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:30:27.944870"], ["updated_at", "2021-11-21 18:30:27.944870"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 18:30:27.951121"], ["updated_at", "2021-11-21 18:30:27.951121"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 18:30:27.972305"], ["updated_at", "2021-11-21 18:30:27.972305"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:27.975294"], ["updated_at", "2021-11-21 18:30:27.975294"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:27.978905"], ["updated_at", "2021-11-21 18:30:27.978905"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 18:30:27.983827"], ["updated_at", "2021-11-21 18:30:27.983827"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 18:30:27.988228"], ["updated_at", "2021-11-21 18:30:27.988228"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 18:30:27.992695"], ["updated_at", "2021-11-21 18:30:27.992695"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 18:30:27.997010"], ["updated_at", "2021-11-21 18:30:27.997010"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 18:30:28.003499"], ["updated_at", "2021-11-21 18:30:28.003499"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.005359"], ["updated_at", "2021-11-21 18:30:28.005359"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.008783"], ["updated_at", "2021-11-21 18:30:28.008783"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 18:30:28.013190"], ["updated_at", "2021-11-21 18:30:28.013190"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 18:30:28.017380"], ["updated_at", "2021-11-21 18:30:28.017380"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:30:28.021383"], ["updated_at", "2021-11-21 18:30:28.021383"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 18:30:28.025381"], ["updated_at", "2021-11-21 18:30:28.025381"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 18:30:28.029708"], ["updated_at", "2021-11-21 18:30:28.029708"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 18:30:28.034229"], ["updated_at", "2021-11-21 18:30:28.034229"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:30:28.038602"], ["updated_at", "2021-11-21 18:30:28.038602"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 18:30:28.042772"], ["updated_at", "2021-11-21 18:30:28.042772"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:30:28.048703"], ["updated_at", "2021-11-21 18:30:28.048703"]]
  [1m[36mAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.050573"], ["updated_at", "2021-11-21 18:30:28.050573"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 18:30:28.054288"], ["updated_at", "2021-11-21 18:30:28.054288"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 18:30:28.058517"], ["updated_at", "2021-11-21 18:30:28.058517"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 18:30:28.062447"], ["updated_at", "2021-11-21 18:30:28.062447"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 18:30:28.066344"], ["updated_at", "2021-11-21 18:30:28.066344"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 18:30:28.070317"], ["updated_at", "2021-11-21 18:30:28.070317"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 18:30:28.075598"], ["updated_at", "2021-11-21 18:30:28.075598"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 18:30:28.083999"], ["updated_at", "2021-11-21 18:30:28.083999"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 18:30:28.091532"], ["updated_at", "2021-11-21 18:30:28.091532"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 18:30:28.099344"], ["updated_at", "2021-11-21 18:30:28.099344"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 18:30:28.105373"], ["updated_at", "2021-11-21 18:30:28.105373"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 18:30:28.110529"], ["updated_at", "2021-11-21 18:30:28.110529"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (33.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (145.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (363.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (357.2ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:32:14.348996"], ["updated_at", "2021-11-21 18:32:14.348996"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:32:14.359054"], ["updated_at", "2021-11-21 18:32:14.359054"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-21 18:32:14.562388"], ["updated_at", "2021-11-21 18:32:14.562388"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-21 18:32:14.574396"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-21 18:32:14.582226"], ["updated_at", "2021-11-21 18:32:14.582226"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:32:14.622194"], ["updated_at", "2021-11-21 18:32:14.622194"]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.634798"], ["updated_at", "2021-11-21 18:32:14.634798"], ["user_id", 1]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-21 18:32:14.638869"], ["updated_at", "2021-11-21 18:32:14.638869"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:32:14.649576"], ["updated_at", "2021-11-21 18:32:14.649576"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-21 18:32:14.654156"], ["updated_at", "2021-11-21 18:32:14.654156"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:32:14.664643"], ["updated_at", "2021-11-21 18:32:14.664643"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-21 18:32:14.669231"], ["updated_at", "2021-11-21 18:32:14.669231"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-21 18:32:14.683713"], ["updated_at", "2021-11-21 18:32:14.683713"]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.686758"], ["updated_at", "2021-11-21 18:32:14.686758"], ["user_id", 2]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.690316"], ["updated_at", "2021-11-21 18:32:14.690316"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-21 18:32:14.695102"], ["updated_at", "2021-11-21 18:32:14.695102"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-21 18:32:14.699337"], ["updated_at", "2021-11-21 18:32:14.699337"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-21 18:32:14.703597"], ["updated_at", "2021-11-21 18:32:14.703597"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-21 18:32:14.707721"], ["updated_at", "2021-11-21 18:32:14.707721"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-21 18:32:14.713793"], ["updated_at", "2021-11-21 18:32:14.713793"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.715729"], ["updated_at", "2021-11-21 18:32:14.715729"], ["user_id", 3]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.719222"], ["updated_at", "2021-11-21 18:32:14.719222"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-21 18:32:14.723677"], ["updated_at", "2021-11-21 18:32:14.723677"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-21 18:32:14.727944"], ["updated_at", "2021-11-21 18:32:14.727944"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-21 18:32:14.732294"], ["updated_at", "2021-11-21 18:32:14.732294"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-21 18:32:14.736492"], ["updated_at", "2021-11-21 18:32:14.736492"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-21 18:32:14.743530"], ["updated_at", "2021-11-21 18:32:14.743530"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-21 18:32:14.753671"], ["updated_at", "2021-11-21 18:32:14.753671"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-21 18:32:14.760352"], ["updated_at", "2021-11-21 18:32:14.760352"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-21 18:32:14.765638"], ["updated_at", "2021-11-21 18:32:14.765638"], ["account_id", 6]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-21 18:32:14.772647"], ["updated_at", "2021-11-21 18:32:14.772647"]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.774782"], ["updated_at", "2021-11-21 18:32:14.774782"], ["user_id", 4]]
  ↳ app/models/user.rb:22:in `block in <class:User>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-21 18:32:14.778275"], ["updated_at", "2021-11-21 18:32:14.778275"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-21 18:32:14.782773"], ["updated_at", "2021-11-21 18:32:14.782773"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-21 18:32:14.786976"], ["updated_at", "2021-11-21 18:32:14.786976"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-21 18:32:14.792725"], ["updated_at", "2021-11-21 18:32:14.792725"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-21 18:32:14.801341"], ["updated_at", "2021-11-21 18:32:14.801341"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-21 18:32:14.807588"], ["updated_at", "2021-11-21 18:32:14.807588"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-21 18:32:14.813572"], ["updated_at", "2021-11-21 18:32:14.813572"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-21 18:32:14.818926"], ["updated_at", "2021-11-21 18:32:14.818926"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-21 18:32:14.824201"], ["updated_at", "2021-11-21 18:32:14.824201"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-21 18:32:14.829751"], ["updated_at", "2021-11-21 18:32:14.829751"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-21 18:32:14.834939"], ["updated_at", "2021-11-21 18:32:14.834939"], ["account_id", 8]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-11-21 16:13:27 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/wavyadri/.rvm/gems/ruby-2.6.6/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 34.1ms | Allocations: 308)
Completed 200 OK in 55ms (Views: 39.3ms | ActiveRecord: 0.0ms | Allocations: 2488)


Started GET "/login" for ::1 at 2021-11-21 16:13:34 -0500
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/api/users/login" for ::1 at 2021-11-21 16:13:47 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/users/login"):
  
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:29:36 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:30:05 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:31:09 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:31:23 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/transactions" for ::1 at 2021-11-21 17:31:29 -0500
  
ActionController::RoutingError (No route matches [POST] "/transactions"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:31:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2", "settled_price"=>"310.14", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 32ms (Views: 11.2ms | ActiveRecord: 5.7ms | Allocations: 12317)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:31:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2", "settled_price"=>"310.14", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 8ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 849)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:33:14 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2", "settled_price"=>"310.14", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 669)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:33:35 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2.3", "settled_price"=>"356.66", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 6ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:33:53 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>"2.3", "settled_price"=>"356.66", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:34:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>""}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 123)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:34:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>"1.7", "settled_price"=>"263.62", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 9ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:35:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>"1.7", "settled_price"=>"263.62", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:35:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>"1.7", "settled_price"=>"263.62", "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 21ms (Views: 19.5ms | ActiveRecord: 0.0ms | Allocations: 663)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:36:01 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1.7, "settled_price"=>263.62, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 5ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:37:04 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:37:10 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:39:13 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:39:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 118)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:39:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.3, "settled_price"=>201.59, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:41:01 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:41:10 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:41:51 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:42:12 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:42:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:42:25 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1.6, "settled_price"=>248.11, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/transactions" for ::1 at 2021-11-21 17:42:54 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (2.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 2.1ms | Allocations: 2175)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:23 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:39 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:43 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:51:52 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:19 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:21 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 3ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:45 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:58:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 17:59:04 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:05:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:05:45 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:07:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:07:10 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:08:31 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:08:35 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 29ms (Views: 0.6ms | ActiveRecord: 6.3ms | Allocations: 3816)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:08 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:20 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:25 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:44 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:09:48 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:11:29 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:13:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:13:21 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:17:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:18:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:20:29 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:20:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:20:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:29 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:21:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:06 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:40 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:45 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:23:48 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:25:00 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:25:41 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:32 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:36 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:42:59 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:43:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 56ms (Views: 4.7ms | ActiveRecord: 15.7ms | Allocations: 3765)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:43:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:44:20 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:46:12 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:46:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:46:24 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:03 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:25 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:30 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:47:52 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:49:55 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:50:20 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:28 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:30 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 30ms (Views: 0.6ms | ActiveRecord: 5.7ms | Allocations: 3766)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:51:48 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:52:31 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:52:53 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:53:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:54:58 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:08 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:18 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:22 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:55:46 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:57:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:59:50 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 18:59:52 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:00:25 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:00:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 6ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:01:01 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:01:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:02:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:03:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:03:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:38 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:44 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:50 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 18ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:56 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:04:59 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:02 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 9ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:05 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:09 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 6ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:10 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 11ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:13 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:05:35 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:06:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:15 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:34 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:39 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:41 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:44 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 5ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:07:47 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:49:in `transaction_params'
app/controllers/transactions_controller.rb:18:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:50:27 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 55ms (ActiveRecord: 0.0ms | Allocations: 4283)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 87ms (Views: 8.0ms | ActiveRecord: 22.6ms | Allocations: 14511)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 694)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:42 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 131)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 19:58:47 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1.4, "settled_price"=>217.1}}
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 657)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:21:39 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1.4, "settled_price"=>217.1}}
Completed 422 Unprocessable Entity in 23ms (Views: 1.3ms | ActiveRecord: 5.8ms | Allocations: 7685)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:21:50 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 125)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:21:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.1, "settled_price"=>170.58, "account_id"=>1}}
[31mUnpermitted parameter: :account_id[0m
Completed 422 Unprocessable Entity in 5ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 688)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:22:41 -0500
Processing by TransactionsController#create as HTML
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 593)


  
ActionController::ParameterMissing (param is missing or the value is empty: transaction):
  
app/controllers/transactions_controller.rb:51:in `transaction_params'
app/controllers/transactions_controller.rb:20:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:22:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.1, "settled_price"=>170.58, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (2.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 170], ["created_at", "2021-11-22 01:22:44.496703"], ["updated_at", "2021-11-22 01:22:44.496703"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 77ms (Views: 1.7ms | ActiveRecord: 21.5ms | Allocations: 14868)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:31:13 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1.9, "settled_price"=>294.63, "account_id"=>1}}
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 294], ["created_at", "2021-11-22 01:31:13.951894"], ["updated_at", "2021-11-22 01:31:13.951894"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 41ms (Views: 0.7ms | ActiveRecord: 8.9ms | Allocations: 15840)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:42:16 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>5, "settled_price"=>775.35, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 5], ["settled_price", 775], ["created_at", "2021-11-22 01:42:16.265468"], ["updated_at", "2021-11-22 01:42:16.265468"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 57ms (ActiveRecord: 5.4ms | Allocations: 17851)


  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `cash_balance' for #<Account::ActiveRecord_Relation:0x000055e3ea1d48f8>):
  
app/models/transaction.rb:13:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:45:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.8, "settled_price"=>279.13, "account_id"=>1}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 279], ["created_at", "2021-11-22 01:45:51.942720"], ["updated_at", "2021-11-22 01:45:51.942720"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 15.9ms | Allocations: 14027)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/models/transaction.rb:13:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:47:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 01:47:42.993534"], ["updated_at", "2021-11-22 01:47:42.993534"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:14:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 8.6ms | Allocations: 14659)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:49:12 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 217], ["created_at", "2021-11-22 01:49:12.715281"], ["updated_at", "2021-11-22 01:49:12.715281"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 43ms (ActiveRecord: 7.3ms | Allocations: 16167)


  [1m[36mCACHE Account Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `cash_balance' for #<Account::ActiveRecord_Relation:0x00007fbcbc012a18>):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:51:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 217], ["created_at", "2021-11-22 01:51:48.559260"], ["updated_at", "2021-11-22 01:51:48.559260"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 6.3ms | Allocations: 16168)


  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `cash_balance' for #<Account::ActiveRecord_Relation:0x00007fbcc11f2838>):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-21 20:53:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1.4, "settled_price"=>217.1, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1], ["settled_price", 217], ["created_at", "2021-11-22 01:53:07.984946"], ["updated_at", "2021-11-22 01:53:07.984946"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:14:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 8.4ms | Allocations: 14605)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/models/transaction.rb:14:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5013.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5008.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5008.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (43.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (39.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (820.2ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (370.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (49.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:58:46.334026"], ["updated_at", "2021-11-22 01:58:46.334026"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:58:46.346632"], ["updated_at", "2021-11-22 01:58:46.346632"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:58:46.526599"], ["updated_at", "2021-11-22 01:58:46.526599"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 01:58:46.536361"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:58:46.542110"], ["updated_at", "2021-11-22 01:58:46.542110"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 01:58:46.607957"], ["updated_at", "2021-11-22 01:58:46.607957"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 01:58:46.636498"], ["updated_at", "2021-11-22 01:58:46.636498"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (2.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 01:58:46.655286"], ["updated_at", "2021-11-22 01:58:46.655286"], ["account_id", 1]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 01:58:46.669651"], ["updated_at", "2021-11-22 01:58:46.669651"], ["account_id", 1]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 01:58:46.698828"], ["updated_at", "2021-11-22 01:58:46.698828"], ["account_id", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1) /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (id = 1)[0m
  ↳ app/models/transaction.rb:14:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (61.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (33.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (362.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (356.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (21.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:59:14.818241"], ["updated_at", "2021-11-22 01:59:14.818241"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (5.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:59:14.832873"], ["updated_at", "2021-11-22 01:59:14.832873"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 01:59:15.022403"], ["updated_at", "2021-11-22 01:59:15.022403"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 01:59:15.031128"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 01:59:15.038316"], ["updated_at", "2021-11-22 01:59:15.038316"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 01:59:15.095063"], ["updated_at", "2021-11-22 01:59:15.095063"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 01:59:15.122427"], ["updated_at", "2021-11-22 01:59:15.122427"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 01:59:15.137214"], ["updated_at", "2021-11-22 01:59:15.137214"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 01:59:15.146013"], ["updated_at", "2021-11-22 01:59:15.146013"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 01:59:15.166289"], ["updated_at", "2021-11-22 01:59:15.166289"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 01:59:15.189854"], ["updated_at", "2021-11-22 01:59:15.189854"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 01:59:15.198712"], ["updated_at", "2021-11-22 01:59:15.198712"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 01:59:15.207773"], ["updated_at", "2021-11-22 01:59:15.207773"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 01:59:15.213365"], ["updated_at", "2021-11-22 01:59:15.213365"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 01:59:15.220607"], ["updated_at", "2021-11-22 01:59:15.220607"], ["account_id", 2]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 01:59:15.234113"], ["updated_at", "2021-11-22 01:59:15.234113"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 01:59:15.242475"], ["updated_at", "2021-11-22 01:59:15.242475"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 01:59:15.248984"], ["updated_at", "2021-11-22 01:59:15.248984"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 01:59:15.258569"], ["updated_at", "2021-11-22 01:59:15.258569"], ["user_id", 3]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 01:59:15.266104"], ["updated_at", "2021-11-22 01:59:15.266104"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 01:59:15.273643"], ["updated_at", "2021-11-22 01:59:15.273643"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 01:59:15.281416"], ["updated_at", "2021-11-22 01:59:15.281416"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 01:59:15.288345"], ["updated_at", "2021-11-22 01:59:15.288345"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 01:59:15.304899"], ["updated_at", "2021-11-22 01:59:15.304899"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 01:59:15.312031"], ["updated_at", "2021-11-22 01:59:15.312031"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 01:59:15.322998"], ["updated_at", "2021-11-22 01:59:15.322998"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 01:59:15.330907"], ["updated_at", "2021-11-22 01:59:15.330907"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 01:59:15.340457"], ["updated_at", "2021-11-22 01:59:15.340457"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 01:59:15.349662"], ["updated_at", "2021-11-22 01:59:15.349662"], ["user_id", 4]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 01:59:15.358188"], ["updated_at", "2021-11-22 01:59:15.358188"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 01:59:15.365910"], ["updated_at", "2021-11-22 01:59:15.365910"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 01:59:15.373386"], ["updated_at", "2021-11-22 01:59:15.373386"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 01:59:15.381782"], ["updated_at", "2021-11-22 01:59:15.381782"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 01:59:15.390018"], ["updated_at", "2021-11-22 01:59:15.390018"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 01:59:15.398604"], ["updated_at", "2021-11-22 01:59:15.398604"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 01:59:15.406846"], ["updated_at", "2021-11-22 01:59:15.406846"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 01:59:15.418394"], ["updated_at", "2021-11-22 01:59:15.418394"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 01:59:15.428962"], ["updated_at", "2021-11-22 01:59:15.428962"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 01:59:15.439646"], ["updated_at", "2021-11-22 01:59:15.439646"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:15:54 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 14:15:55.085037"], ["updated_at", "2021-11-22 14:15:55.085037"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 68ms (Views: 1.2ms | ActiveRecord: 9.5ms | Allocations: 19349)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:24:06 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (1.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 14:24:06.176194"], ["updated_at", "2021-11-22 14:24:06.176194"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 29ms (Views: 1.3ms | ActiveRecord: 7.5ms | Allocations: 6045)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transacs" for ::1 at 2021-11-22 09:24:38 -0500
  
ActionController::RoutingError (No route matches [POST] "/api/transacs"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transacs" for ::1 at 2021-11-22 09:25:04 -0500
  
ActionController::RoutingError (No route matches [POST] "/api/transacs"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transacs
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transacs" for ::1 at 2021-11-22 09:25:49 -0500
  
ActionController::RoutingError (No route matches [POST] "/api/transacs"):
  
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/transactions" for ::1 at 2021-11-22 09:35:23 -0500
Processing by TransactionsController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 277)


  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/transaction.rb:13: syntax error, unexpected '}', expecting =>
...ccount.find_by(id: {account_id})
...                              ^):
  
app/models/transaction.rb:13: syntax error, unexpected '}', expecting =>
app/models/transaction.rb:13: syntax error, unexpected '}', expecting =>
app/controllers/transactions_controller.rb:6:in `index'
Started GET "/api/transactions" for ::1 at 2021-11-22 09:35:44 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 6.0ms | Allocations: 10092)


Started GET "/api/transactions" for ::1 at 2021-11-22 09:36:16 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 1.3ms | Allocations: 2233)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:39:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>20, "settled_price"=>3101.4, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 20], ["settled_price", 3101], ["created_at", "2021-11-22 14:39:07.569023"], ["updated_at", "2021-11-22 14:39:07.569023"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 26ms (Views: 0.5ms | ActiveRecord: 8.3ms | Allocations: 14569)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:43:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>500, "settled_price"=>77535, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 500], ["settled_price", 77535], ["created_at", "2021-11-22 14:43:34.469203"], ["updated_at", "2021-11-22 14:43:34.469203"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 23ms (Views: 0.5ms | ActiveRecord: 6.5ms | Allocations: 14204)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:45:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>10, "settled_price"=>1550.7, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 10], ["settled_price", 1550], ["created_at", "2021-11-22 14:45:34.825800"], ["updated_at", "2021-11-22 14:45:34.825800"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:13:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 25ms (Views: 0.5ms | ActiveRecord: 6.8ms | Allocations: 14187)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 09:55:57 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>90, "settled_price"=>13956.3, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 90], ["settled_price", 13956], ["created_at", "2021-11-22 14:55:57.898421"], ["updated_at", "2021-11-22 14:55:57.898421"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 28ms (Views: 0.5ms | ActiveRecord: 6.4ms | Allocations: 16563)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 10:04:12 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>90, "settled_price"=>13956.3, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 90], ["settled_price", 13956], ["created_at", "2021-11-22 15:04:13.061437"], ["updated_at", "2021-11-22 15:04:13.061437"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 94ms (ActiveRecord: 8.6ms | Allocations: 18892)


  
NameError (undefined local variable or method `current_balance_from_account' for #<Transaction:0x00007f4afc1de1a8>):
  
app/models/transaction.rb:25:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 10:10:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>0.4, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (3.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 155], ["created_at", "2021-11-22 15:10:42.078536"], ["updated_at", "2021-11-22 15:10:42.078536"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 19.5ms | Allocations: 9093)


  
NameError (undefined local variable or method `current_balance_from_account' for #<Transaction:0x00007f4b055ec020>):
  
app/models/transaction.rb:25:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 10:11:01 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 15:11:01.570911"], ["updated_at", "2021-11-22 15:11:01.570911"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 46ms (Views: 0.7ms | ActiveRecord: 11.1ms | Allocations: 13655)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 11:57:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (1.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 16:57:51.485155"], ["updated_at", "2021-11-22 16:57:51.485155"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1845], ["stock_balance", 9721], ["updated_at", "2021-11-22 16:57:51.503818"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 180ms (Views: 2.2ms | ActiveRecord: 16.3ms | Allocations: 23865)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 11:59:22 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>14, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 14], ["settled_price", 155], ["created_at", "2021-11-22 16:59:22.705058"], ["updated_at", "2021-11-22 16:59:22.705058"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -325], ["stock_balance", 11891], ["updated_at", "2021-11-22 16:59:22.713687"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 25ms (Views: 0.5ms | ActiveRecord: 5.0ms | Allocations: 4908)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:01:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>60, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 60], ["settled_price", 155], ["created_at", "2021-11-22 17:01:26.289525"], ["updated_at", "2021-11-22 17:01:26.289525"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 8975], ["stock_balance", 2591], ["updated_at", "2021-11-22 17:01:26.296872"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 20ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 4908)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:04:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:04:07.883740"], ["updated_at", "2021-11-22 17:04:07.883740"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:22:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 8820], ["stock_balance", 2746], ["updated_at", "2021-11-22 17:04:07.895686"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:22:in `create'
Completed 201 Created in 36ms (Views: 0.5ms | ActiveRecord: 10.1ms | Allocations: 21041)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/transactions" for ::1 at 2021-11-22 12:16:39 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 4.5ms | Allocations: 10712)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:17:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1224)


  
NoMethodError (undefined method `account_id' for #<TransactionsController:0x007f4b04f7d9f0>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:18:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 724)


  
NoMethodError (undefined method `transacation' for #<ActionController::Parameters:0x000056518aae9cf0>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:18:54 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 779)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x0000565189d61e48>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:19:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 827)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x00007f4b0560d928>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:19:58 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 757)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x00007f4b0453aa10>):
  
app/controllers/transactions_controller.rb:19:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:20:18 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 817)


  
NoMethodError (undefined method `account_id' for #<ActionController::Parameters:0x00007f4b044a97b8>):
  
app/controllers/transactions_controller.rb:22:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/accounts" for ::1 at 2021-11-22 12:22:27 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 148)


Started GET "/api/transactions" for ::1 at 2021-11-22 12:22:45 -0500
Processing by TransactionsController#index as HTML
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions"[0m
  ↳ app/controllers/transactions_controller.rb:8:in `index'
Completed 200 OK in 61ms (Views: 37.1ms | ActiveRecord: 19.1ms | Allocations: 7971)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5030.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (43.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (42.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (834.7ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (353.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (40.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:23:32.791641"], ["updated_at", "2021-11-22 17:23:32.791641"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:23:32.798846"], ["updated_at", "2021-11-22 17:23:32.798846"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (34.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:23:33.046412"], ["updated_at", "2021-11-22 17:23:33.046412"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 17:23:33.062075"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:23:33.074322"], ["updated_at", "2021-11-22 17:23:33.074322"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:23:33.187656"], ["updated_at", "2021-11-22 17:23:33.187656"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 17:23:33.249965"], ["updated_at", "2021-11-22 17:23:33.249965"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:23:33.262896"], ["updated_at", "2021-11-22 17:23:33.262896"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 17:23:33.269679"], ["updated_at", "2021-11-22 17:23:33.269679"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:23:33.295227"], ["updated_at", "2021-11-22 17:23:33.295227"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 17:23:33.300283"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 17:23:33.317082"], ["updated_at", "2021-11-22 17:23:33.317082"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 17:23:33.321394"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 17:23:33.327640"], ["updated_at", "2021-11-22 17:23:33.327640"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 17:23:33.333881"], ["updated_at", "2021-11-22 17:23:33.333881"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 17:23:33.337659"], ["updated_at", "2021-11-22 17:23:33.337659"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 17:23:33.342078"], ["updated_at", "2021-11-22 17:23:33.342078"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 17:23:33.349426"], ["updated_at", "2021-11-22 17:23:33.349426"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 17:23:33.353543"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 17:23:33.359762"], ["updated_at", "2021-11-22 17:23:33.359762"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 17:23:33.364464"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 17:23:33.374891"], ["updated_at", "2021-11-22 17:23:33.374891"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 17:23:33.384692"], ["updated_at", "2021-11-22 17:23:33.384692"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 17:23:33.390748"], ["updated_at", "2021-11-22 17:23:33.390748"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 17:23:33.396509"], ["updated_at", "2021-11-22 17:23:33.396509"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:23:33.401547"], ["updated_at", "2021-11-22 17:23:33.401547"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 17:23:33.405770"], ["updated_at", "2021-11-22 17:23:33.405770"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 17:23:33.411906"], ["updated_at", "2021-11-22 17:23:33.411906"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 17:23:33.415722"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 17:23:33.421796"], ["updated_at", "2021-11-22 17:23:33.421796"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 17:23:33.426111"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:23:33.431693"], ["updated_at", "2021-11-22 17:23:33.431693"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 17:23:33.435129"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 17:23:33.447241"], ["updated_at", "2021-11-22 17:23:33.447241"], ["account_id", 3]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 17:23:33.456694"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:23:33.463937"], ["updated_at", "2021-11-22 17:23:33.463937"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 17:23:33.477158"], ["updated_at", "2021-11-22 17:23:33.477158"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 17:23:33.483811"], ["updated_at", "2021-11-22 17:23:33.483811"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 17:23:33.490082"], ["updated_at", "2021-11-22 17:23:33.490082"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 17:23:33.495941"], ["updated_at", "2021-11-22 17:23:33.495941"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 17:23:33.500874"], ["updated_at", "2021-11-22 17:23:33.500874"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 17:23:33.505275"], ["updated_at", "2021-11-22 17:23:33.505275"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 17:23:33.521617"], ["updated_at", "2021-11-22 17:23:33.521617"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 17:23:33.528836"], ["updated_at", "2021-11-22 17:23:33.528836"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 17:23:33.537077"], ["updated_at", "2021-11-22 17:23:33.537077"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 17:23:33.542210"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 17:23:33.548154"], ["updated_at", "2021-11-22 17:23:33.548154"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 17:23:33.552293"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 17:23:33.558814"], ["updated_at", "2021-11-22 17:23:33.558814"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 17:23:33.562488"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 12:24:19 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2348)


Started GET "/api/accounts" for ::1 at 2021-11-22 12:24:22 -0500
Processing by AccountsController#index as HTML
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 112)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (69.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (50.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (424.8ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (379.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (26.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:25:49.393413"], ["updated_at", "2021-11-22 17:25:49.393413"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:25:49.402727"], ["updated_at", "2021-11-22 17:25:49.402727"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (26.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 17:25:49.648857"], ["updated_at", "2021-11-22 17:25:49.648857"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 17:25:49.662045"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 17:25:49.674391"], ["updated_at", "2021-11-22 17:25:49.674391"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:25:49.720347"], ["updated_at", "2021-11-22 17:25:49.720347"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 17:25:49.737866"], ["updated_at", "2021-11-22 17:25:49.737866"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:25:49.748226"], ["updated_at", "2021-11-22 17:25:49.748226"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 17:25:49.752846"], ["updated_at", "2021-11-22 17:25:49.752846"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:25:49.775198"], ["updated_at", "2021-11-22 17:25:49.775198"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 17:25:49.781190"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 17:25:49.797973"], ["updated_at", "2021-11-22 17:25:49.797973"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 17:25:49.802620"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 17:25:49.808644"], ["updated_at", "2021-11-22 17:25:49.808644"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 17:25:49.815163"], ["updated_at", "2021-11-22 17:25:49.815163"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 17:25:49.819125"], ["updated_at", "2021-11-22 17:25:49.819125"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 17:25:49.823662"], ["updated_at", "2021-11-22 17:25:49.823662"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 17:25:49.830284"], ["updated_at", "2021-11-22 17:25:49.830284"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 17:25:49.834234"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 17:25:49.840389"], ["updated_at", "2021-11-22 17:25:49.840389"], ["account_id", 2]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 17:25:49.844462"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 17:25:49.850212"], ["updated_at", "2021-11-22 17:25:49.850212"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 17:25:49.856165"], ["updated_at", "2021-11-22 17:25:49.856165"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 17:25:49.860066"], ["updated_at", "2021-11-22 17:25:49.860066"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 17:25:49.864263"], ["updated_at", "2021-11-22 17:25:49.864263"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 17:25:49.869524"], ["updated_at", "2021-11-22 17:25:49.869524"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 17:25:49.874262"], ["updated_at", "2021-11-22 17:25:49.874262"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 17:25:49.881231"], ["updated_at", "2021-11-22 17:25:49.881231"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 17:25:49.885294"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 17:25:49.890965"], ["updated_at", "2021-11-22 17:25:49.890965"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 17:25:49.894689"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 17:25:49.902260"], ["updated_at", "2021-11-22 17:25:49.902260"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 17:25:49.906377"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 17:25:49.912088"], ["updated_at", "2021-11-22 17:25:49.912088"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 17:25:49.915890"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 17:25:49.920994"], ["updated_at", "2021-11-22 17:25:49.920994"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 17:25:49.926670"], ["updated_at", "2021-11-22 17:25:49.926670"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 17:25:49.930919"], ["updated_at", "2021-11-22 17:25:49.930919"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 17:25:49.935666"], ["updated_at", "2021-11-22 17:25:49.935666"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 17:25:49.940093"], ["updated_at", "2021-11-22 17:25:49.940093"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 17:25:49.947342"], ["updated_at", "2021-11-22 17:25:49.947342"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 17:25:49.952027"], ["updated_at", "2021-11-22 17:25:49.952027"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 17:25:49.967867"], ["updated_at", "2021-11-22 17:25:49.967867"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 17:25:49.975375"], ["updated_at", "2021-11-22 17:25:49.975375"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 17:25:49.984358"], ["updated_at", "2021-11-22 17:25:49.984358"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 17:25:49.989739"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 17:25:49.995882"], ["updated_at", "2021-11-22 17:25:49.995882"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 17:25:50.000736"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 17:25:50.006517"], ["updated_at", "2021-11-22 17:25:50.006517"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 17:25:50.010272"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 12:25:57 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:7:in `index'
Completed 200 OK in 15ms (Views: 6.7ms | ActiveRecord: 3.3ms | Allocations: 11162)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 12:30:28 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 15ms (Views: 5.9ms | ActiveRecord: 2.8ms | Allocations: 11162)


Started GET "/api/accounts" for ::1 at 2021-11-22 12:30:29 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.1ms | Allocations: 1086)


Started GET "/api/accounts" for ::1 at 2021-11-22 12:30:29 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.9ms | Allocations: 1086)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:41:58 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1.6, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.6ms | Allocations: 10636)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:32:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:42:31 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1.6, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:42:32.014047"], ["updated_at", "2021-11-22 17:42:32.014047"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5586], ["stock_balance", 17152], ["updated_at", "2021-11-22 17:42:32.026863"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
Completed 201 Created in 38ms (Views: 0.5ms | ActiveRecord: 10.9ms | Allocations: 23783)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:49:42 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/controllers/transactions_controller.rb:82: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/transactions_controller.rb:82: syntax error, unexpected end-of-input, expecting end
app/controllers/transactions_controller.rb:82: syntax error, unexpected end-of-input, expecting end
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:50:13 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 LIMIT $2[0m  [["account_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:50:13.885342"], ["updated_at", "2021-11-22 17:50:13.885342"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 17:50:13.896812"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:51:in `create'
Completed 201 Created in 65ms (Views: 0.5ms | ActiveRecord: 10.6ms | Allocations: 28122)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 12:59:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 17:59:45.646175"], ["updated_at", "2021-11-22 17:59:45.646175"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5586], ["stock_balance", 17152], ["updated_at", "2021-11-22 17:59:45.656851"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:52:in `create'
Completed 201 Created in 43ms (Views: 1.1ms | ActiveRecord: 8.7ms | Allocations: 27729)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:03:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AA", "trade"=>-1, "quantity"=>1.2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AA"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.7ms | Allocations: 9068)


  
NoMethodError (undefined method `quantity' for nil:NilClass):
  
app/controllers/transactions_controller.rb:36:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:04:06 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>200, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:43:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:43:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 200], ["settled_price", 155], ["created_at", "2021-11-22 18:04:06.021903"], ["updated_at", "2021-11-22 18:04:06.021903"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:43:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 25414], ["stock_balance", -13848], ["updated_at", "2021-11-22 18:04:06.038317"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:43:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 9.2ms | Allocations: 20277)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5009.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (30.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (40.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (363.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (354.5ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (28.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (8.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 18:05:14.599578"], ["updated_at", "2021-11-22 18:05:14.599578"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 18:05:14.615313"], ["updated_at", "2021-11-22 18:05:14.615313"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (33.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (22.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (22.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 18:05:14.897040"], ["updated_at", "2021-11-22 18:05:14.897040"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 18:05:14.911410"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 18:05:14.922770"], ["updated_at", "2021-11-22 18:05:14.922770"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 18:05:14.965967"], ["updated_at", "2021-11-22 18:05:14.965967"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 18:05:14.983484"], ["updated_at", "2021-11-22 18:05:14.983484"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 18:05:15.002931"], ["updated_at", "2021-11-22 18:05:15.002931"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 18:05:15.010300"], ["updated_at", "2021-11-22 18:05:15.010300"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 18:05:15.029201"], ["updated_at", "2021-11-22 18:05:15.029201"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 18:05:15.034082"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 18:05:15.050573"], ["updated_at", "2021-11-22 18:05:15.050573"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 18:05:15.054573"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 18:05:15.064275"], ["updated_at", "2021-11-22 18:05:15.064275"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 18:05:15.070759"], ["updated_at", "2021-11-22 18:05:15.070759"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 18:05:15.074800"], ["updated_at", "2021-11-22 18:05:15.074800"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 18:05:15.079440"], ["updated_at", "2021-11-22 18:05:15.079440"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 18:05:15.086164"], ["updated_at", "2021-11-22 18:05:15.086164"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 18:05:15.090100"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 18:05:15.096626"], ["updated_at", "2021-11-22 18:05:15.096626"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 18:05:15.101031"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 18:05:15.106592"], ["updated_at", "2021-11-22 18:05:15.106592"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 18:05:15.112131"], ["updated_at", "2021-11-22 18:05:15.112131"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 18:05:15.115928"], ["updated_at", "2021-11-22 18:05:15.115928"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 18:05:15.120067"], ["updated_at", "2021-11-22 18:05:15.120067"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 18:05:15.124157"], ["updated_at", "2021-11-22 18:05:15.124157"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 18:05:15.129473"], ["updated_at", "2021-11-22 18:05:15.129473"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 18:05:15.136221"], ["updated_at", "2021-11-22 18:05:15.136221"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 18:05:15.140326"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 18:05:15.146118"], ["updated_at", "2021-11-22 18:05:15.146118"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 18:05:15.149727"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 18:05:15.155344"], ["updated_at", "2021-11-22 18:05:15.155344"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 18:05:15.160930"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 18:05:15.166582"], ["updated_at", "2021-11-22 18:05:15.166582"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 18:05:15.170218"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 18:05:15.175039"], ["updated_at", "2021-11-22 18:05:15.175039"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 18:05:15.180619"], ["updated_at", "2021-11-22 18:05:15.180619"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 18:05:15.184246"], ["updated_at", "2021-11-22 18:05:15.184246"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 18:05:15.189160"], ["updated_at", "2021-11-22 18:05:15.189160"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 18:05:15.194013"], ["updated_at", "2021-11-22 18:05:15.194013"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 18:05:15.198296"], ["updated_at", "2021-11-22 18:05:15.198296"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 18:05:15.203114"], ["updated_at", "2021-11-22 18:05:15.203114"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 18:05:15.228128"], ["updated_at", "2021-11-22 18:05:15.228128"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 18:05:15.236593"], ["updated_at", "2021-11-22 18:05:15.236593"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 18:05:15.245138"], ["updated_at", "2021-11-22 18:05:15.245138"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 18:05:15.250276"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 18:05:15.255655"], ["updated_at", "2021-11-22 18:05:15.255655"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 18:05:15.259415"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 18:05:15.265983"], ["updated_at", "2021-11-22 18:05:15.265983"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 18:05:15.269975"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:05:30 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>200, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 5.7ms | Allocations: 16521)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:38:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:11:33 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:11:34.050785"], ["updated_at", "2021-11-22 18:11:34.050785"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5276], ["stock_balance", 16842], ["updated_at", "2021-11-22 18:11:34.063053"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
Completed 201 Created in 52ms (Views: 0.5ms | ActiveRecord: 11.0ms | Allocations: 30698)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:16:39 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:16:39.315230"], ["updated_at", "2021-11-22 18:16:39.315230"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:46:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5121], ["stock_balance", 16687], ["updated_at", "2021-11-22 18:16:39.327368"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:46:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 9.2ms | Allocations: 23111)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:19:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.3ms | Allocations: 9057)


  
NoMethodError (undefined method `ticker' for nil:NilClass):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:22:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.1ms | Allocations: 8947)


  
NameError (undefined local variable or method `account_portfolio' for #<TransactionsController:0x007f6484374a20>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:28:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:23:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 0.6ms | Allocations: 2647)


  
NameError (undefined local variable or method `account_portfolio' for #<TransactionsController:0x0056037e841fc0>
Did you mean?  account_url):
  
app/controllers/transactions_controller.rb:28:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:23:37 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:23:37.903767"], ["updated_at", "2021-11-22 18:23:37.903767"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4966], ["stock_balance", 16532], ["updated_at", "2021-11-22 18:23:37.916305"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:53:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 23128)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:32:25 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:49:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:32:25.588014"], ["updated_at", "2021-11-22 18:32:25.588014"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:49:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4811], ["stock_balance", 16377], ["updated_at", "2021-11-22 18:32:25.598433"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:49:in `create'
Completed 201 Created in 39ms (Views: 1.6ms | ActiveRecord: 7.2ms | Allocations: 24705)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:33:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 18:33:04.265215"], ["updated_at", "2021-11-22 18:33:04.265215"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:48:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4656], ["stock_balance", 16222], ["updated_at", "2021-11-22 18:33:04.285293"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:48:in `create'
Completed 201 Created in 46ms (Views: 0.5ms | ActiveRecord: 11.3ms | Allocations: 23147)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:33:36 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>300, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.0ms | Allocations: 5163)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:40:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:37:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.1ms | Allocations: 7368)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column accounts.ticker does not exist
LINE 1: ....* FROM "accounts" WHERE "accounts"."id" = $1 AND "accounts"...
                                                             ^
):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:38:32 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.5ms | Allocations: 7404)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column accounts.ticker does not exist
LINE 1: ....* FROM "accounts" WHERE "accounts"."id" = $1 AND "accounts"...
                                                             ^
):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:39:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.4ms | Allocations: 12327)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:35:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:40:31 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.7ms | Allocations: 13727)


  
NoMethodError (undefined method `count' for #<Transaction:0x00007f6494fd2078>
Did you mean?  account):
  
app/controllers/transactions_controller.rb:29:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:41:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2[0m  [["account_id", 1], ["ticker", "AAPL"]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.2ms | Allocations: 8832)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:35:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:43:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.7ms | Allocations: 10582)


  
NameError (undefined local variable or method `total_quantity' for #<TransactionsController:0x007f64950e31d8>
Did you mean?  total_buys):
  
app/controllers/transactions_controller.rb:31:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:43:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.5ms | Allocations: 10582)


  
NameError (undefined local variable or method `total_quantity' for #<TransactionsController:0x007f648c3b7890>
Did you mean?  total_buys):
  
app/controllers/transactions_controller.rb:31:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:44:19 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.6ms | Allocations: 9363)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:36:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:45:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 3.6ms | Allocations: 9362)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:38:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:46:27 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.9ms | Allocations: 8887)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:37:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:48:18 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.5ms | Allocations: 12873)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:41:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:49:14 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:30:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 3.2ms | Allocations: 9373)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:41:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 13:51:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 4.9ms | Allocations: 12920)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:45:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:01:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:34:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:41:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.2ms | Allocations: 15301)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:02:16 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:34:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:41:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:56:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:69:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:69:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:02:16.409374"], ["updated_at", "2021-11-22 19:02:16.409374"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:69:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4501], ["stock_balance", 16067], ["updated_at", "2021-11-22 19:02:16.421469"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:69:in `create'
Completed 201 Created in 43ms (Views: 1.3ms | ActiveRecord: 12.4ms | Allocations: 24344)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:13:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"A", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "A"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "A"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "A"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:13:07.768444"], ["updated_at", "2021-11-22 19:13:07.768444"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4346], ["stock_balance", 15912], ["updated_at", "2021-11-22 19:13:07.778407"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
Completed 201 Created in 39ms (Views: 0.5ms | ActiveRecord: 7.5ms | Allocations: 25885)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:13:56 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1.3, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:53:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:13:56.924859"], ["updated_at", "2021-11-22 19:13:56.924859"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4191], ["stock_balance", 15757], ["updated_at", "2021-11-22 19:13:56.930284"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:65:in `create'
Completed 201 Created in 41ms (Views: 0.4ms | ActiveRecord: 7.7ms | Allocations: 10560)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:17:20 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[35m (5.4ms)[0m  [1m[34mSELECT SUM() FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 9.4ms | Allocations: 8521)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ERROR:  function sum() does not exist
LINE 1: SELECT SUM() FROM "transactions" WHERE "transactions"."accou...
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
):
  
app/controllers/transactions_controller.rb:33:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:18:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:18:08.831307"], ["updated_at", "2021-11-22 19:18:08.831307"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -4036], ["stock_balance", 15602], ["updated_at", "2021-11-22 19:18:08.852506"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
Completed 201 Created in 53ms (Views: 0.5ms | ActiveRecord: 11.6ms | Allocations: 27774)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:19:34 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:51:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:52:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 19:19:34.418020"], ["updated_at", "2021-11-22 19:19:34.418020"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:64:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3881], ["stock_balance", 15447], ["updated_at", "2021-11-22 19:19:34.429019"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:64:in `create'
Completed 201 Created in 43ms (Views: 0.5ms | ActiveRecord: 10.6ms | Allocations: 27705)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5012.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (26.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (40.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (383.5ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (381.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:23:44.899356"], ["updated_at", "2021-11-22 19:23:44.899356"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:23:44.910774"], ["updated_at", "2021-11-22 19:23:44.910774"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:23:45.126155"], ["updated_at", "2021-11-22 19:23:45.126155"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 19:23:45.140030"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:23:45.150279"], ["updated_at", "2021-11-22 19:23:45.150279"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:23:45.191736"], ["updated_at", "2021-11-22 19:23:45.191736"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 19:23:45.209340"], ["updated_at", "2021-11-22 19:23:45.209340"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:23:45.219612"], ["updated_at", "2021-11-22 19:23:45.219612"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 19:23:45.226291"], ["updated_at", "2021-11-22 19:23:45.226291"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:23:45.247689"], ["updated_at", "2021-11-22 19:23:45.247689"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 19:23:45.253031"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 19:23:45.269509"], ["updated_at", "2021-11-22 19:23:45.269509"], ["account_id", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 19:23:45.274143"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 19:23:45.281007"], ["updated_at", "2021-11-22 19:23:45.281007"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 19:23:45.287412"], ["updated_at", "2021-11-22 19:23:45.287412"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 19:23:45.291880"], ["updated_at", "2021-11-22 19:23:45.291880"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 19:23:45.296666"], ["updated_at", "2021-11-22 19:23:45.296666"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 19:23:45.303589"], ["updated_at", "2021-11-22 19:23:45.303589"], ["account_id", 2]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 19:23:45.307613"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 19:23:45.314344"], ["updated_at", "2021-11-22 19:23:45.314344"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 19:23:45.318510"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 19:23:45.323855"], ["updated_at", "2021-11-22 19:23:45.323855"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 19:23:45.329983"], ["updated_at", "2021-11-22 19:23:45.329983"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 19:23:45.333814"], ["updated_at", "2021-11-22 19:23:45.333814"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 19:23:45.338259"], ["updated_at", "2021-11-22 19:23:45.338259"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:23:45.343168"], ["updated_at", "2021-11-22 19:23:45.343168"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 19:23:45.347987"], ["updated_at", "2021-11-22 19:23:45.347987"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 19:23:45.354935"], ["updated_at", "2021-11-22 19:23:45.354935"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (2.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 19:23:45.358980"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 19:23:45.367125"], ["updated_at", "2021-11-22 19:23:45.367125"], ["account_id", 3]]
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 19:23:45.374508"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:23:45.387405"], ["updated_at", "2021-11-22 19:23:45.387405"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (3.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 19:23:45.393269"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 19:23:45.404610"], ["updated_at", "2021-11-22 19:23:45.404610"], ["account_id", 3]]
  [1m[36mAccount Load (2.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 19:23:45.412773"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:23:45.418758"], ["updated_at", "2021-11-22 19:23:45.418758"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 19:23:45.425857"], ["updated_at", "2021-11-22 19:23:45.425857"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 19:23:45.431108"], ["updated_at", "2021-11-22 19:23:45.431108"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 19:23:45.437111"], ["updated_at", "2021-11-22 19:23:45.437111"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 19:23:45.442474"], ["updated_at", "2021-11-22 19:23:45.442474"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 19:23:45.448106"], ["updated_at", "2021-11-22 19:23:45.448106"], ["account_id", 4]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 19:23:45.460239"], ["updated_at", "2021-11-22 19:23:45.460239"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 19:23:45.484247"], ["updated_at", "2021-11-22 19:23:45.484247"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 19:23:45.494789"], ["updated_at", "2021-11-22 19:23:45.494789"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 19:23:45.506733"], ["updated_at", "2021-11-22 19:23:45.506733"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 19:23:45.513711"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 19:23:45.521501"], ["updated_at", "2021-11-22 19:23:45.521501"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 19:23:45.526142"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 19:23:45.532924"], ["updated_at", "2021-11-22 19:23:45.532924"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 19:23:45.537718"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:24:52 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>21, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.9ms | Allocations: 17348)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:27:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>22, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.7ms | Allocations: 14366)


  
NameError (undefined local variable or method `final_quantity' for #<TransactionsController:0x007f2eb4422ab8>
Did you mean?  total_quantity):
  
app/controllers/transactions_controller.rb:43:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:27:29 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>21, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.5ms | Allocations: 3678)


  
NameError (undefined local variable or method `final_quantity' for #<TransactionsController:0x007f2ed0014040>
Did you mean?  total_quantity):
  
app/controllers/transactions_controller.rb:43:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:27:39 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>20, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.8ms | Allocations: 3676)


  
NameError (undefined local variable or method `final_quantity' for #<TransactionsController:0x007f2eb4599ec8>
Did you mean?  total_quantity):
  
app/controllers/transactions_controller.rb:43:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:28:09 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>22, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.5ms | Allocations: 12930)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 14:28:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>20, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 20], ["settled_price", 155], ["created_at", "2021-11-22 19:28:17.183000"], ["updated_at", "2021-11-22 19:28:17.183000"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:77:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -2331], ["stock_balance", 13897], ["updated_at", "2021-11-22 19:28:17.206346"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:77:in `create'
Completed 201 Created in 53ms (Views: 0.9ms | ActiveRecord: 9.3ms | Allocations: 14107)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (65.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (45.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (378.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (358.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:28:29.525159"], ["updated_at", "2021-11-22 19:28:29.525159"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:28:29.534083"], ["updated_at", "2021-11-22 19:28:29.534083"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 19:28:29.739124"], ["updated_at", "2021-11-22 19:28:29.739124"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 19:28:29.752065"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 19:28:29.760107"], ["updated_at", "2021-11-22 19:28:29.760107"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:28:29.799438"], ["updated_at", "2021-11-22 19:28:29.799438"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 19:28:29.822018"], ["updated_at", "2021-11-22 19:28:29.822018"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:28:29.832063"], ["updated_at", "2021-11-22 19:28:29.832063"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 19:28:29.836789"], ["updated_at", "2021-11-22 19:28:29.836789"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:28:29.849783"], ["updated_at", "2021-11-22 19:28:29.849783"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-22 19:28:29.853911"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 19:28:29.870257"], ["updated_at", "2021-11-22 19:28:29.870257"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -5431], ["stock_balance", 16997], ["updated_at", "2021-11-22 19:28:29.874532"], ["id", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 19:28:29.880169"], ["updated_at", "2021-11-22 19:28:29.880169"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 19:28:29.886890"], ["updated_at", "2021-11-22 19:28:29.886890"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 19:28:29.890985"], ["updated_at", "2021-11-22 19:28:29.890985"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 19:28:29.895821"], ["updated_at", "2021-11-22 19:28:29.895821"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 19:28:29.903056"], ["updated_at", "2021-11-22 19:28:29.903056"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-22 19:28:29.907327"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 19:28:29.913866"], ["updated_at", "2021-11-22 19:28:29.913866"], ["account_id", 2]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-22 19:28:29.918417"], ["id", 2]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 19:28:29.924369"], ["updated_at", "2021-11-22 19:28:29.924369"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 19:28:29.930344"], ["updated_at", "2021-11-22 19:28:29.930344"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 19:28:29.936751"], ["updated_at", "2021-11-22 19:28:29.936751"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 19:28:29.945956"], ["updated_at", "2021-11-22 19:28:29.945956"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 19:28:29.952352"], ["updated_at", "2021-11-22 19:28:29.952352"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 19:28:29.957765"], ["updated_at", "2021-11-22 19:28:29.957765"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 19:28:29.964877"], ["updated_at", "2021-11-22 19:28:29.964877"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-22 19:28:29.968448"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 19:28:29.976040"], ["updated_at", "2021-11-22 19:28:29.976040"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-22 19:28:29.980546"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 19:28:29.991656"], ["updated_at", "2021-11-22 19:28:29.991656"], ["account_id", 3]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-22 19:28:29.998250"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 19:28:30.005832"], ["updated_at", "2021-11-22 19:28:30.005832"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-22 19:28:30.011170"], ["id", 3]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 19:28:30.016972"], ["updated_at", "2021-11-22 19:28:30.016972"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 19:28:30.023008"], ["updated_at", "2021-11-22 19:28:30.023008"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 19:28:30.027038"], ["updated_at", "2021-11-22 19:28:30.027038"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 19:28:30.031553"], ["updated_at", "2021-11-22 19:28:30.031553"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 19:28:30.036067"], ["updated_at", "2021-11-22 19:28:30.036067"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 19:28:30.041382"], ["updated_at", "2021-11-22 19:28:30.041382"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 19:28:30.045600"], ["updated_at", "2021-11-22 19:28:30.045600"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 19:28:30.051811"], ["updated_at", "2021-11-22 19:28:30.051811"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 19:28:30.068948"], ["updated_at", "2021-11-22 19:28:30.068948"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 19:28:30.078085"], ["updated_at", "2021-11-22 19:28:30.078085"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -3795], ["stock_balance", 13794], ["updated_at", "2021-11-22 19:28:30.082736"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 19:28:30.088397"], ["updated_at", "2021-11-22 19:28:30.088397"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6795], ["stock_balance", 16794], ["updated_at", "2021-11-22 19:28:30.092140"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 19:28:30.097984"], ["updated_at", "2021-11-22 19:28:30.097984"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:15:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7155], ["stock_balance", 17154], ["updated_at", "2021-11-22 19:28:30.102367"], ["id", 4]]
  ↳ app/models/transaction.rb:22:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (27.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (37.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (360.5ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (354.0ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 20:06:40.485703"], ["updated_at", "2021-11-22 20:06:40.485703"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 20:06:40.498999"], ["updated_at", "2021-11-22 20:06:40.498999"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 20:06:40.742953"], ["updated_at", "2021-11-22 20:06:40.742953"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 20:06:40.753039"], ["key", "environment"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 20:06:40.762618"], ["updated_at", "2021-11-22 20:06:40.762618"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 20:06:40.814443"], ["updated_at", "2021-11-22 20:06:40.814443"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 20:06:40.831790"], ["updated_at", "2021-11-22 20:06:40.831790"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 20:06:40.842531"], ["updated_at", "2021-11-22 20:06:40.842531"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 20:06:40.849084"], ["updated_at", "2021-11-22 20:06:40.849084"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 20:06:40.863367"], ["updated_at", "2021-11-22 20:06:40.863367"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 20:06:40.892582"], ["updated_at", "2021-11-22 20:06:40.892582"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 20:06:40.900240"], ["updated_at", "2021-11-22 20:06:40.900240"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 20:06:40.906909"], ["updated_at", "2021-11-22 20:06:40.906909"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 20:06:40.911137"], ["updated_at", "2021-11-22 20:06:40.911137"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 20:06:40.915676"], ["updated_at", "2021-11-22 20:06:40.915676"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 20:06:40.922437"], ["updated_at", "2021-11-22 20:06:40.922437"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 20:06:40.927956"], ["updated_at", "2021-11-22 20:06:40.927956"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 20:06:40.933368"], ["updated_at", "2021-11-22 20:06:40.933368"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 20:06:40.939224"], ["updated_at", "2021-11-22 20:06:40.939224"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 20:06:40.943365"], ["updated_at", "2021-11-22 20:06:40.943365"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 20:06:40.947784"], ["updated_at", "2021-11-22 20:06:40.947784"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 20:06:40.952079"], ["updated_at", "2021-11-22 20:06:40.952079"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 20:06:40.956501"], ["updated_at", "2021-11-22 20:06:40.956501"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 20:06:40.970545"], ["updated_at", "2021-11-22 20:06:40.970545"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 20:06:40.980039"], ["updated_at", "2021-11-22 20:06:40.980039"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 20:06:40.992033"], ["updated_at", "2021-11-22 20:06:40.992033"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 20:06:41.001634"], ["updated_at", "2021-11-22 20:06:41.001634"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 20:06:41.009966"], ["updated_at", "2021-11-22 20:06:41.009966"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 20:06:41.016765"], ["updated_at", "2021-11-22 20:06:41.016765"], ["user_id", 4]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 20:06:41.022461"], ["updated_at", "2021-11-22 20:06:41.022461"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 20:06:41.027083"], ["updated_at", "2021-11-22 20:06:41.027083"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 20:06:41.032070"], ["updated_at", "2021-11-22 20:06:41.032070"], ["account_id", 4]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 20:06:41.039650"], ["updated_at", "2021-11-22 20:06:41.039650"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 20:06:41.045503"], ["updated_at", "2021-11-22 20:06:41.045503"], ["account_id", 4]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 20:06:41.055559"], ["updated_at", "2021-11-22 20:06:41.055559"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 20:06:41.062671"], ["updated_at", "2021-11-22 20:06:41.062671"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 20:06:41.069021"], ["updated_at", "2021-11-22 20:06:41.069021"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 20:06:41.075037"], ["updated_at", "2021-11-22 20:06:41.075037"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 20:06:41.081461"], ["updated_at", "2021-11-22 20:06:41.081461"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-22 15:07:31 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:20:in `index'
Completed 200 OK in 14ms (Views: 6.2ms | ActiveRecord: 2.4ms | Allocations: 11162)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:33:18 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>3, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 3], ["settled_price", 155], ["created_at", "2021-11-22 20:33:18.962174"], ["updated_at", "2021-11-22 20:33:18.962174"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:20:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:27:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1535], ["stock_balance", 10031], ["updated_at", "2021-11-22 20:33:18.985313"], ["id", 1]]
  ↳ app/models/transaction.rb:27:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 84ms (Views: 0.6ms | ActiveRecord: 13.5ms | Allocations: 27866)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:37:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 2], ["settled_price", 155], ["created_at", "2021-11-22 20:37:45.447514"], ["updated_at", "2021-11-22 20:37:45.447514"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:21:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:29:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1845], ["stock_balance", 9721], ["updated_at", "2021-11-22 20:37:45.459490"], ["id", 1]]
  ↳ app/models/transaction.rb:29:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 36ms (Views: 0.5ms | ActiveRecord: 8.7ms | Allocations: 22878)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:43:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>500, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.2ms | Allocations: 15253)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:48:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:44:38 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>10, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.2ms | Allocations: 2615)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:50:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 20:50:21.647122"], ["updated_at", "2021-11-22 20:50:21.647122"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:25:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1690], ["stock_balance", 9876], ["updated_at", "2021-11-22 20:50:21.659517"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 44ms (Views: 0.6ms | ActiveRecord: 12.8ms | Allocations: 24736)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:52:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 20:52:41.555910"], ["updated_at", "2021-11-22 20:52:41.555910"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:25:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1535], ["stock_balance", 10031], ["updated_at", "2021-11-22 20:52:41.567783"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 40ms (Views: 0.5ms | ActiveRecord: 10.5ms | Allocations: 24292)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:54:24 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 20:54:24.456978"], ["updated_at", "2021-11-22 20:54:24.456978"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1380], ["stock_balance", 10186], ["updated_at", "2021-11-22 20:54:24.469040"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 50ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 24352)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:55:33 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 2], ["settled_price", 155], ["created_at", "2021-11-22 20:55:33.433226"], ["updated_at", "2021-11-22 20:55:33.433226"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1070], ["stock_balance", 10496], ["updated_at", "2021-11-22 20:55:33.445940"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 41ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 24323)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:57:05 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>3, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 3], ["settled_price", 155], ["created_at", "2021-11-22 20:57:06.002834"], ["updated_at", "2021-11-22 20:57:06.002834"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:38:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 29ms (Views: 0.5ms | ActiveRecord: 7.7ms | Allocations: 16907)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 15:59:26 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end):
  
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:00:10 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end):
  
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
app/models/transaction.rb:54: syntax error, unexpected end-of-input, expecting end
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:00:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:00:59.360835"], ["updated_at", "2021-11-22 21:00:59.360835"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:38:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 31ms (Views: 1.6ms | ActiveRecord: 7.8ms | Allocations: 16954)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:02:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:02:40.930101"], ["updated_at", "2021-11-22 21:02:40.930101"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 28ms (Views: 0.5ms | ActiveRecord: 7.8ms | Allocations: 16967)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:03:53 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:03:53.987895"], ["updated_at", "2021-11-22 21:03:53.987895"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 29ms (Views: 0.7ms | ActiveRecord: 7.4ms | Allocations: 16927)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:05:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:05:08.067332"], ["updated_at", "2021-11-22 21:05:08.067332"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 6.3ms | Allocations: 17237)


  
NoMethodError (undefined method `quantity' for nil:NilClass):
  
app/models/transaction.rb:37:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:12:29 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:12:30.045868"], ["updated_at", "2021-11-22 21:12:30.045868"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.3ms | Allocations: 19295)


  
NoMethodError (undefined method `quantity' for nil:NilClass):
  
app/models/transaction.rb:38:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:13:44 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:13:44.977054"], ["updated_at", "2021-11-22 21:13:44.977054"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "APPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:36:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 7.8ms | Allocations: 17300)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/models/transaction.rb:37:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:19:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:19:55.997852"], ["updated_at", "2021-11-22 21:19:55.997852"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 915], ["stock_balance", 10651], ["updated_at", "2021-11-22 21:19:56.011853"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 55ms (Views: 0.5ms | ActiveRecord: 13.4ms | Allocations: 25285)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:20:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"APPL", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "APPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "APPL"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:20:42.454188"], ["updated_at", "2021-11-22 21:20:42.454188"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1070], ["stock_balance", 10496], ["updated_at", "2021-11-22 21:20:42.462467"], ["id", 1]]
  ↳ app/models/transaction.rb:34:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 30ms (Views: 0.5ms | ActiveRecord: 5.7ms | Allocations: 6728)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:22:59 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:22:59.604652"], ["updated_at", "2021-11-22 21:22:59.604652"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 915], ["stock_balance", 10651], ["updated_at", "2021-11-22 21:22:59.615862"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 41ms (Views: 1.3ms | ActiveRecord: 10.3ms | Allocations: 22814)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:23:36 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:23:36.798363"], ["updated_at", "2021-11-22 21:23:36.798363"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:23:36.809570"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:39:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:43:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 21], ["updated_at", "2021-11-22 21:23:36.819903"], ["id", 1]]
  ↳ app/models/transaction.rb:43:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 22], ["updated_at", "2021-11-22 21:23:36.821390"], ["id", 1]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 48ms (Views: 0.5ms | ActiveRecord: 11.4ms | Allocations: 29976)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:29:54 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:29:54.363294"], ["updated_at", "2021-11-22 21:29:54.363294"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:29:54.373129"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 6.4ms | Allocations: 27432)


  
NameError (undefined local variable or method `account_portfolio' for #<Transaction:0x000055c57f23b460>
Did you mean?  account_id):
  
app/models/transaction.rb:41:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:30:32 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:30:32.255878"], ["updated_at", "2021-11-22 21:30:32.255878"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:30:32.269602"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 11.5ms | Allocations: 27362)


  
ActiveModel::UnknownAttributeError (unknown attribute 'tiker' for Portfolio.):
  
app/models/transaction.rb:57:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:30:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:30:55.774821"], ["updated_at", "2021-11-22 21:30:55.774821"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:30:55.786220"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ABC"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 21:30:55.802563"], ["updated_at", "2021-11-22 21:30:55.802563"], ["account_id", 1]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 55ms (Views: 1.3ms | ActiveRecord: 12.3ms | Allocations: 29105)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:41:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:41:55.605439"], ["updated_at", "2021-11-22 21:41:55.605439"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:41:55.615191"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:52:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 6.4ms | Allocations: 29802)


  
FrozenError (can't modify frozen attributes):
  
app/models/transaction.rb:56:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:43:08 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:43:08.876218"], ["updated_at", "2021-11-22 21:43:08.876218"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:43:08.889950"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:56:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 21:43:08.917472"], ["id", 14]]
  ↳ app/models/transaction.rb:56:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 74ms (Views: 0.5ms | ActiveRecord: 17.1ms | Allocations: 29706)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:43:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:43:48.269680"], ["updated_at", "2021-11-22 21:43:48.269680"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 21:43:48.282431"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 1], ["updated_at", "2021-11-22 21:43:48.293467"], ["id", 14]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mTransaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "transactions" WHERE "transactions"."id" = $1[0m  [["id", 36]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 201 Created in 50ms (Views: 0.5ms | ActiveRecord: 12.5ms | Allocations: 30042)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:44:03 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.9ms | Allocations: 2452)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:45:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (4.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 5.3ms | Allocations: 2450)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:45:32 -0500
  
SyntaxError (/home/wavyadri/lighthouse-host/wealthify/server/app/controllers/transactions_controller.rb:52: syntax error, unexpected =>, expecting then or ';' or '\n'
...trade_type == -1 && quantity => total_quantity
...                             ^~
/home/wavyadri/lighthouse-host/wealthify/server/app/controllers/transactions_controller.rb:102: syntax error, unexpected end, expecting end-of-input):
  
app/controllers/transactions_controller.rb:52: syntax error, unexpected =>, expecting then or ';' or '\n'
app/controllers/transactions_controller.rb:102: syntax error, unexpected end, expecting end-of-input
app/controllers/transactions_controller.rb:52: syntax error, unexpected =>, expecting then or ';' or '\n'
app/controllers/transactions_controller.rb:102: syntax error, unexpected end, expecting end-of-input
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:45:52 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.5ms | Allocations: 12915)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:54:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:48:42 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:48:42.322587"], ["updated_at", "2021-11-22 21:48:42.322587"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:71:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:48:42.334566"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 21:48:42.345411"], ["id", 14]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mTransaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "transactions" WHERE "transactions"."id" = $1[0m  [["id", 37]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:71:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 10.2ms | Allocations: 30392)


  
FrozenError (can't modify frozen attributes):
  
app/models/transaction.rb:61:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:71:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 16:50:38 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ABC", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:27:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:33:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ABC"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:37:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:59:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ABC"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 21:50:38.620665"], ["updated_at", "2021-11-22 21:50:38.620665"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:59:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 21:50:38.632618"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:44:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ABC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:46:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 21:50:38.645202"], ["id", 14]]
  ↳ app/models/transaction.rb:53:in `block in <class:Transaction>'
  [1m[36mTransaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "transactions" WHERE "transactions"."id" = $1[0m  [["id", 38]]
  ↳ app/models/transaction.rb:55:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 14]]
  ↳ app/models/transaction.rb:57:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:59:in `create'
Completed 201 Created in 55ms (Views: 0.6ms | ActiveRecord: 13.3ms | Allocations: 30452)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:06:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:06:41.908179"], ["updated_at", "2021-11-22 22:06:41.908179"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 22:06:41.918861"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.7ms | Allocations: 27586)


  
NoMethodError (undefined method `Portfolio' for #<Account:0x000055c580157a20>
Did you mean?  portfolios
               portfolios=):
  
app/models/transaction.rb:42:in `block in <class:Transaction>'
app/controllers/transactions_controller.rb:57:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:07:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:07:07.313392"], ["updated_at", "2021-11-22 22:07:07.313392"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 22:07:07.333948"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 54ms (Views: 0.6ms | ActiveRecord: 12.9ms | Allocations: 27437)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:07:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.4ms | Allocations: 2388)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:08:57 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:08:57.737914"], ["updated_at", "2021-11-22 22:08:57.737914"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 760], ["stock_balance", 10806], ["updated_at", "2021-11-22 22:08:57.749977"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 45ms (Views: 0.5ms | ActiveRecord: 11.4ms | Allocations: 27384)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:09:26 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"CDS", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "CDS"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CDS"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:09:26.677205"], ["updated_at", "2021-11-22 22:09:26.677205"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 605], ["stock_balance", 10961], ["updated_at", "2021-11-22 22:09:26.690887"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "CDS"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (1.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CDS"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 22:09:26.715465"], ["updated_at", "2021-11-22 22:09:26.715465"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 73ms (Views: 0.6ms | ActiveRecord: 18.8ms | Allocations: 29049)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:10:17 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>23, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 23], ["settled_price", 155], ["created_at", "2021-11-22 22:10:17.859467"], ["updated_at", "2021-11-22 22:10:17.859467"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-22 22:10:17.869493"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", -1], ["updated_at", "2021-11-22 22:10:17.877893"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 39ms (Views: 0.8ms | ActiveRecord: 5.1ms | Allocations: 9014)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (28.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (41.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (366.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (368.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 22:11:49.786755"], ["updated_at", "2021-11-22 22:11:49.786755"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 22:11:49.809840"], ["updated_at", "2021-11-22 22:11:49.809840"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" integer, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" integer, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211120014456)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208);

[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-22 22:11:50.055779"], ["updated_at", "2021-11-22 22:11:50.055779"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-22 22:11:50.070203"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "faf0c1934d4bf52063beffa9b2ee5864b4e17ec1"], ["created_at", "2021-11-22 22:11:50.082775"], ["updated_at", "2021-11-22 22:11:50.082775"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 22:11:50.125161"], ["updated_at", "2021-11-22 22:11:50.125161"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-22 22:11:50.142228"], ["updated_at", "2021-11-22 22:11:50.142228"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 22:11:50.154557"], ["updated_at", "2021-11-22 22:11:50.154557"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1], ["current_spot_price", 4271], ["created_at", "2021-11-22 22:11:50.160406"], ["updated_at", "2021-11-22 22:11:50.160406"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 22:11:50.185094"], ["updated_at", "2021-11-22 22:11:50.185094"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1], ["settled_price", 4271], ["created_at", "2021-11-22 22:11:50.204271"], ["updated_at", "2021-11-22 22:11:50.204271"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "adriana"], ["created_at", "2021-11-22 22:11:50.209997"], ["updated_at", "2021-11-22 22:11:50.209997"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-22 22:11:50.215887"], ["updated_at", "2021-11-22 22:11:50.215887"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3], ["current_spot_price", 2140], ["created_at", "2021-11-22 22:11:50.221879"], ["updated_at", "2021-11-22 22:11:50.221879"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10], ["current_spot_price", 343], ["created_at", "2021-11-22 22:11:50.227988"], ["updated_at", "2021-11-22 22:11:50.227988"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3], ["settled_price", 2140], ["created_at", "2021-11-22 22:11:50.234212"], ["updated_at", "2021-11-22 22:11:50.234212"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10], ["settled_price", 343], ["created_at", "2021-11-22 22:11:50.240035"], ["updated_at", "2021-11-22 22:11:50.240035"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "123456"], ["created_at", "2021-11-22 22:11:50.245545"], ["updated_at", "2021-11-22 22:11:50.245545"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-22 22:11:50.259873"], ["updated_at", "2021-11-22 22:11:50.259873"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50], ["current_spot_price", 4], ["created_at", "2021-11-22 22:11:50.273817"], ["updated_at", "2021-11-22 22:11:50.273817"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5], ["current_spot_price", 15], ["created_at", "2021-11-22 22:11:50.281792"], ["updated_at", "2021-11-22 22:11:50.281792"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20], ["current_spot_price", 158], ["created_at", "2021-11-22 22:11:50.288635"], ["updated_at", "2021-11-22 22:11:50.288635"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50], ["current_spot_price", 41], ["created_at", "2021-11-22 22:11:50.295560"], ["updated_at", "2021-11-22 22:11:50.295560"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50], ["settled_price", 4], ["created_at", "2021-11-22 22:11:50.301652"], ["updated_at", "2021-11-22 22:11:50.301652"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5], ["settled_price", 15], ["created_at", "2021-11-22 22:11:50.307931"], ["updated_at", "2021-11-22 22:11:50.307931"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20], ["settled_price", 158], ["created_at", "2021-11-22 22:11:50.314280"], ["updated_at", "2021-11-22 22:11:50.314280"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50], ["settled_price", 41], ["created_at", "2021-11-22 22:11:50.320809"], ["updated_at", "2021-11-22 22:11:50.320809"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "Super12345"], ["created_at", "2021-11-22 22:11:50.331727"], ["updated_at", "2021-11-22 22:11:50.331727"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-22 22:11:50.342359"], ["updated_at", "2021-11-22 22:11:50.342359"], ["user_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0], ["current_spot_price", 3999], ["created_at", "2021-11-22 22:11:50.350286"], ["updated_at", "2021-11-22 22:11:50.350286"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0], ["current_spot_price", 57500], ["created_at", "2021-11-22 22:11:50.356679"], ["updated_at", "2021-11-22 22:11:50.356679"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100], ["current_spot_price", 38], ["created_at", "2021-11-22 22:11:50.364711"], ["updated_at", "2021-11-22 22:11:50.364711"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300], ["current_spot_price", 10], ["created_at", "2021-11-22 22:11:50.378188"], ["updated_at", "2021-11-22 22:11:50.378188"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30], ["current_spot_price", 12], ["created_at", "2021-11-22 22:11:50.393202"], ["updated_at", "2021-11-22 22:11:50.393202"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 3999], ["created_at", "2021-11-22 22:11:50.406475"], ["updated_at", "2021-11-22 22:11:50.406475"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0], ["settled_price", 57500], ["created_at", "2021-11-22 22:11:50.415598"], ["updated_at", "2021-11-22 22:11:50.415598"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100], ["settled_price", 38], ["created_at", "2021-11-22 22:11:50.433901"], ["updated_at", "2021-11-22 22:11:50.433901"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300], ["settled_price", 10], ["created_at", "2021-11-22 22:11:50.441246"], ["updated_at", "2021-11-22 22:11:50.441246"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30], ["settled_price", 12], ["created_at", "2021-11-22 22:11:50.447960"], ["updated_at", "2021-11-22 22:11:50.447960"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:12:46 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>21, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 6.2ms | Allocations: 17287)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:13:01 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>-1, "quantity"=>20, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", -1], ["quantity", 20], ["settled_price", 155], ["created_at", "2021-11-22 22:13:01.139253"], ["updated_at", "2021-11-22 22:13:01.139253"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 5100], ["stock_balance", 6466], ["updated_at", "2021-11-22 22:13:01.154686"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 22:13:01.166987"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 1]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 67ms (Views: 0.5ms | ActiveRecord: 11.6ms | Allocations: 21583)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:13:23 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>5, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 5], ["settled_price", 155], ["created_at", "2021-11-22 22:13:23.764646"], ["updated_at", "2021-11-22 22:13:23.764646"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (2.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4325], ["stock_balance", 7241], ["updated_at", "2021-11-22 22:13:23.775147"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 5], ["current_spot_price", 155], ["created_at", "2021-11-22 22:13:23.784247"], ["updated_at", "2021-11-22 22:13:23.784247"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 8.8ms | Allocations: 8606)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:21:02 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:21:02.383842"], ["updated_at", "2021-11-22 22:21:02.383842"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-22 22:21:02.394140"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "NEGG"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 22:21:02.402604"], ["updated_at", "2021-11-22 22:21:02.402604"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 47ms (Views: 0.5ms | ActiveRecord: 8.4ms | Allocations: 30627)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:21:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>100000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 3.7ms | Allocations: 2397)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:27:49 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>10000000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 23.3ms | Allocations: 5554)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:32:09 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.3ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:32:43 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms | Allocations: 2399)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:32:51 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:37:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.1ms | Allocations: 2399)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:46:50 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1000000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 4.3ms | Allocations: 5607)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>100000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.3ms | Allocations: 2382)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (3.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:47:04.403565"], ["updated_at", "2021-11-22 22:47:04.403565"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4325], ["stock_balance", 7241], ["updated_at", "2021-11-22 22:47:04.411438"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 22:47:04.417199"], ["id", 15]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 15]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 33ms (Views: 0.4ms | ActiveRecord: 9.6ms | Allocations: 9445)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:23 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>100000000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.1ms | Allocations: 2388)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:37 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.3ms | Allocations: 2387)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:47:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"NEGG", "trade"=>1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (2.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "NEGG"], ["trade", 1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:47:40.145564"], ["updated_at", "2021-11-22 22:47:40.145564"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4170], ["stock_balance", 7396], ["updated_at", "2021-11-22 22:47:40.157134"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "NEGG"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "NEGG"], ["quantity", 1], ["current_spot_price", 155], ["created_at", "2021-11-22 22:47:40.165940"], ["updated_at", "2021-11-22 22:47:40.165940"], ["account_id", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 40ms (Views: 0.6ms | ActiveRecord: 9.0ms | Allocations: 8571)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:52:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>1, "quantity"=>10000000, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.9ms | Allocations: 2378)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:46:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:52:52 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>2, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.1ms | Allocations: 2377)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-22 17:53:00 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"ETH-USD", "trade"=>-1, "quantity"=>1, "settled_price"=>155.07, "account_id"=>1}}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", -1], ["quantity", 1], ["settled_price", 155], ["created_at", "2021-11-22 22:53:00.218782"], ["updated_at", "2021-11-22 22:53:00.218782"], ["account_id", 1]]
  ↳ app/controllers/transactions_controller.rb:57:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4325], ["stock_balance", 7241], ["updated_at", "2021-11-22 22:53:00.230124"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0], ["updated_at", "2021-11-22 22:53:00.236913"], ["id", 2]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Destroy (0.3ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 2]]
  ↳ app/models/transaction.rb:37:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:57:in `create'
Completed 201 Created in 43ms (Views: 0.5ms | ActiveRecord: 6.5ms | Allocations: 9430)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (157.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (55.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (246.7ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (57.5ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (14.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (49.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (12.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 15:45:17.027100"], ["updated_at", "2021-11-23 15:45:17.027100"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 15:45:17.042226"], ["updated_at", "2021-11-23 15:45:17.042226"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 15:45:17.216640"], ["updated_at", "2021-11-23 15:45:17.216640"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 15:45:17.230862"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 15:45:17.242794"], ["updated_at", "2021-11-23 15:45:17.242794"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (58.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (23.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (119.5ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (57.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 15:46:35.199727"], ["updated_at", "2021-11-23 15:46:35.199727"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 15:46:35.208261"], ["updated_at", "2021-11-23 15:46:35.208261"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (25.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 15:46:35.327254"], ["updated_at", "2021-11-23 15:46:35.327254"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 15:46:35.340135"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 15:46:35.348389"], ["updated_at", "2021-11-23 15:46:35.348389"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:46:35.434468"], ["updated_at", "2021-11-23 15:46:35.434468"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 15:46:35.470866"], ["updated_at", "2021-11-23 15:46:35.470866"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 15:46:35.492447"], ["updated_at", "2021-11-23 15:46:35.492447"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 15:46:35.500123"], ["updated_at", "2021-11-23 15:46:35.500123"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 15:46:35.520423"], ["updated_at", "2021-11-23 15:46:35.520423"], ["account_id", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1160], ["stock_balance", 12726], ["updated_at", "2021-11-23 15:46:35.525937"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 40.0], ["updated_at", "2021-11-23 15:46:35.531633"], ["id", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 15:46:35.537538"], ["updated_at", "2021-11-23 15:46:35.537538"], ["account_id", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -7566], ["stock_balance", 19132], ["updated_at", "2021-11-23 15:46:35.541990"], ["id", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 1], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 3.0], ["updated_at", "2021-11-23 15:46:35.546384"], ["id", 2]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:46:35.552067"], ["updated_at", "2021-11-23 15:46:35.552067"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 15:46:35.558658"], ["updated_at", "2021-11-23 15:46:35.558658"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 15:46:35.565570"], ["updated_at", "2021-11-23 15:46:35.565570"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 15:46:35.587117"], ["updated_at", "2021-11-23 15:46:35.587117"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 15:46:35.594135"], ["updated_at", "2021-11-23 15:46:35.594135"], ["account_id", 2]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6270], ["stock_balance", 16270], ["updated_at", "2021-11-23 15:46:35.598753"], ["id", 2]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 6.0], ["updated_at", "2021-11-23 15:46:35.603075"], ["id", 3]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 15:46:35.608897"], ["updated_at", "2021-11-23 15:46:35.608897"], ["account_id", 2]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9700], ["stock_balance", 19700], ["updated_at", "2021-11-23 15:46:35.613191"], ["id", 2]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 20.0], ["updated_at", "2021-11-23 15:46:35.617425"], ["id", 4]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:46:35.622968"], ["updated_at", "2021-11-23 15:46:35.622968"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 15:46:35.637895"], ["updated_at", "2021-11-23 15:46:35.637895"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 15:46:35.662386"], ["updated_at", "2021-11-23 15:46:35.662386"], ["account_id", 3]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 15:46:35.675449"], ["updated_at", "2021-11-23 15:46:35.675449"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 15:46:35.682934"], ["updated_at", "2021-11-23 15:46:35.682934"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 15:46:35.690109"], ["updated_at", "2021-11-23 15:46:35.690109"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 15:46:35.697147"], ["updated_at", "2021-11-23 15:46:35.697147"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4315], ["stock_balance", 5685], ["updated_at", "2021-11-23 15:46:35.701979"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "WISH"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "WISH"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 100.0], ["updated_at", "2021-11-23 15:46:35.706858"], ["id", 5]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 15:46:35.713391"], ["updated_at", "2021-11-23 15:46:35.713391"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 4240], ["stock_balance", 5760], ["updated_at", "2021-11-23 15:46:35.717986"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMSC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMSC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 10.0], ["updated_at", "2021-11-23 15:46:35.722540"], ["id", 6]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 15:46:35.728652"], ["updated_at", "2021-11-23 15:46:35.728652"], ["account_id", 3]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1080], ["stock_balance", 8920], ["updated_at", "2021-11-23 15:46:35.732952"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 15:46:35.737024"], ["updated_at", "2021-11-23 15:46:35.737024"], ["account_id", 3]]
  ↳ app/models/transaction.rb:42:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 15:46:35.743136"], ["updated_at", "2021-11-23 15:46:35.743136"], ["account_id", 3]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -970], ["stock_balance", 10970], ["updated_at", "2021-11-23 15:46:35.748050"], ["id", 3]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 3], ["ticker", "AMC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 100.0], ["updated_at", "2021-11-23 15:46:35.753089"], ["id", 8]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:46:35.759157"], ["updated_at", "2021-11-23 15:46:35.759157"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 15:46:35.766161"], ["updated_at", "2021-11-23 15:46:35.766161"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 15:46:35.773213"], ["updated_at", "2021-11-23 15:46:35.773213"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 15:46:35.780114"], ["updated_at", "2021-11-23 15:46:35.780114"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 15:46:35.796471"], ["updated_at", "2021-11-23 15:46:35.796471"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 15:46:35.803531"], ["updated_at", "2021-11-23 15:46:35.803531"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 15:46:35.810370"], ["updated_at", "2021-11-23 15:46:35.810370"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 15:46:35.817529"], ["updated_at", "2021-11-23 15:46:35.817529"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -1994], ["stock_balance", 11993], ["updated_at", "2021-11-23 15:46:35.822378"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (8.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "ETH-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 1.0], ["updated_at", "2021-11-23 15:46:35.835867"], ["id", 10]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 15:46:35.842724"], ["updated_at", "2021-11-23 15:46:35.842724"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -2569], ["stock_balance", 12568], ["updated_at", "2021-11-23 15:46:35.847410"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "BTC-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "BTC-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0.02], ["updated_at", "2021-11-23 15:46:35.852121"], ["id", 11]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 15:46:35.858869"], ["updated_at", "2021-11-23 15:46:35.858869"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -6369], ["stock_balance", 16368], ["updated_at", "2021-11-23 15:46:35.863842"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "DOT1-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "DOT1-USD"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 200.0], ["updated_at", "2021-11-23 15:46:35.868473"], ["id", 12]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 15:46:35.888299"], ["updated_at", "2021-11-23 15:46:35.888299"], ["account_id", 4]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9369], ["stock_balance", 19368], ["updated_at", "2021-11-23 15:46:35.892909"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "TLRY"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "TLRY"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 600.0], ["updated_at", "2021-11-23 15:46:35.897456"], ["id", 13]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (4.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 15:46:35.903879"], ["updated_at", "2021-11-23 15:46:35.903879"], ["account_id", 4]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:16:in `block in <class:Transaction>'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", -9729], ["stock_balance", 19728], ["updated_at", "2021-11-23 15:46:35.913518"], ["id", 4]]
  ↳ app/models/transaction.rb:23:in `block in <class:Transaction>'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "CGC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:26:in `block in <class:Transaction>'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 4], ["ticker", "CGC"], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:28:in `block in <class:Transaction>'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 60.0], ["updated_at", "2021-11-23 15:46:35.918970"], ["id", 14]]
  ↳ app/models/transaction.rb:33:in `block in <class:Transaction>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (51.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (21.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (94.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (37.0ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 15:47:56.912820"], ["updated_at", "2021-11-23 15:47:56.912820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 15:47:56.920098"], ["updated_at", "2021-11-23 15:47:56.920098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 15:47:57.006802"], ["updated_at", "2021-11-23 15:47:57.006802"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 15:47:57.014814"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 15:47:57.021654"], ["updated_at", "2021-11-23 15:47:57.021654"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:47:57.092218"], ["updated_at", "2021-11-23 15:47:57.092218"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 15:47:57.121657"], ["updated_at", "2021-11-23 15:47:57.121657"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (3.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 15:47:57.142353"], ["updated_at", "2021-11-23 15:47:57.142353"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 15:47:57.152549"], ["updated_at", "2021-11-23 15:47:57.152549"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (5.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 15:47:57.174023"], ["updated_at", "2021-11-23 15:47:57.174023"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 15:47:57.187056"], ["updated_at", "2021-11-23 15:47:57.187056"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:47:57.194852"], ["updated_at", "2021-11-23 15:47:57.194852"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 15:47:57.202835"], ["updated_at", "2021-11-23 15:47:57.202835"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 15:47:57.209800"], ["updated_at", "2021-11-23 15:47:57.209800"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 15:47:57.216193"], ["updated_at", "2021-11-23 15:47:57.216193"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 15:47:57.223045"], ["updated_at", "2021-11-23 15:47:57.223045"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 15:47:57.244157"], ["updated_at", "2021-11-23 15:47:57.244157"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:47:57.250679"], ["updated_at", "2021-11-23 15:47:57.250679"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 15:47:57.256985"], ["updated_at", "2021-11-23 15:47:57.256985"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 15:47:57.263671"], ["updated_at", "2021-11-23 15:47:57.263671"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 15:47:57.270069"], ["updated_at", "2021-11-23 15:47:57.270069"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 15:47:57.276865"], ["updated_at", "2021-11-23 15:47:57.276865"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 15:47:57.283374"], ["updated_at", "2021-11-23 15:47:57.283374"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (3.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 15:47:57.289816"], ["updated_at", "2021-11-23 15:47:57.289816"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 15:47:57.299267"], ["updated_at", "2021-11-23 15:47:57.299267"], ["account_id", 3]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 15:47:57.312715"], ["updated_at", "2021-11-23 15:47:57.312715"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 15:47:57.319978"], ["updated_at", "2021-11-23 15:47:57.319978"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 15:47:57.326572"], ["updated_at", "2021-11-23 15:47:57.326572"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 15:47:57.333855"], ["updated_at", "2021-11-23 15:47:57.333855"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 15:47:57.341268"], ["updated_at", "2021-11-23 15:47:57.341268"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 15:47:57.348194"], ["updated_at", "2021-11-23 15:47:57.348194"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 15:47:57.355071"], ["updated_at", "2021-11-23 15:47:57.355071"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 15:47:57.361503"], ["updated_at", "2021-11-23 15:47:57.361503"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 15:47:57.367840"], ["updated_at", "2021-11-23 15:47:57.367840"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 15:47:57.374481"], ["updated_at", "2021-11-23 15:47:57.374481"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 15:47:57.380897"], ["updated_at", "2021-11-23 15:47:57.380897"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 15:47:57.387368"], ["updated_at", "2021-11-23 15:47:57.387368"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 15:47:57.393800"], ["updated_at", "2021-11-23 15:47:57.393800"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 15:47:57.400063"], ["updated_at", "2021-11-23 15:47:57.400063"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 10:49:29 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 725ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 9111)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 10:49:33 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (4.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 77ms (Views: 17.9ms | ActiveRecord: 14.9ms | Allocations: 18623)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 10:50:08 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 22ms (Views: 15.0ms | ActiveRecord: 1.5ms | Allocations: 2680)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 11:52:25 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (8.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 117ms (Views: 111.7ms | ActiveRecord: 58.1ms | Allocations: 4273)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 11:52:59 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 759ms (Views: 1.6ms | ActiveRecord: 8.4ms | Allocations: 907)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 11:54:35 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 401 Unauthorized in 726ms (Views: 0.3ms | ActiveRecord: 6.4ms | Allocations: 682)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 11:54:44 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 734ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 832)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 11:54:48 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (19.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (6.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 74ms (Views: 29.5ms | ActiveRecord: 27.2ms | Allocations: 2686)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 11:55:30 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (27.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 100ms (Views: 45.4ms | ActiveRecord: 28.5ms | Allocations: 2660)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 11:55:48 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (6.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 78ms (Views: 58.2ms | ActiveRecord: 6.1ms | Allocations: 1068)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 11:57:23 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 1066)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/accounts" for ::1 at 2021-11-23 11:57:43 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (5.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 5.6ms | Allocations: 1066)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 11:59:07 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 29ms (Views: 25.4ms | ActiveRecord: 0.4ms | Allocations: 1066)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 11:59:30 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (15.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 57ms (Views: 39.1ms | ActiveRecord: 15.5ms | Allocations: 1066)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 11:59:38 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (2.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:13:in `index'
Completed 200 OK in 31ms (Views: 28.5ms | ActiveRecord: 2.6ms | Allocations: 1066)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/accounts" for ::1 at 2021-11-23 12:01:30 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (8.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 151ms (Views: 35.0ms | ActiveRecord: 108.1ms | Allocations: 13647)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 12:02:08 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 1.3ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 13:08:25 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (7.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 161ms (Views: 155.2ms | ActiveRecord: 74.0ms | Allocations: 5301)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 13:17:24 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 785ms (Views: 0.7ms | ActiveRecord: 39.0ms | Allocations: 4106)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 13:17:27 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (7.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (11.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (13.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 544ms (Views: 369.9ms | ActiveRecord: 81.0ms | Allocations: 11457)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 13:28:39 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (9.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 86ms (Views: 81.1ms | ActiveRecord: 32.6ms | Allocations: 5357)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:08:42 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 505ms (Views: 496.0ms | ActiveRecord: 139.5ms | Allocations: 5302)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:12:14 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (8.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 44ms (Views: 33.3ms | ActiveRecord: 8.4ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:20:32 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (6.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 120ms (Views: 117.6ms | ActiveRecord: 57.4ms | Allocations: 5301)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 14:23:57 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 845ms (Views: 13.1ms | ActiveRecord: 8.1ms | Allocations: 864)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 14:23:58 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (9.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (65.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (9.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 213ms (Views: 79.4ms | ActiveRecord: 84.9ms | Allocations: 2686)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:24:08 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 1.3ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 14:24:28 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 19ms (Views: 10.7ms | ActiveRecord: 0.9ms | Allocations: 2660)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:24:30 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.8ms | Allocations: 2175)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:28:30 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (24.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 48ms (Views: 19.6ms | ActiveRecord: 25.1ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 14:28:36 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (5.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (17.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 46ms (Views: 15.7ms | ActiveRecord: 23.3ms | Allocations: 2659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 14:33:01 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (10.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 748ms (Views: 1.3ms | ActiveRecord: 10.5ms | Allocations: 830)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 14:33:02 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 1.1ms | Allocations: 2659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 14:33:15 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 16ms (Views: 7.1ms | ActiveRecord: 1.9ms | Allocations: 2659)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 14:57:02 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (13.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 156ms (Views: 146.8ms | ActiveRecord: 80.7ms | Allocations: 5302)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:22:49 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (7.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (23.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 411ms (Views: 384.5ms | ActiveRecord: 174.1ms | Allocations: 5302)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:23:47 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (3.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 132ms (Views: 123.3ms | ActiveRecord: 4.1ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:26:36 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (14.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 78ms (Views: 59.5ms | ActiveRecord: 15.4ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:27:03 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (4.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 40ms (Views: 31.3ms | ActiveRecord: 6.2ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:29:12 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (8.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 75ms (Views: 60.9ms | ActiveRecord: 12.1ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:29:56 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (24.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 59ms (Views: 24.1ms | ActiveRecord: 32.7ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:31:23 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 28ms (Views: 20.7ms | ActiveRecord: 2.4ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:34:19 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (31.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 176ms (Views: 126.7ms | ActiveRecord: 31.8ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:34:28 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 1.0ms | Allocations: 2175)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:34:48 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 43ms (Views: 39.6ms | ActiveRecord: 1.0ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:36:23 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 49ms (Views: 34.7ms | ActiveRecord: 12.4ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:36:33 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (48.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 97ms (Views: 44.2ms | ActiveRecord: 49.6ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:40:25 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (19.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (12.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 185ms (Views: 150.4ms | ActiveRecord: 31.7ms | Allocations: 2177)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:43:00 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (74.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 236ms (Views: 159.1ms | ActiveRecord: 75.0ms | Allocations: 2175)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:45:21 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (7.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 42ms (Views: 31.8ms | ActiveRecord: 8.8ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:45:24 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 1.2ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:46:01 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 3.7ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:49:14 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (17.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 73ms (Views: 51.5ms | ActiveRecord: 18.5ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 15:53:07 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 90ms (Views: 87.1ms | ActiveRecord: 1.5ms | Allocations: 2174)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 16:14:02 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"aaron@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 1026ms (Views: 1.3ms | ActiveRecord: 93.0ms | Allocations: 4018)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/3
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/3" for ::1 at 2021-11-23 16:14:03 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAccount Load (24.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (7.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (8.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 3)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 65ms (Views: 16.7ms | ActiveRecord: 40.1ms | Allocations: 2716)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users" for ::1 at 2021-11-23 16:14:31 -0500
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"first_name"=>"Test123", "last_name"=>"Test321", "email"=>"test123@gmail.com", "password"=>"[FILTERED]", "referral_code"=>""}}
[31mUnpermitted parameter: :referral_code[0m
[31mUnpermitted parameter: :referral_code[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test123@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Create (11.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Test123"], ["last_name", "Test321"], ["email", "test123@gmail.com"], ["password_digest", "$2a$12$tlYi1yOVUW9.7.4Y/hbrkuoVpzvBc98/6IMiVahq7rLVoWGC5M/0C"], ["created_at", "2021-11-23 21:14:32.249454"], ["updated_at", "2021-11-23 21:14:32.249454"]]
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:44:in `create'
Completed 201 Created in 899ms (Views: 0.5ms | ActiveRecord: 33.4ms | Allocations: 5868)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-23 16:14:32 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 541)


  
ActiveRecord::RecordNotFound (Couldn't find Account with 'id'=5):
  
app/controllers/accounts_controller.rb:54:in `set_account'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (116.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (57.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (176.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (72.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 21:17:29.031487"], ["updated_at", "2021-11-23 21:17:29.031487"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 21:17:29.045264"], ["updated_at", "2021-11-23 21:17:29.045264"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (23.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (24.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 21:17:29.236925"], ["updated_at", "2021-11-23 21:17:29.236925"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 21:17:29.249819"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 21:17:29.260046"], ["updated_at", "2021-11-23 21:17:29.260046"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (52.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (19.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (150.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (48.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 21:18:58.230316"], ["updated_at", "2021-11-23 21:18:58.230316"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 21:18:58.238936"], ["updated_at", "2021-11-23 21:18:58.238936"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 21:18:58.332180"], ["updated_at", "2021-11-23 21:18:58.332180"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 21:18:58.339687"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 21:18:58.346315"], ["updated_at", "2021-11-23 21:18:58.346315"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:18:58.425305"], ["updated_at", "2021-11-23 21:18:58.425305"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.2ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 21:18:58.461632"], ["updated_at", "2021-11-23 21:18:58.461632"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (2.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 21:18:58.482189"], ["updated_at", "2021-11-23 21:18:58.482189"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 21:18:58.491023"], ["updated_at", "2021-11-23 21:18:58.491023"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 21:18:58.510783"], ["updated_at", "2021-11-23 21:18:58.510783"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 21:18:58.517889"], ["updated_at", "2021-11-23 21:18:58.517889"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:18:58.524066"], ["updated_at", "2021-11-23 21:18:58.524066"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 21:18:58.530495"], ["updated_at", "2021-11-23 21:18:58.530495"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 21:18:58.537337"], ["updated_at", "2021-11-23 21:18:58.537337"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 21:18:58.543747"], ["updated_at", "2021-11-23 21:18:58.543747"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 21:18:58.550090"], ["updated_at", "2021-11-23 21:18:58.550090"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 21:18:58.556481"], ["updated_at", "2021-11-23 21:18:58.556481"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:18:58.562312"], ["updated_at", "2021-11-23 21:18:58.562312"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 21:18:58.583411"], ["updated_at", "2021-11-23 21:18:58.583411"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 21:18:58.589850"], ["updated_at", "2021-11-23 21:18:58.589850"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 21:18:58.596079"], ["updated_at", "2021-11-23 21:18:58.596079"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 21:18:58.602492"], ["updated_at", "2021-11-23 21:18:58.602492"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 21:18:58.608712"], ["updated_at", "2021-11-23 21:18:58.608712"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 21:18:58.614925"], ["updated_at", "2021-11-23 21:18:58.614925"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 21:18:58.621474"], ["updated_at", "2021-11-23 21:18:58.621474"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 21:18:58.627629"], ["updated_at", "2021-11-23 21:18:58.627629"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 21:18:58.633700"], ["updated_at", "2021-11-23 21:18:58.633700"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:18:58.639639"], ["updated_at", "2021-11-23 21:18:58.639639"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 21:18:58.646184"], ["updated_at", "2021-11-23 21:18:58.646184"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 21:18:58.652810"], ["updated_at", "2021-11-23 21:18:58.652810"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 21:18:58.658938"], ["updated_at", "2021-11-23 21:18:58.658938"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 21:18:58.665036"], ["updated_at", "2021-11-23 21:18:58.665036"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 21:18:58.671017"], ["updated_at", "2021-11-23 21:18:58.671017"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 21:18:58.677043"], ["updated_at", "2021-11-23 21:18:58.677043"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 21:18:58.683965"], ["updated_at", "2021-11-23 21:18:58.683965"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 21:18:58.690695"], ["updated_at", "2021-11-23 21:18:58.690695"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 21:18:58.696903"], ["updated_at", "2021-11-23 21:18:58.696903"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 21:18:58.703553"], ["updated_at", "2021-11-23 21:18:58.703553"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 21:18:58.709839"], ["updated_at", "2021-11-23 21:18:58.709839"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users" for ::1 at 2021-11-23 16:20:15 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"first_name"=>"Ethan", "last_name"=>"Tenn", "email"=>"ethan@gmail.com", "password"=>"[FILTERED]", "referral_code"=>""}}
[31mUnpermitted parameter: :referral_code[0m
[31mUnpermitted parameter: :referral_code[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ethan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ethan"], ["last_name", "Tenn"], ["email", "ethan@gmail.com"], ["password_digest", "$2a$12$ftqk2WqKCFRjM.eFdrfZYeyPUyRJSrozjSSHMPD9wri95D6aotGnG"], ["created_at", "2021-11-23 21:20:16.591176"], ["updated_at", "2021-11-23 21:20:16.591176"]]
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:44:in `create'
Completed 201 Created in 732ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 14594)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-23 16:20:16 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
Completed 404 Not Found in 12ms (ActiveRecord: 6.0ms | Allocations: 1646)


  
ActiveRecord::RecordNotFound (Couldn't find Account with 'id'=5):
  
app/controllers/accounts_controller.rb:54:in `set_account'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-23 16:27:58 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (26.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
Completed 404 Not Found in 110ms (ActiveRecord: 50.4ms | Allocations: 3827)


  
ActiveRecord::RecordNotFound (Couldn't find Account with 'id'=5):
  
app/controllers/accounts_controller.rb:54:in `set_account'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (97.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (70.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (175.2ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (52.6ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (37.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (20.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 21:31:02.590245"], ["updated_at", "2021-11-23 21:31:02.590245"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 21:31:02.609610"], ["updated_at", "2021-11-23 21:31:02.609610"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-23 21:31:02.775325"], ["updated_at", "2021-11-23 21:31:02.775325"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-23 21:31:02.784689"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-23 21:31:02.795124"], ["updated_at", "2021-11-23 21:31:02.795124"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:31:02.887268"], ["updated_at", "2021-11-23 21:31:02.887268"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-23 21:31:02.922878"], ["updated_at", "2021-11-23 21:31:02.922878"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (2.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 21:31:02.943332"], ["updated_at", "2021-11-23 21:31:02.943332"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (3.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-23 21:31:02.952752"], ["updated_at", "2021-11-23 21:31:02.952752"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 21:31:02.976892"], ["updated_at", "2021-11-23 21:31:02.976892"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-23 21:31:02.984648"], ["updated_at", "2021-11-23 21:31:02.984648"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:31:02.991194"], ["updated_at", "2021-11-23 21:31:02.991194"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-23 21:31:02.998300"], ["updated_at", "2021-11-23 21:31:02.998300"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-23 21:31:03.006453"], ["updated_at", "2021-11-23 21:31:03.006453"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-23 21:31:03.013091"], ["updated_at", "2021-11-23 21:31:03.013091"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-23 21:31:03.019641"], ["updated_at", "2021-11-23 21:31:03.019641"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-23 21:31:03.041506"], ["updated_at", "2021-11-23 21:31:03.041506"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:31:03.048050"], ["updated_at", "2021-11-23 21:31:03.048050"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-23 21:31:03.054750"], ["updated_at", "2021-11-23 21:31:03.054750"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-23 21:31:03.061379"], ["updated_at", "2021-11-23 21:31:03.061379"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-23 21:31:03.067583"], ["updated_at", "2021-11-23 21:31:03.067583"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (2.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "APPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-23 21:31:03.075670"], ["updated_at", "2021-11-23 21:31:03.075670"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-23 21:31:03.082416"], ["updated_at", "2021-11-23 21:31:03.082416"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-23 21:31:03.089347"], ["updated_at", "2021-11-23 21:31:03.089347"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-23 21:31:03.096161"], ["updated_at", "2021-11-23 21:31:03.096161"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-23 21:31:03.102949"], ["updated_at", "2021-11-23 21:31:03.102949"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-23 21:31:03.109424"], ["updated_at", "2021-11-23 21:31:03.109424"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-23 21:31:03.115851"], ["updated_at", "2021-11-23 21:31:03.115851"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-23 21:31:03.122604"], ["updated_at", "2021-11-23 21:31:03.122604"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-23 21:31:03.129511"], ["updated_at", "2021-11-23 21:31:03.129511"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-23 21:31:03.139461"], ["updated_at", "2021-11-23 21:31:03.139461"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-23 21:31:03.146205"], ["updated_at", "2021-11-23 21:31:03.146205"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-23 21:31:03.153812"], ["updated_at", "2021-11-23 21:31:03.153812"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-23 21:31:03.160711"], ["updated_at", "2021-11-23 21:31:03.160711"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-23 21:31:03.168508"], ["updated_at", "2021-11-23 21:31:03.168508"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-23 21:31:03.175140"], ["updated_at", "2021-11-23 21:31:03.175140"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-23 21:31:03.181347"], ["updated_at", "2021-11-23 21:31:03.181347"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-23 21:31:03.187561"], ["updated_at", "2021-11-23 21:31:03.187561"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-23 21:31:03.194446"], ["updated_at", "2021-11-23 21:31:03.194446"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users" for ::1 at 2021-11-23 16:33:22 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"first_name"=>"Ethan", "last_name"=>"Tenn", "email"=>"ethan@gmail.com", "password"=>"[FILTERED]", "referral_code"=>""}}
[31mUnpermitted parameter: :referral_code[0m
[31mUnpermitted parameter: :referral_code[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ethan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Ethan"], ["last_name", "Tenn"], ["email", "ethan@gmail.com"], ["password_digest", "$2a$12$YiLgmQK3ylX6mGQR22DdZ.e0emeKHkWF7QLKzMCisTvWfNqvmpuVm"], ["created_at", "2021-11-23 21:33:23.647193"], ["updated_at", "2021-11-23 21:33:23.647193"]]
  ↳ app/controllers/users_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/user.rb:24:in `block in <class:User>'
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-23 21:33:23.684342"], ["updated_at", "2021-11-23 21:33:23.684342"], ["user_id", 5]]
  ↳ app/models/user.rb:24:in `block in <class:User>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:44:in `create'
Completed 201 Created in 752ms (Views: 0.2ms | ActiveRecord: 13.1ms | Allocations: 22436)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-23 16:33:23 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 14ms (Views: 2.5ms | ActiveRecord: 2.0ms | Allocations: 3131)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-23 16:34:44 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"ethan@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ethan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 728ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 953)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-23 16:34:45 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 2.0ms | Allocations: 1826)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 16:34:49 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 1.3ms | Allocations: 2433)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-23 16:36:42 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (6.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:54:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:23:in `show'
Completed 200 OK in 14ms (Views: 4.5ms | ActiveRecord: 7.7ms | Allocations: 1846)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 16:54:15 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (7.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 178ms (Views: 164.8ms | ActiveRecord: 37.4ms | Allocations: 5611)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 16:55:17 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 124ms (Views: 122.4ms | ActiveRecord: 0.8ms | Allocations: 2408)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-23 17:45:04 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (8.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:8:in `index'
Completed 200 OK in 380ms (Views: 321.1ms | ActiveRecord: 59.3ms | Allocations: 5535)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
<<<<<<< HEAD
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (46.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (37.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (471.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (517.5ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (34.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (23.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (22.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (6.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
=======
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (34.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (21.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (84.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (33.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
<<<<<<< HEAD
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:03:12.062834"], ["updated_at", "2021-11-24 16:03:12.062834"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:03:12.095091"], ["updated_at", "2021-11-24 16:03:12.095091"]]
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (32.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
=======
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 15:56:29.123890"], ["updated_at", "2021-11-24 15:56:29.123890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 15:56:29.130374"], ["updated_at", "2021-11-24 15:56:29.130374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
<<<<<<< HEAD
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:03:12.416663"], ["updated_at", "2021-11-24 16:03:12.416663"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 16:03:12.434308"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:03:12.450052"], ["updated_at", "2021-11-24 16:03:12.450052"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:03:12.568574"], ["updated_at", "2021-11-24 16:03:12.568574"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-24 16:03:12.596661"], ["updated_at", "2021-11-24 16:03:12.596661"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:03:12.617665"], ["updated_at", "2021-11-24 16:03:12.617665"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-24 16:03:12.628430"], ["updated_at", "2021-11-24 16:03:12.628430"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (69.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (34.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (364.0ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (358.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
=======
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 15:56:29.214910"], ["updated_at", "2021-11-24 15:56:29.214910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 15:56:29.223152"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 15:56:29.229961"], ["updated_at", "2021-11-24 15:56:29.229961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 15:56:29.322475"], ["updated_at", "2021-11-24 15:56:29.322475"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-24 15:56:29.350464"], ["updated_at", "2021-11-24 15:56:29.350464"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 15:56:29.367679"], ["updated_at", "2021-11-24 15:56:29.367679"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-24 15:56:29.375349"], ["updated_at", "2021-11-24 15:56:29.375349"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (29.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (16.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (73.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (28.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
<<<<<<< HEAD
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:04:42.514210"], ["updated_at", "2021-11-24 16:04:42.514210"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:04:42.542268"], ["updated_at", "2021-11-24 16:04:42.542268"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (27.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
=======
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 15:58:01.106364"], ["updated_at", "2021-11-24 15:58:01.106364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 15:58:01.118687"], ["updated_at", "2021-11-24 15:58:01.118687"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
<<<<<<< HEAD
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:04:42.848293"], ["updated_at", "2021-11-24 16:04:42.848293"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.0ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 16:04:42.871537"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:04:42.889451"], ["updated_at", "2021-11-24 16:04:42.889451"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:43.010506"], ["updated_at", "2021-11-24 16:04:43.010506"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-24 16:04:43.059054"], ["updated_at", "2021-11-24 16:04:43.059054"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:04:43.092416"], ["updated_at", "2021-11-24 16:04:43.092416"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-24 16:04:43.104119"], ["updated_at", "2021-11-24 16:04:43.104119"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 16:04:43.121561"], ["updated_at", "2021-11-24 16:04:43.121561"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-24 16:04:43.128958"], ["updated_at", "2021-11-24 16:04:43.128958"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:43.135322"], ["updated_at", "2021-11-24 16:04:43.135322"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-24 16:04:43.142266"], ["updated_at", "2021-11-24 16:04:43.142266"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-24 16:04:43.149254"], ["updated_at", "2021-11-24 16:04:43.149254"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-24 16:04:43.168761"], ["updated_at", "2021-11-24 16:04:43.168761"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-24 16:04:43.175069"], ["updated_at", "2021-11-24 16:04:43.175069"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-24 16:04:43.181726"], ["updated_at", "2021-11-24 16:04:43.181726"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:43.187935"], ["updated_at", "2021-11-24 16:04:43.187935"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-24 16:04:43.193974"], ["updated_at", "2021-11-24 16:04:43.193974"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-24 16:04:43.200041"], ["updated_at", "2021-11-24 16:04:43.200041"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-24 16:04:43.205960"], ["updated_at", "2021-11-24 16:04:43.205960"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:04:43.211854"], ["updated_at", "2021-11-24 16:04:43.211854"], ["account_id", 3]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-24 16:04:43.222966"], ["updated_at", "2021-11-24 16:04:43.222966"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-24 16:04:43.230811"], ["updated_at", "2021-11-24 16:04:43.230811"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (2.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-24 16:04:43.237448"], ["updated_at", "2021-11-24 16:04:43.237448"], ["account_id", 3]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 16:04:43.247409"], ["updated_at", "2021-11-24 16:04:43.247409"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-24 16:04:43.254255"], ["updated_at", "2021-11-24 16:04:43.254255"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:43.260426"], ["updated_at", "2021-11-24 16:04:43.260426"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-24 16:04:43.268046"], ["updated_at", "2021-11-24 16:04:43.268046"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-24 16:04:43.274753"], ["updated_at", "2021-11-24 16:04:43.274753"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-24 16:04:43.280601"], ["updated_at", "2021-11-24 16:04:43.280601"], ["account_id", 4]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-24 16:04:43.296815"], ["updated_at", "2021-11-24 16:04:43.296815"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-24 16:04:43.308661"], ["updated_at", "2021-11-24 16:04:43.308661"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-24 16:04:43.317404"], ["updated_at", "2021-11-24 16:04:43.317404"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-24 16:04:43.325905"], ["updated_at", "2021-11-24 16:04:43.325905"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-24 16:04:43.333498"], ["updated_at", "2021-11-24 16:04:43.333498"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-24 16:04:43.347437"], ["updated_at", "2021-11-24 16:04:43.347437"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-24 16:04:43.358718"], ["updated_at", "2021-11-24 16:04:43.358718"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-24 16:04:43.367263"], ["updated_at", "2021-11-24 16:04:43.367263"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (82.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (39.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (372.7ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (371.7ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (23.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (9.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (14.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:04:51.400618"], ["updated_at", "2021-11-24 16:04:51.400618"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:04:51.416424"], ["updated_at", "2021-11-24 16:04:51.416424"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
=======
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 15:58:01.203984"], ["updated_at", "2021-11-24 15:58:01.203984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 15:58:01.211436"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 15:58:01.218225"], ["updated_at", "2021-11-24 15:58:01.218225"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 15:58:01.294757"], ["updated_at", "2021-11-24 15:58:01.294757"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-24 15:58:01.320277"], ["updated_at", "2021-11-24 15:58:01.320277"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 15:58:01.340215"], ["updated_at", "2021-11-24 15:58:01.340215"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-24 15:58:01.347451"], ["updated_at", "2021-11-24 15:58:01.347451"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (3.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 15:58:01.374100"], ["updated_at", "2021-11-24 15:58:01.374100"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-24 15:58:01.383158"], ["updated_at", "2021-11-24 15:58:01.383158"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 15:58:01.389199"], ["updated_at", "2021-11-24 15:58:01.389199"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-24 15:58:01.395813"], ["updated_at", "2021-11-24 15:58:01.395813"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-24 15:58:01.402746"], ["updated_at", "2021-11-24 15:58:01.402746"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (2.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-24 15:58:01.411796"], ["updated_at", "2021-11-24 15:58:01.411796"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-24 15:58:01.418732"], ["updated_at", "2021-11-24 15:58:01.418732"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-24 15:58:01.425508"], ["updated_at", "2021-11-24 15:58:01.425508"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 15:58:01.431779"], ["updated_at", "2021-11-24 15:58:01.431779"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-24 15:58:01.439350"], ["updated_at", "2021-11-24 15:58:01.439350"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-24 15:58:01.447334"], ["updated_at", "2021-11-24 15:58:01.447334"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-24 15:58:01.467450"], ["updated_at", "2021-11-24 15:58:01.467450"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 15:58:01.474482"], ["updated_at", "2021-11-24 15:58:01.474482"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-24 15:58:01.480949"], ["updated_at", "2021-11-24 15:58:01.480949"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-24 15:58:01.488006"], ["updated_at", "2021-11-24 15:58:01.488006"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-24 15:58:01.495319"], ["updated_at", "2021-11-24 15:58:01.495319"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 15:58:01.502094"], ["updated_at", "2021-11-24 15:58:01.502094"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-24 15:58:01.508614"], ["updated_at", "2021-11-24 15:58:01.508614"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 15:58:01.514915"], ["updated_at", "2021-11-24 15:58:01.514915"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-24 15:58:01.521412"], ["updated_at", "2021-11-24 15:58:01.521412"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-24 15:58:01.528076"], ["updated_at", "2021-11-24 15:58:01.528076"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-24 15:58:01.534351"], ["updated_at", "2021-11-24 15:58:01.534351"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-24 15:58:01.541159"], ["updated_at", "2021-11-24 15:58:01.541159"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-24 15:58:01.547254"], ["updated_at", "2021-11-24 15:58:01.547254"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-24 15:58:01.553630"], ["updated_at", "2021-11-24 15:58:01.553630"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-24 15:58:01.561424"], ["updated_at", "2021-11-24 15:58:01.561424"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-24 15:58:01.567953"], ["updated_at", "2021-11-24 15:58:01.567953"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-24 15:58:01.575344"], ["updated_at", "2021-11-24 15:58:01.575344"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-24 15:58:01.581788"], ["updated_at", "2021-11-24 15:58:01.581788"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-24 15:58:01.588142"], ["updated_at", "2021-11-24 15:58:01.588142"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/accounts" for ::1 at 2021-11-24 11:03:22 -0500
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (2.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (2.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (1.2ms)[0m  [1m[33mUPDATE "accounts" SET "total_balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["total_balance", 11566], ["updated_at", "2021-11-24 16:03:22.412886"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9734], ["total_balance", 9739], ["updated_at", "2021-11-24 16:03:22.441954"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 136ms (Views: 5.9ms | ActiveRecord: 51.7ms | Allocations: 35348)


Started GET "/api/users" for ::1 at 2021-11-24 11:04:21 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/users"):
  
Started GET "/api/portfolios" for ::1 at 2021-11-24 11:04:24 -0500
Processing by PortfoliosController#index as HTML
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:108:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:57:in `adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160], ["updated_at", "2021-11-24 16:04:24.836876"], ["id", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4251], ["updated_at", "2021-11-24 16:04:24.842275"], ["id", 2]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1601], ["updated_at", "2021-11-24 16:04:24.847384"], ["id", 3]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 334], ["updated_at", "2021-11-24 16:04:24.851693"], ["id", 4]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3], ["updated_at", "2021-11-24 16:04:24.856037"], ["id", 5]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13], ["updated_at", "2021-11-24 16:04:24.863237"], ["id", 6]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160], ["updated_at", "2021-11-24 16:04:24.867130"], ["id", 7]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38], ["updated_at", "2021-11-24 16:04:24.871123"], ["id", 8]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4251], ["updated_at", "2021-11-24 16:04:24.875670"], ["id", 9]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56766], ["updated_at", "2021-11-24 16:04:24.879868"], ["id", 10]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39], ["updated_at", "2021-11-24 16:04:24.883697"], ["id", 11]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11], ["updated_at", "2021-11-24 16:04:24.899558"], ["id", 13]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:18:in `index'
Completed 200 OK in 344ms (Views: 2.5ms | ActiveRecord: 18.0ms | Allocations: 41593)


Started GET "/api/portfolios" for ::1 at 2021-11-24 11:20:28 -0500
Processing by PortfoliosController#index as HTML
  [1m[36mPortfolio Load (3.0ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:108:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:57:in `adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161], ["updated_at", "2021-11-24 16:20:28.793120"], ["id", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4254], ["updated_at", "2021-11-24 16:20:28.798485"], ["id", 2]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1622], ["updated_at", "2021-11-24 16:20:28.805799"], ["id", 3]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 335], ["updated_at", "2021-11-24 16:20:28.820530"], ["id", 4]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4], ["updated_at", "2021-11-24 16:20:28.825499"], ["id", 5]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161], ["updated_at", "2021-11-24 16:20:28.831462"], ["id", 7]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39], ["updated_at", "2021-11-24 16:20:28.836999"], ["id", 8]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4254], ["updated_at", "2021-11-24 16:20:28.841431"], ["id", 9]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56839], ["updated_at", "2021-11-24 16:20:28.845399"], ["id", 10]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:18:in `index'
Completed 200 OK in 500ms (Views: 2.5ms | ActiveRecord: 30.2ms | Allocations: 40924)


  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (25.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (17.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (83.9ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (32.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
<<<<<<< HEAD
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:04:51.670692"], ["updated_at", "2021-11-24 16:04:51.670692"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.9ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 16:04:51.690896"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:04:51.707088"], ["updated_at", "2021-11-24 16:04:51.707088"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:51.851309"], ["updated_at", "2021-11-24 16:04:51.851309"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-24 16:04:51.891241"], ["updated_at", "2021-11-24 16:04:51.891241"], ["user_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:04:51.907493"], ["updated_at", "2021-11-24 16:04:51.907493"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-24 16:04:51.913682"], ["updated_at", "2021-11-24 16:04:51.913682"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 16:04:51.926362"], ["updated_at", "2021-11-24 16:04:51.926362"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-24 16:04:51.944330"], ["updated_at", "2021-11-24 16:04:51.944330"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:51.950403"], ["updated_at", "2021-11-24 16:04:51.950403"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-24 16:04:51.956432"], ["updated_at", "2021-11-24 16:04:51.956432"], ["user_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-24 16:04:51.962669"], ["updated_at", "2021-11-24 16:04:51.962669"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-24 16:04:51.968864"], ["updated_at", "2021-11-24 16:04:51.968864"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-24 16:04:51.974973"], ["updated_at", "2021-11-24 16:04:51.974973"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-24 16:04:51.981220"], ["updated_at", "2021-11-24 16:04:51.981220"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:51.986971"], ["updated_at", "2021-11-24 16:04:51.986971"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-24 16:04:51.993056"], ["updated_at", "2021-11-24 16:04:51.993056"], ["user_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-24 16:04:52.005892"], ["updated_at", "2021-11-24 16:04:52.005892"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-24 16:04:52.016067"], ["updated_at", "2021-11-24 16:04:52.016067"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:04:52.024330"], ["updated_at", "2021-11-24 16:04:52.024330"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-24 16:04:52.030988"], ["updated_at", "2021-11-24 16:04:52.030988"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-24 16:04:52.037284"], ["updated_at", "2021-11-24 16:04:52.037284"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-24 16:04:52.043849"], ["updated_at", "2021-11-24 16:04:52.043849"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 16:04:52.049448"], ["updated_at", "2021-11-24 16:04:52.049448"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-24 16:04:52.055284"], ["updated_at", "2021-11-24 16:04:52.055284"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:04:52.061416"], ["updated_at", "2021-11-24 16:04:52.061416"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-24 16:04:52.074076"], ["updated_at", "2021-11-24 16:04:52.074076"], ["user_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-24 16:04:52.087085"], ["updated_at", "2021-11-24 16:04:52.087085"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-24 16:04:52.096621"], ["updated_at", "2021-11-24 16:04:52.096621"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-24 16:04:52.105598"], ["updated_at", "2021-11-24 16:04:52.105598"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-24 16:04:52.112244"], ["updated_at", "2021-11-24 16:04:52.112244"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-24 16:04:52.117624"], ["updated_at", "2021-11-24 16:04:52.117624"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-24 16:04:52.123433"], ["updated_at", "2021-11-24 16:04:52.123433"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-24 16:04:52.140138"], ["updated_at", "2021-11-24 16:04:52.140138"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-24 16:04:52.147252"], ["updated_at", "2021-11-24 16:04:52.147252"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-24 16:04:52.153261"], ["updated_at", "2021-11-24 16:04:52.153261"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-24 16:04:52.167037"], ["updated_at", "2021-11-24 16:04:52.167037"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 11:48:25 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 226ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 9116)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 11:48:26 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "total_balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["total_balance", 11566], ["updated_at", "2021-11-24 16:48:26.170711"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
=======
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:27:15.567597"], ["updated_at", "2021-11-24 16:27:15.567597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:27:15.580101"], ["updated_at", "2021-11-24 16:27:15.580101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" integer, "stock_balance" integer, "total_balance" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211123011257)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 16:27:15.668982"], ["updated_at", "2021-11-24 16:27:15.668982"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 16:27:15.676676"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "04162b41bbcf24a28f89e1e396f1cc02612b9186"], ["created_at", "2021-11-24 16:27:15.683460"], ["updated_at", "2021-11-24 16:27:15.683460"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:27:15.762722"], ["updated_at", "2021-11-24 16:27:15.762722"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 2000], ["stock_balance", 9566], ["total_balance", 12000], ["created_at", "2021-11-24 16:27:15.788720"], ["updated_at", "2021-11-24 16:27:15.788720"], ["user_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:27:15.805596"], ["updated_at", "2021-11-24 16:27:15.805596"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271], ["created_at", "2021-11-24 16:27:15.811454"], ["updated_at", "2021-11-24 16:27:15.811454"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 16:27:15.835341"], ["updated_at", "2021-11-24 16:27:15.835341"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271], ["created_at", "2021-11-24 16:27:15.843040"], ["updated_at", "2021-11-24 16:27:15.843040"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:27:15.849056"], ["updated_at", "2021-11-24 16:27:15.849056"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 150], ["stock_balance", 9850], ["total_balance", 10000], ["created_at", "2021-11-24 16:27:15.855358"], ["updated_at", "2021-11-24 16:27:15.855358"], ["user_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 2140], ["created_at", "2021-11-24 16:27:15.862151"], ["updated_at", "2021-11-24 16:27:15.862151"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343], ["created_at", "2021-11-24 16:27:15.868742"], ["updated_at", "2021-11-24 16:27:15.868742"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 2140], ["created_at", "2021-11-24 16:27:15.875301"], ["updated_at", "2021-11-24 16:27:15.875301"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343], ["created_at", "2021-11-24 16:27:15.881806"], ["updated_at", "2021-11-24 16:27:15.881806"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:27:15.887817"], ["updated_at", "2021-11-24 16:27:15.887817"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 4515], ["stock_balance", 5485], ["total_balance", 10000], ["created_at", "2021-11-24 16:27:15.894482"], ["updated_at", "2021-11-24 16:27:15.894482"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4], ["created_at", "2021-11-24 16:27:15.902315"], ["updated_at", "2021-11-24 16:27:15.902315"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15], ["created_at", "2021-11-24 16:27:15.909253"], ["updated_at", "2021-11-24 16:27:15.909253"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158], ["created_at", "2021-11-24 16:27:15.928536"], ["updated_at", "2021-11-24 16:27:15.928536"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41], ["created_at", "2021-11-24 16:27:15.935165"], ["updated_at", "2021-11-24 16:27:15.935165"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4], ["created_at", "2021-11-24 16:27:15.942082"], ["updated_at", "2021-11-24 16:27:15.942082"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15], ["created_at", "2021-11-24 16:27:15.948821"], ["updated_at", "2021-11-24 16:27:15.948821"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158], ["created_at", "2021-11-24 16:27:15.955522"], ["updated_at", "2021-11-24 16:27:15.955522"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41], ["created_at", "2021-11-24 16:27:15.962125"], ["updated_at", "2021-11-24 16:27:15.962125"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 16:27:15.968594"], ["updated_at", "2021-11-24 16:27:15.968594"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["cash_balance", 5], ["stock_balance", 9994], ["total_balance", 10000], ["created_at", "2021-11-24 16:27:15.975658"], ["updated_at", "2021-11-24 16:27:15.975658"], ["user_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999], ["created_at", "2021-11-24 16:27:15.982651"], ["updated_at", "2021-11-24 16:27:15.982651"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500], ["created_at", "2021-11-24 16:27:15.989266"], ["updated_at", "2021-11-24 16:27:15.989266"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38], ["created_at", "2021-11-24 16:27:15.995717"], ["updated_at", "2021-11-24 16:27:15.995717"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10], ["created_at", "2021-11-24 16:27:16.002217"], ["updated_at", "2021-11-24 16:27:16.002217"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12], ["created_at", "2021-11-24 16:27:16.009230"], ["updated_at", "2021-11-24 16:27:16.009230"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999], ["created_at", "2021-11-24 16:27:16.015985"], ["updated_at", "2021-11-24 16:27:16.015985"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500], ["created_at", "2021-11-24 16:27:16.022614"], ["updated_at", "2021-11-24 16:27:16.022614"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38], ["created_at", "2021-11-24 16:27:16.029249"], ["updated_at", "2021-11-24 16:27:16.029249"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10], ["created_at", "2021-11-24 16:27:16.035785"], ["updated_at", "2021-11-24 16:27:16.035785"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12], ["created_at", "2021-11-24 16:27:16.042534"], ["updated_at", "2021-11-24 16:27:16.042534"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/portfolios" for ::1 at 2021-11-24 11:35:46 -0500
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PortfoliosController#index as HTML
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:108:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:57:in `adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161], ["updated_at", "2021-11-24 16:35:47.211521"], ["id", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4237], ["updated_at", "2021-11-24 16:35:47.220864"], ["id", 2]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1632], ["updated_at", "2021-11-24 16:35:47.227863"], ["id", 3]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (1.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336], ["updated_at", "2021-11-24 16:35:47.234395"], ["id", 4]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13], ["updated_at", "2021-11-24 16:35:47.244882"], ["id", 6]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161], ["updated_at", "2021-11-24 16:35:47.252960"], ["id", 7]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38], ["updated_at", "2021-11-24 16:35:47.274404"], ["id", 8]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4237], ["updated_at", "2021-11-24 16:35:47.278992"], ["id", 9]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56714], ["updated_at", "2021-11-24 16:35:47.284529"], ["id", 10]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11], ["updated_at", "2021-11-24 16:35:47.291980"], ["id", 13]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:18:in `index'
Completed 200 OK in 645ms (Views: 2.9ms | ActiveRecord: 45.5ms | Allocations: 55689)


Started GET "/api/accounts" for ::1 at 2021-11-24 11:37:01 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.9ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9575], ["total_balance", 11575], ["updated_at", "2021-11-24 16:37:01.281696"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
<<<<<<< HEAD
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
=======
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8256], ["total_balance", 8406], ["updated_at", "2021-11-24 16:37:01.288904"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
<<<<<<< HEAD
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9734], ["total_balance", 9739], ["updated_at", "2021-11-24 16:48:26.190122"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 71ms (Views: 6.2ms | ActiveRecord: 14.8ms | Allocations: 31194)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 11:48:28 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 90ms (Views: 5.2ms | ActiveRecord: 11.0ms | Allocations: 12501)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
=======
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5385], ["total_balance", 9900], ["updated_at", "2021-11-24 16:37:01.294672"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9815], ["total_balance", 9820], ["updated_at", "2021-11-24 16:37:01.300169"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 48ms (Views: 3.0ms | ActiveRecord: 17.2ms | Allocations: 20699)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /users
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users" for ::1 at 2021-11-24 12:37:04 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"first_name"=>"A", "last_name"=>"A", "email"=>"a@gmail.com", "password"=>"[FILTERED]", "referral_code"=>""}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "a@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "A"], ["last_name", "A"], ["email", "a@gmail.com"], ["password_digest", "$2a$12$.gqGmcK/n6/qe4qqC2T9eeJDHklrliDj1DWjqX3oDp6hAMybAJPom"], ["created_at", "2021-11-24 17:37:04.898210"], ["updated_at", "2021-11-24 17:37:04.898210"], ["referral_code", ""]]
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 10000], ["stock_balance", 0], ["total_balance", 10000], ["created_at", "2021-11-24 17:37:04.930051"], ["updated_at", "2021-11-24 17:37:04.930051"], ["user_id", 5], ["referral_bonus", 0], ["signup_bonus", false]]
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "a@gmail.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "referral_code" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-11-24 17:37:04.936809"], ["referral_code", "ouTTQh"], ["id", 5]]
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:87:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "a@gmail.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:87:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:87:in `create'
Completed 201 Created in 271ms (Views: 0.2ms | ActiveRecord: 13.7ms | Allocations: 28085)
=======
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 11:37:23 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 713ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1072)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts/4
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:37:04 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
=======
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 11:37:24 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
<<<<<<< HEAD
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 42ms (Views: 1.9ms | ActiveRecord: 6.8ms | Allocations: 19467)
=======
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 60ms (Views: 22.3ms | ActiveRecord: 15.6ms | Allocations: 17977)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
<<<<<<< HEAD
Started GET "/api/accounts" for ::1 at 2021-11-24 12:41:54 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 74ms (Views: 2.7ms | ActiveRecord: 10.8ms | Allocations: 36731)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:42:02 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"a@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 214ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1082)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:42:02 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 37ms (Views: 2.3ms | ActiveRecord: 4.8ms | Allocations: 15144)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
=======
Started GET "/api/accounts" for ::1 at 2021-11-24 11:38:10 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 48ms (Views: 2.6ms | ActiveRecord: 5.1ms | Allocations: 12471)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ConverDatatypeFloat (20211124171346)
  [1m[35m (12.9ms)[0m  [1m[35mALTER TABLE "portfolios" ALTER COLUMN "current_spot_price" TYPE float[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "transactions" ALTER COLUMN "settled_price" TYPE float[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "cash_balance" TYPE float[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "stock_balance" TYPE float[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "total_balance" TYPE float[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211124171346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (21.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (19.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (79.4ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (34.8ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:16:54.683787"], ["updated_at", "2021-11-24 17:16:54.683787"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:16:54.694122"], ["updated_at", "2021-11-24 17:16:54.694122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:16:54.771094"], ["updated_at", "2021-11-24 17:16:54.771094"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 17:16:54.798945"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:16:54.803270"], ["updated_at", "2021-11-24 17:16:54.803270"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admon@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admon@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:16:54.853628"], ["updated_at", "2021-11-24 17:16:54.853628"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 17:16:54.879536"], ["updated_at", "2021-11-24 17:16:54.879536"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:16:54.899614"], ["updated_at", "2021-11-24 17:16:54.899614"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 17:16:54.906677"], ["updated_at", "2021-11-24 17:16:54.906677"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (2.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:16:54.930746"], ["updated_at", "2021-11-24 17:16:54.930746"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 17:16:54.938593"], ["updated_at", "2021-11-24 17:16:54.938593"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:16:54.944778"], ["updated_at", "2021-11-24 17:16:54.944778"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:16:54.951507"], ["updated_at", "2021-11-24 17:16:54.951507"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 17:16:54.958804"], ["updated_at", "2021-11-24 17:16:54.958804"], ["account_id", 2]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 17:16:54.980317"], ["updated_at", "2021-11-24 17:16:54.980317"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 17:16:54.987795"], ["updated_at", "2021-11-24 17:16:54.987795"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 17:16:54.994716"], ["updated_at", "2021-11-24 17:16:54.994716"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:16:55.001462"], ["updated_at", "2021-11-24 17:16:55.001462"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:16:55.008479"], ["updated_at", "2021-11-24 17:16:55.008479"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 17:16:55.015645"], ["updated_at", "2021-11-24 17:16:55.015645"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 17:16:55.022296"], ["updated_at", "2021-11-24 17:16:55.022296"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:16:55.028900"], ["updated_at", "2021-11-24 17:16:55.028900"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.0ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 17:16:55.035313"], ["updated_at", "2021-11-24 17:16:55.035313"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 17:16:55.042124"], ["updated_at", "2021-11-24 17:16:55.042124"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 17:16:55.048707"], ["updated_at", "2021-11-24 17:16:55.048707"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:16:55.055614"], ["updated_at", "2021-11-24 17:16:55.055614"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 17:16:55.062658"], ["updated_at", "2021-11-24 17:16:55.062658"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:16:55.069422"], ["updated_at", "2021-11-24 17:16:55.069422"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:16:55.076732"], ["updated_at", "2021-11-24 17:16:55.076732"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 17:16:55.083377"], ["updated_at", "2021-11-24 17:16:55.083377"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 17:16:55.093719"], ["updated_at", "2021-11-24 17:16:55.093719"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 17:16:55.102282"], ["updated_at", "2021-11-24 17:16:55.102282"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 17:16:55.108152"], ["updated_at", "2021-11-24 17:16:55.108152"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 17:16:55.114165"], ["updated_at", "2021-11-24 17:16:55.114165"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 17:16:55.120342"], ["updated_at", "2021-11-24 17:16:55.120342"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 17:16:55.135991"], ["updated_at", "2021-11-24 17:16:55.135991"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 17:16:55.144012"], ["updated_at", "2021-11-24 17:16:55.144012"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 17:16:55.150210"], ["updated_at", "2021-11-24 17:16:55.150210"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 17:16:55.156381"], ["updated_at", "2021-11-24 17:16:55.156381"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 12:42:09 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"AAPL", "trade"=>1, "quantity"=>1, "settled_price"=>161.2429, "account_id"=>5}}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 5], ["ticker", "AAPL"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 5], ["ticker", "AAPL"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 9838], ["stock_balance", 161], ["updated_at", "2021-11-24 17:42:09.739314"], ["id", 5]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 5], ["ticker", "AAPL"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:81:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:81:in `create'
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 1.0], ["current_spot_price", 161], ["created_at", "2021-11-24 17:42:09.759753"], ["updated_at", "2021-11-24 17:42:09.759753"], ["account_id", 5]]
  ↳ app/controllers/transactions_controller.rb:81:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:81:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 1.0], ["settled_price", 161], ["created_at", "2021-11-24 17:42:09.771654"], ["updated_at", "2021-11-24 17:42:09.771654"], ["account_id", 5]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 77ms (Views: 1.2ms | ActiveRecord: 14.6ms | Allocations: 15446)
=======
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:18:46 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 734ms (Views: 0.2ms | ActiveRecord: 19.2ms | Allocations: 9134)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts/4
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:42:11 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "total_balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["total_balance", 9999], ["updated_at", "2021-11-24 17:42:11.764522"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 55ms (Views: 5.2ms | ActiveRecord: 7.5ms | Allocations: 15509)
=======
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:18:47 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9566.5], ["total_balance", 11566.5], ["updated_at", "2021-11-24 17:18:47.591619"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 133ms (Views: 17.9ms | ActiveRecord: 38.8ms | Allocations: 31330)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:42:40 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 70ms (Views: 2.5ms | ActiveRecord: 6.0ms | Allocations: 15167)
=======
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:25:05 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 761ms (Views: 0.3ms | ActiveRecord: 19.1ms | Allocations: 4063)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:25:06 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 29ms (Views: 3.2ms | ActiveRecord: 7.7ms | Allocations: 13332)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:42:53 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 45ms (Views: 3.2ms | ActiveRecord: 7.3ms | Allocations: 14868)
=======
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:25:24 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 54ms (Views: 2.8ms | ActiveRecord: 6.9ms | Allocations: 12545)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users" for ::1 at 2021-11-24 12:25:56 -0500
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"first_name"=>"ccc", "last_name"=>"ccc", "email"=>"ccc@gmail.com", "password"=>"[FILTERED]", "referral_code"=>""}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ccc@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "ccc"], ["last_name", "ccc"], ["email", "ccc@gmail.com"], ["password_digest", "$2a$12$bqaE2xhpovJfk9DiU67sjesA4HlmQXGkE0nJyxp//pkBRdRAXgu3K"], ["created_at", "2021-11-24 17:25:57.356364"], ["updated_at", "2021-11-24 17:25:57.356364"], ["referral_code", ""]]
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 10000.0], ["stock_balance", 0.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:25:57.373746"], ["updated_at", "2021-11-24 17:25:57.373746"], ["user_id", 5], ["referral_bonus", 0], ["signup_bonus", false]]
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ccc@gmail.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "referral_code" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-11-24 17:25:57.380417"], ["referral_code", "OndZDM"], ["id", 5]]
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:87:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ccc@gmail.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:87:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:87:in `create'
Completed 201 Created in 752ms (Views: 0.2ms | ActiveRecord: 14.5ms | Allocations: 12786)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
<<<<<<< HEAD
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:43:20 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
=======
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:25:57 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
<<<<<<< HEAD
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 40ms (Views: 2.9ms | ActiveRecord: 9.6ms | Allocations: 14868)
=======
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 43ms (Views: 2.0ms | ActiveRecord: 6.3ms | Allocations: 14662)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:43:32 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
=======
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:26:04 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
<<<<<<< HEAD
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 44ms (Views: 2.3ms | ActiveRecord: 14.0ms | Allocations: 14893)
=======
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 50ms (Views: 3.0ms | ActiveRecord: 5.8ms | Allocations: 15206)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5048.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (36.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (18.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (72.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (29.4ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:28:47.819238"], ["updated_at", "2021-11-24 17:28:47.819238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:28:47.825740"], ["updated_at", "2021-11-24 17:28:47.825740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:28:47.910646"], ["updated_at", "2021-11-24 17:28:47.910646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 17:28:47.918759"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:28:47.926198"], ["updated_at", "2021-11-24 17:28:47.926198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admin@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:28:48.021236"], ["updated_at", "2021-11-24 17:28:48.021236"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 17:28:48.047124"], ["updated_at", "2021-11-24 17:28:48.047124"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:28:48.070523"], ["updated_at", "2021-11-24 17:28:48.070523"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 17:28:48.078218"], ["updated_at", "2021-11-24 17:28:48.078218"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:28:48.104463"], ["updated_at", "2021-11-24 17:28:48.104463"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 17:28:48.111911"], ["updated_at", "2021-11-24 17:28:48.111911"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:28:48.117786"], ["updated_at", "2021-11-24 17:28:48.117786"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:28:48.124468"], ["updated_at", "2021-11-24 17:28:48.124468"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 17:28:48.131776"], ["updated_at", "2021-11-24 17:28:48.131776"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 17:28:48.138796"], ["updated_at", "2021-11-24 17:28:48.138796"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 17:28:48.144992"], ["updated_at", "2021-11-24 17:28:48.144992"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 17:28:48.150894"], ["updated_at", "2021-11-24 17:28:48.150894"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:28:48.156606"], ["updated_at", "2021-11-24 17:28:48.156606"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:28:48.168635"], ["updated_at", "2021-11-24 17:28:48.168635"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 17:28:48.176287"], ["updated_at", "2021-11-24 17:28:48.176287"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 17:28:48.182636"], ["updated_at", "2021-11-24 17:28:48.182636"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:28:48.202462"], ["updated_at", "2021-11-24 17:28:48.202462"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 17:28:48.209385"], ["updated_at", "2021-11-24 17:28:48.209385"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 17:28:48.216041"], ["updated_at", "2021-11-24 17:28:48.216041"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 17:28:48.222919"], ["updated_at", "2021-11-24 17:28:48.222919"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:28:48.229366"], ["updated_at", "2021-11-24 17:28:48.229366"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 17:28:48.235475"], ["updated_at", "2021-11-24 17:28:48.235475"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:28:48.241892"], ["updated_at", "2021-11-24 17:28:48.241892"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:28:48.248424"], ["updated_at", "2021-11-24 17:28:48.248424"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 17:28:48.255685"], ["updated_at", "2021-11-24 17:28:48.255685"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 17:28:48.262058"], ["updated_at", "2021-11-24 17:28:48.262058"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 17:28:48.269494"], ["updated_at", "2021-11-24 17:28:48.269494"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 17:28:48.276702"], ["updated_at", "2021-11-24 17:28:48.276702"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 17:28:48.282978"], ["updated_at", "2021-11-24 17:28:48.282978"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 17:28:48.290194"], ["updated_at", "2021-11-24 17:28:48.290194"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 17:28:48.296606"], ["updated_at", "2021-11-24 17:28:48.296606"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 17:28:48.303925"], ["updated_at", "2021-11-24 17:28:48.303925"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 17:28:48.310349"], ["updated_at", "2021-11-24 17:28:48.310349"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 17:28:48.316835"], ["updated_at", "2021-11-24 17:28:48.316835"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:31:50 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 750ms (Views: 0.3ms | ActiveRecord: 18.6ms | Allocations: 9134)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:31:51 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9566.5], ["total_balance", 11566.5], ["updated_at", "2021-11-24 17:31:51.761749"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 128ms (Views: 12.7ms | ActiveRecord: 39.4ms | Allocations: 31268)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/portfolios" for ::1 at 2021-11-24 12:32:39 -0500
Processing by PortfoliosController#index as HTML
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:108:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:57:in `adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.1301], ["updated_at", "2021-11-24 17:32:39.903662"], ["id", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4223.566], ["updated_at", "2021-11-24 17:32:39.916899"], ["id", 2]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1628.65], ["updated_at", "2021-11-24 17:32:39.922270"], ["id", 3]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 335.9574], ["updated_at", "2021-11-24 17:32:39.927436"], ["id", 4]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.905], ["updated_at", "2021-11-24 17:32:39.940779"], ["id", 5]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.53], ["updated_at", "2021-11-24 17:32:39.945714"], ["id", 6]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.1301], ["updated_at", "2021-11-24 17:32:39.950811"], ["id", 7]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.64], ["updated_at", "2021-11-24 17:32:39.955576"], ["id", 8]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4223.566], ["updated_at", "2021-11-24 17:32:39.959750"], ["id", 9]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56588.52], ["updated_at", "2021-11-24 17:32:39.963874"], ["id", 10]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.765095], ["updated_at", "2021-11-24 17:32:39.968147"], ["id", 11]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.76], ["updated_at", "2021-11-24 17:32:39.972985"], ["id", 13]]
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/portfolios_controller.rb:60:in `block in adjust_portfolios_spot_price'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/portfolios_controller.rb:18:in `index'
Completed 200 OK in 564ms (Views: 2.6ms | ActiveRecord: 20.5ms | Allocations: 41348)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:33:00 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 727ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 873)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:33:01 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8245.524000000001], ["total_balance", 10015.524000000001], ["updated_at", "2021-11-24 17:33:01.265854"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5417.502], ["total_balance", 9932.502], ["updated_at", "2021-11-24 17:33:01.271985"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10116.9777], ["total_balance", 10122.4777], ["updated_at", "2021-11-24 17:33:01.277023"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9557.951000000001], ["total_balance", 11557.951000000001], ["updated_at", "2021-11-24 17:33:01.293285"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 42ms (Views: 3.4ms | ActiveRecord: 8.3ms | Allocations: 15667)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:33:33 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 39ms (Views: 2.7ms | ActiveRecord: 4.3ms | Allocations: 12520)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:33:42 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 50ms (Views: 3.2ms | ActiveRecord: 6.0ms | Allocations: 13287)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:34:30 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 36ms (Views: 2.6ms | ActiveRecord: 4.4ms | Allocations: 12540)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:34:39 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 59ms (Views: 3.5ms | ActiveRecord: 6.3ms | Allocations: 13265)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Started GET "/api/accounts" for ::1 at 2021-11-24 12:34:58 -0500
Processing by AccountsController#index as HTML
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 47ms (Views: 2.7ms | ActiveRecord: 5.1ms | Allocations: 12515)


Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:39:19 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 739ms (Views: 0.2ms | ActiveRecord: 17.5ms | Allocations: 5246)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:39:20 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.23], ["updated_at", "2021-11-24 17:39:21.149134"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4218.612], ["updated_at", "2021-11-24 17:39:21.159904"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1631.5], ["updated_at", "2021-11-24 17:39:21.168353"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.22], ["updated_at", "2021-11-24 17:39:21.177559"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.91], ["updated_at", "2021-11-24 17:39:21.186739"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.56], ["updated_at", "2021-11-24 17:39:21.195673"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.23], ["updated_at", "2021-11-24 17:39:21.204528"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.76], ["updated_at", "2021-11-24 17:39:21.225976"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4218.612], ["updated_at", "2021-11-24 17:39:21.230900"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56633.434], ["updated_at", "2021-11-24 17:39:21.235132"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.701958], ["updated_at", "2021-11-24 17:39:21.239472"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.7701], ["updated_at", "2021-11-24 17:39:21.244260"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8256.7], ["total_balance", 10026.7], ["updated_at", "2021-11-24 17:39:21.251215"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5425.9], ["total_balance", 9940.9], ["updated_at", "2021-11-24 17:39:21.256695"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.9ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10108.939139999999], ["total_balance", 10114.439139999999], ["updated_at", "2021-11-24 17:39:21.262150"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9552.518], ["total_balance", 11552.518], ["updated_at", "2021-11-24 17:39:21.267832"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 515ms (Views: 8.6ms | ActiveRecord: 56.0ms | Allocations: 69784)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:39:28 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.26], ["updated_at", "2021-11-24 17:39:28.854407"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.25], ["updated_at", "2021-11-24 17:39:28.870544"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9157], ["updated_at", "2021-11-24 17:39:28.875311"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.26], ["updated_at", "2021-11-24 17:39:28.881285"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8257.0], ["total_balance", 10027.0], ["updated_at", "2021-11-24 17:39:28.897778"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5426.785], ["total_balance", 9941.785], ["updated_at", "2021-11-24 17:39:28.903449"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9553.117999999999], ["total_balance", 11553.117999999999], ["updated_at", "2021-11-24 17:39:28.912582"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 522ms (Views: 2.8ms | ActiveRecord: 15.0ms | Allocations: 44919)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:39:52 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 727ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 856)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:39:53 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1632.41], ["updated_at", "2021-11-24 17:39:53.511517"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.7791], ["updated_at", "2021-11-24 17:39:53.517804"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.7792], ["updated_at", "2021-11-24 17:39:53.526939"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.263], ["updated_at", "2021-11-24 17:39:53.531763"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.24], ["updated_at", "2021-11-24 17:39:53.536373"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.91], ["updated_at", "2021-11-24 17:39:53.540615"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.263], ["updated_at", "2021-11-24 17:39:53.545241"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10109.21214], ["total_balance", 10114.71214], ["updated_at", "2021-11-24 17:39:53.552037"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8259.630000000001], ["total_balance", 10029.630000000001], ["updated_at", "2021-11-24 17:39:53.557053"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5427.515], ["total_balance", 9942.515], ["updated_at", "2021-11-24 17:39:53.562359"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9553.178], ["total_balance", 11553.178], ["updated_at", "2021-11-24 17:39:53.568090"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 355ms (Views: 3.1ms | ActiveRecord: 20.6ms | Allocations: 48984)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (27.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (18.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (73.3ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (28.9ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:40:57.130836"], ["updated_at", "2021-11-24 17:40:57.130836"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:40:57.142733"], ["updated_at", "2021-11-24 17:40:57.142733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:40:57.227778"], ["updated_at", "2021-11-24 17:40:57.227778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 17:40:57.235576"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:40:57.242223"], ["updated_at", "2021-11-24 17:40:57.242223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admin@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:40:57.321051"], ["updated_at", "2021-11-24 17:40:57.321051"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 17:40:57.346829"], ["updated_at", "2021-11-24 17:40:57.346829"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:40:57.363847"], ["updated_at", "2021-11-24 17:40:57.363847"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 17:40:57.370972"], ["updated_at", "2021-11-24 17:40:57.370972"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:40:57.394033"], ["updated_at", "2021-11-24 17:40:57.394033"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 17:40:57.401328"], ["updated_at", "2021-11-24 17:40:57.401328"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:40:57.407304"], ["updated_at", "2021-11-24 17:40:57.407304"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:40:57.413570"], ["updated_at", "2021-11-24 17:40:57.413570"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 17:40:57.420251"], ["updated_at", "2021-11-24 17:40:57.420251"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 17:40:57.426914"], ["updated_at", "2021-11-24 17:40:57.426914"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.1ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 17:40:57.433563"], ["updated_at", "2021-11-24 17:40:57.433563"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 17:40:57.440273"], ["updated_at", "2021-11-24 17:40:57.440273"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:40:57.447448"], ["updated_at", "2021-11-24 17:40:57.447448"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:40:57.453960"], ["updated_at", "2021-11-24 17:40:57.453960"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 17:40:57.467125"], ["updated_at", "2021-11-24 17:40:57.467125"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.1ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 17:40:57.486526"], ["updated_at", "2021-11-24 17:40:57.486526"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:40:57.493248"], ["updated_at", "2021-11-24 17:40:57.493248"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 17:40:57.499595"], ["updated_at", "2021-11-24 17:40:57.499595"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 17:40:57.506030"], ["updated_at", "2021-11-24 17:40:57.506030"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 17:40:57.512610"], ["updated_at", "2021-11-24 17:40:57.512610"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:40:57.520327"], ["updated_at", "2021-11-24 17:40:57.520327"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 17:40:57.526535"], ["updated_at", "2021-11-24 17:40:57.526535"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:40:57.533094"], ["updated_at", "2021-11-24 17:40:57.533094"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:40:57.539256"], ["updated_at", "2021-11-24 17:40:57.539256"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 17:40:57.545427"], ["updated_at", "2021-11-24 17:40:57.545427"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 17:40:57.551527"], ["updated_at", "2021-11-24 17:40:57.551527"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 17:40:57.557207"], ["updated_at", "2021-11-24 17:40:57.557207"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 17:40:57.564043"], ["updated_at", "2021-11-24 17:40:57.564043"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 17:40:57.570033"], ["updated_at", "2021-11-24 17:40:57.570033"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 17:40:57.576114"], ["updated_at", "2021-11-24 17:40:57.576114"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 17:40:57.582170"], ["updated_at", "2021-11-24 17:40:57.582170"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 17:40:57.588207"], ["updated_at", "2021-11-24 17:40:57.588207"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 17:40:57.594445"], ["updated_at", "2021-11-24 17:40:57.594445"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 17:40:57.600860"], ["updated_at", "2021-11-24 17:40:57.600860"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:41:22 -0500
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 729ms (Views: 0.2ms | ActiveRecord: 15.5ms | Allocations: 9137)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:41:23 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.22], ["updated_at", "2021-11-24 17:41:24.148061"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4216.1953], ["updated_at", "2021-11-24 17:41:24.154494"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1633.52], ["updated_at", "2021-11-24 17:41:24.159697"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.17], ["updated_at", "2021-11-24 17:41:24.167038"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9399], ["updated_at", "2021-11-24 17:41:24.175052"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.56], ["updated_at", "2021-11-24 17:41:24.200097"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.22], ["updated_at", "2021-11-24 17:41:24.204924"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.743], ["updated_at", "2021-11-24 17:41:24.209214"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4216.1953], ["updated_at", "2021-11-24 17:41:24.214069"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56593.54], ["updated_at", "2021-11-24 17:41:24.218794"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.647984], ["updated_at", "2021-11-24 17:41:24.222698"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.7779], ["updated_at", "2021-11-24 17:41:24.226891"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9548.69295], ["total_balance", 11548.69295], ["updated_at", "2021-11-24 17:41:24.234940"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8262.26], ["total_balance", 10032.26], ["updated_at", "2021-11-24 17:41:24.240864"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5426.345], ["total_balance", 9941.345000000001], ["updated_at", "2021-11-24 17:41:24.246488"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10102.16845], ["total_balance", 10107.66845], ["updated_at", "2021-11-24 17:41:24.252445"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 515ms (Views: 9.1ms | ActiveRecord: 65.9ms | Allocations: 72405)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:43:37 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 32ms (Views: 3.6ms | ActiveRecord: 4.7ms | Allocations: 14868)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:42:27 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:43:45 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (3.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 74ms (Views: 2.9ms | ActiveRecord: 22.3ms | Allocations: 14869)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:44:44 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"a@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 211ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 855)
=======
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 12:42:31 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (2.0ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mPortfolio Load (1.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.2], ["updated_at", "2021-11-24 17:42:32.706742"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.2], ["updated_at", "2021-11-24 17:42:32.707859"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4212.9365], ["updated_at", "2021-11-24 17:42:32.713931"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4212.9365], ["updated_at", "2021-11-24 17:42:32.715616"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1635.92], ["updated_at", "2021-11-24 17:42:32.721035"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1635.92], ["updated_at", "2021-11-24 17:42:32.723337"], ["id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.08], ["updated_at", "2021-11-24 17:42:32.728475"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.08], ["updated_at", "2021-11-24 17:42:32.731764"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9297], ["updated_at", "2021-11-24 17:42:32.736831"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9297], ["updated_at", "2021-11-24 17:42:32.738426"], ["id", 5]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.2], ["updated_at", "2021-11-24 17:42:32.746172"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.2], ["updated_at", "2021-11-24 17:42:32.749828"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.6708], ["updated_at", "2021-11-24 17:42:32.754492"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (7.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.6708], ["updated_at", "2021-11-24 17:42:32.756953"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4212.9365], ["updated_at", "2021-11-24 17:42:32.766861"], ["id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4212.9365], ["updated_at", "2021-11-24 17:42:32.771301"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56573.78], ["updated_at", "2021-11-24 17:42:32.773831"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56573.78], ["updated_at", "2021-11-24 17:42:32.777744"], ["id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.571045], ["updated_at", "2021-11-24 17:42:32.791514"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.571045], ["updated_at", "2021-11-24 17:42:32.794973"], ["id", 11]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.755], ["updated_at", "2021-11-24 17:42:32.800473"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.755], ["updated_at", "2021-11-24 17:42:32.802883"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9543.40475], ["total_balance", 11543.40475], ["updated_at", "2021-11-24 17:42:32.809885"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9543.40475], ["total_balance", 11543.40475], ["updated_at", "2021-11-24 17:42:32.814705"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8268.56], ["total_balance", 10038.56], ["updated_at", "2021-11-24 17:42:32.820320"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (2.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8268.56], ["total_balance", 10038.56], ["updated_at", "2021-11-24 17:42:32.825989"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5421.825], ["total_balance", 9936.825], ["updated_at", "2021-11-24 17:42:32.833563"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5421.825], ["total_balance", 9936.825], ["updated_at", "2021-11-24 17:42:32.839440"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10091.96055], ["total_balance", 10097.46055], ["updated_at", "2021-11-24 17:42:32.845168"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mAccount Update (1.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10091.96055], ["total_balance", 10097.46055], ["updated_at", "2021-11-24 17:42:32.850276"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 5557ms (Views: 2.8ms | ActiveRecord: 48.4ms | Allocations: 108220)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 1707ms (Views: 3.4ms | ActiveRecord: 78.2ms | Allocations: 108913)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
=======
  Path-Info: /api/accounts
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
<<<<<<< HEAD
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 12:44:44 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:93:in `set_account'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:73:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:77:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:82:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 38ms (Views: 2.6ms | ActiveRecord: 6.2ms | Allocations: 14868)
=======
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:42:36 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.2101], ["updated_at", "2021-11-24 17:42:36.545529"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.2101], ["updated_at", "2021-11-24 17:42:36.558227"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9543.606749999999], ["total_balance", 11543.606749999999], ["updated_at", "2021-11-24 17:42:36.574744"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5422.027], ["total_balance", 9937.027], ["updated_at", "2021-11-24 17:42:36.584324"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 492ms (Views: 2.8ms | ActiveRecord: 13.1ms | Allocations: 42303)
>>>>>>> dbbd13c8aaa2db4929c36a392b4b3dd5b88f1b7a


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4709995827031202925)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ConverDatatypeFloat (20211124171346)
  [1m[35m (25.2ms)[0m  [1m[35mALTER TABLE "portfolios" ALTER COLUMN "current_spot_price" TYPE float[0m
  [1m[35m (18.8ms)[0m  [1m[35mALTER TABLE "transactions" ALTER COLUMN "settled_price" TYPE float[0m
  [1m[35m (14.2ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "cash_balance" TYPE float[0m
  [1m[35m (16.3ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "stock_balance" TYPE float[0m
  [1m[35m (13.0ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "total_balance" TYPE float[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20211124171346"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4709995827031202925)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (32.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (32.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (354.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (344.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:49:05.388246"], ["updated_at", "2021-11-24 17:49:05.388246"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:49:05.402755"], ["updated_at", "2021-11-24 17:49:05.402755"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 17:49:05.622911"], ["updated_at", "2021-11-24 17:49:05.622911"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 17:49:05.630340"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 17:49:05.636917"], ["updated_at", "2021-11-24 17:49:05.636917"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admin@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:49:05.695879"], ["updated_at", "2021-11-24 17:49:05.695879"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 17:49:05.722934"], ["updated_at", "2021-11-24 17:49:05.722934"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:49:05.746481"], ["updated_at", "2021-11-24 17:49:05.746481"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 17:49:05.754846"], ["updated_at", "2021-11-24 17:49:05.754846"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:49:05.774935"], ["updated_at", "2021-11-24 17:49:05.774935"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 17:49:05.785692"], ["updated_at", "2021-11-24 17:49:05.785692"], ["account_id", 1]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:49:05.794435"], ["updated_at", "2021-11-24 17:49:05.794435"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:49:05.805227"], ["updated_at", "2021-11-24 17:49:05.805227"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 17:49:05.812822"], ["updated_at", "2021-11-24 17:49:05.812822"], ["account_id", 2]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 17:49:05.836997"], ["updated_at", "2021-11-24 17:49:05.836997"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 17:49:05.846184"], ["updated_at", "2021-11-24 17:49:05.846184"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 17:49:05.855237"], ["updated_at", "2021-11-24 17:49:05.855237"], ["account_id", 2]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:49:05.864488"], ["updated_at", "2021-11-24 17:49:05.864488"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:49:05.872992"], ["updated_at", "2021-11-24 17:49:05.872992"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 17:49:05.882730"], ["updated_at", "2021-11-24 17:49:05.882730"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 17:49:05.891295"], ["updated_at", "2021-11-24 17:49:05.891295"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 17:49:05.899493"], ["updated_at", "2021-11-24 17:49:05.899493"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 17:49:05.906930"], ["updated_at", "2021-11-24 17:49:05.906930"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 17:49:05.915654"], ["updated_at", "2021-11-24 17:49:05.915654"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (4.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 17:49:05.924355"], ["updated_at", "2021-11-24 17:49:05.924355"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 17:49:05.936596"], ["updated_at", "2021-11-24 17:49:05.936596"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.0ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 17:49:05.948650"], ["updated_at", "2021-11-24 17:49:05.948650"], ["account_id", 3]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 17:49:05.957904"], ["updated_at", "2021-11-24 17:49:05.957904"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 17:49:05.966569"], ["updated_at", "2021-11-24 17:49:05.966569"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 17:49:05.976778"], ["updated_at", "2021-11-24 17:49:05.976778"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 17:49:05.985070"], ["updated_at", "2021-11-24 17:49:05.985070"], ["account_id", 4]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 17:49:05.994834"], ["updated_at", "2021-11-24 17:49:05.994834"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 17:49:06.003230"], ["updated_at", "2021-11-24 17:49:06.003230"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 17:49:06.012533"], ["updated_at", "2021-11-24 17:49:06.012533"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 17:49:06.022101"], ["updated_at", "2021-11-24 17:49:06.022101"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 17:49:06.031571"], ["updated_at", "2021-11-24 17:49:06.031571"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 17:49:06.039871"], ["updated_at", "2021-11-24 17:49:06.039871"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 17:49:06.048235"], ["updated_at", "2021-11-24 17:49:06.048235"], ["account_id", 4]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 17:49:06.057328"], ["updated_at", "2021-11-24 17:49:06.057328"], ["account_id", 4]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:49:58 -0500
  [1m[35m (6.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 244ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 9123)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 12:49:58 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.495], ["updated_at", "2021-11-24 17:49:59.180996"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4220.231], ["updated_at", "2021-11-24 17:49:59.192827"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1631.02], ["updated_at", "2021-11-24 17:49:59.205235"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.56], ["updated_at", "2021-11-24 17:49:59.212380"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9225], ["updated_at", "2021-11-24 17:49:59.219968"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.56], ["updated_at", "2021-11-24 17:49:59.226187"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.495], ["updated_at", "2021-11-24 17:49:59.234607"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.82], ["updated_at", "2021-11-24 17:49:59.240821"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4220.231], ["updated_at", "2021-11-24 17:49:59.247768"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56621.36], ["updated_at", "2021-11-24 17:49:59.257146"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.66852], ["updated_at", "2021-11-24 17:49:59.268333"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.78], ["updated_at", "2021-11-24 17:49:59.278528"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9560.2465], ["total_balance", 11560.2465], ["updated_at", "2021-11-24 17:49:59.291742"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8258.66], ["total_balance", 10028.66], ["updated_at", "2021-11-24 17:49:59.303871"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5434.825000000001], ["total_balance", 9949.825], ["updated_at", "2021-11-24 17:49:59.314057"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10106.5811], ["total_balance", 10112.0811], ["updated_at", "2021-11-24 17:49:59.326675"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 569ms (Views: 15.5ms | ActiveRecord: 60.4ms | Allocations: 71811)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 12:50:14 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.525], ["updated_at", "2021-11-24 17:50:14.798957"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.541], ["updated_at", "2021-11-24 17:50:14.816992"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.92], ["updated_at", "2021-11-24 17:50:14.842037"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (2.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.525], ["updated_at", "2021-11-24 17:50:14.850103"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.8195], ["updated_at", "2021-11-24 17:50:14.860863"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.785], ["updated_at", "2021-11-24 17:50:14.873637"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9560.8465], ["total_balance", 11560.8465], ["updated_at", "2021-11-24 17:50:14.884698"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8258.47], ["total_balance", 10028.47], ["updated_at", "2021-11-24 17:50:14.892825"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5435.275], ["total_balance", 9950.275], ["updated_at", "2021-11-24 17:50:14.901407"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10106.731099999999], ["total_balance", 10112.231099999999], ["updated_at", "2021-11-24 17:50:14.910435"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 398ms (Views: 3.8ms | ActiveRecord: 28.1ms | Allocations: 47561)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 12:51:08 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4209.0986], ["updated_at", "2021-11-24 17:51:09.163961"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (2.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4209.0986], ["updated_at", "2021-11-24 17:51:09.186312"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56500.457], ["updated_at", "2021-11-24 17:51:09.194344"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.56496], ["updated_at", "2021-11-24 17:51:09.201851"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.56], ["updated_at", "2021-11-24 17:51:09.209142"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.5417], ["updated_at", "2021-11-24 17:51:09.218045"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9206], ["updated_at", "2021-11-24 17:51:09.226430"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.56], ["updated_at", "2021-11-24 17:51:09.234644"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.78], ["updated_at", "2021-11-24 17:51:09.243034"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.77], ["updated_at", "2021-11-24 17:51:09.250326"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9544.8479], ["total_balance", 11544.8479], ["updated_at", "2021-11-24 17:51:09.262878"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8258.476999999999], ["total_balance", 10028.476999999999], ["updated_at", "2021-11-24 17:51:09.275449"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (1.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5434.03], ["total_balance", 9949.029999999999], ["updated_at", "2021-11-24 17:51:09.287741"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10089.149870000001], ["total_balance", 10094.649870000001], ["updated_at", "2021-11-24 17:51:09.318478"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 498ms (Views: 4.2ms | ActiveRecord: 48.9ms | Allocations: 52801)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:59:25 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"a@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 401 Unauthorized in 9ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 3837)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:59:30 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"a@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 401 Unauthorized in 6ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 624)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 12:59:43 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 212ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 853)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 12:59:44 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1629.5], ["updated_at", "2021-11-24 17:59:44.532575"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4215.812], ["updated_at", "2021-11-24 17:59:44.541906"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4215.812], ["updated_at", "2021-11-24 17:59:44.548023"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56578.742], ["updated_at", "2021-11-24 17:59:44.553096"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.5876], ["updated_at", "2021-11-24 17:59:44.559421"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.5], ["updated_at", "2021-11-24 17:59:44.567579"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.35], ["updated_at", "2021-11-24 17:59:44.573257"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9841], ["updated_at", "2021-11-24 17:59:44.578549"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.5], ["updated_at", "2021-11-24 17:59:44.583616"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.6887], ["updated_at", "2021-11-24 17:59:44.588783"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9553.718], ["total_balance", 11553.718], ["updated_at", "2021-11-24 17:59:44.599127"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8252.0], ["total_balance", 10022.0], ["updated_at", "2021-11-24 17:59:44.605195"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5431.4400000000005], ["total_balance", 9946.44], ["updated_at", "2021-11-24 17:59:44.617220"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10095.55342], ["total_balance", 10101.05342], ["updated_at", "2021-11-24 17:59:44.628208"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 433ms (Views: 2.8ms | ActiveRecord: 32.9ms | Allocations: 52778)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 13:04:44 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.8], ["updated_at", "2021-11-24 18:04:44.460085"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1634.99], ["updated_at", "2021-11-24 18:04:44.468323"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4222.019], ["updated_at", "2021-11-24 18:04:44.474776"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4222.019], ["updated_at", "2021-11-24 18:04:44.481672"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56609.27], ["updated_at", "2021-11-24 18:04:44.488862"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.650345], ["updated_at", "2021-11-24 18:04:44.494376"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.35], ["updated_at", "2021-11-24 18:04:44.500178"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.14], ["updated_at", "2021-11-24 18:04:44.506472"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.975], ["updated_at", "2021-11-24 18:04:44.512857"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.35], ["updated_at", "2021-11-24 18:04:44.518309"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.7699], ["updated_at", "2021-11-24 18:04:44.524501"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9560.0285], ["total_balance", 11560.0285], ["updated_at", "2021-11-24 18:04:44.532445"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8266.369999999999], ["total_balance", 10036.369999999999], ["updated_at", "2021-11-24 18:04:44.540875"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5432.045], ["total_balance", 9947.045], ["updated_at", "2021-11-24 18:04:44.548971"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10106.136700000001], ["total_balance", 10111.636700000001], ["updated_at", "2021-11-24 18:04:44.558872"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 437ms (Views: 2.5ms | ActiveRecord: 39.1ms | Allocations: 53308)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 13:14:00 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 250ms (Views: 0.1ms | ActiveRecord: 12.7ms | Allocations: 4044)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 13:14:01 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 10.81], ["updated_at", "2021-11-24 18:14:01.406872"], ["id", 12]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.8333], ["updated_at", "2021-11-24 18:14:01.423214"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1635.23], ["updated_at", "2021-11-24 18:14:01.434055"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4248.1294], ["updated_at", "2021-11-24 18:14:01.441076"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4248.1294], ["updated_at", "2021-11-24 18:14:01.446600"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56942.984], ["updated_at", "2021-11-24 18:14:01.452619"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.744587], ["updated_at", "2021-11-24 18:14:01.478395"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.345], ["updated_at", "2021-11-24 18:14:01.485714"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.4701], ["updated_at", "2021-11-24 18:14:01.491664"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9899], ["updated_at", "2021-11-24 18:14:01.497535"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.345], ["updated_at", "2021-11-24 18:14:01.503722"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.84], ["updated_at", "2021-11-24 18:14:01.508848"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9599.0941], ["total_balance", 11599.0941], ["updated_at", "2021-11-24 18:14:01.517465"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8270.391], ["total_balance", 10040.391], ["updated_at", "2021-11-24 18:14:01.525198"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5436.195000000001], ["total_balance", 9951.195], ["updated_at", "2021-11-24 18:14:01.531804"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10165.952239999999], ["total_balance", 10171.452239999999], ["updated_at", "2021-11-24 18:14:01.538299"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 480ms (Views: 6.0ms | ActiveRecord: 40.5ms | Allocations: 53893)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 13:39:20 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>-1, "quantity"=>1, "settled_price"=>1635.23, "account_id"=>2}}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 3405.23], ["stock_balance", 6635.161], ["updated_at", "2021-11-24 18:39:21.108991"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 2.0], ["updated_at", "2021-11-24 18:39:21.118347"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", -1], ["quantity", 1.0], ["settled_price", 1635.23], ["created_at", "2021-11-24 18:39:21.125641"], ["updated_at", "2021-11-24 18:39:21.125641"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 64ms (Views: 1.8ms | ActiveRecord: 19.8ms | Allocations: 14583)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 13:39:27 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 10.82], ["updated_at", "2021-11-24 18:39:27.620714"], ["id", 12]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.805], ["updated_at", "2021-11-24 18:39:27.636184"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4226.3286], ["updated_at", "2021-11-24 18:39:27.644723"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4226.3286], ["updated_at", "2021-11-24 18:39:27.656308"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56724.95], ["updated_at", "2021-11-24 18:39:27.665496"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.58523], ["updated_at", "2021-11-24 18:39:27.680024"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.12], ["updated_at", "2021-11-24 18:39:27.685548"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.305], ["updated_at", "2021-11-24 18:39:27.696759"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9257], ["updated_at", "2021-11-24 18:39:27.705686"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.12], ["updated_at", "2021-11-24 18:39:27.712985"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.93], ["updated_at", "2021-11-24 18:39:27.718322"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1625.92], ["updated_at", "2021-11-24 18:39:27.723159"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9561.892899999999], ["total_balance", 11561.892899999999], ["updated_at", "2021-11-24 18:39:27.731203"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5432.985000000001], ["total_balance", 9947.985], ["updated_at", "2021-11-24 18:39:27.738004"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10139.086800000001], ["total_balance", 10144.586800000001], ["updated_at", "2021-11-24 18:39:27.743917"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 6614.89], ["total_balance", 10020.12], ["updated_at", "2021-11-24 18:39:27.749735"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 483ms (Views: 2.4ms | ActiveRecord: 39.4ms | Allocations: 53891)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 13:39:34 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 10.815], ["updated_at", "2021-11-24 18:39:35.138818"], ["id", 12]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.8], ["updated_at", "2021-11-24 18:39:35.162857"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.27], ["updated_at", "2021-11-24 18:39:35.194526"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9297], ["updated_at", "2021-11-24 18:39:35.200858"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.91], ["updated_at", "2021-11-24 18:39:35.212454"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5432.185], ["total_balance", 9947.185000000001], ["updated_at", "2021-11-24 18:39:35.233610"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10137.4368], ["total_balance", 10142.9368], ["updated_at", "2021-11-24 18:39:35.250305"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 6614.54], ["total_balance", 10019.77], ["updated_at", "2021-11-24 18:39:35.259031"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 493ms (Views: 5.9ms | ActiveRecord: 32.2ms | Allocations: 45810)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 13:39:38 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>-1, "quantity"=>1, "settled_price"=>1625.92, "account_id"=>2}}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.9ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 5031.15], ["stock_balance", 4988.62], ["updated_at", "2021-11-24 18:39:38.379456"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 1.0], ["updated_at", "2021-11-24 18:39:38.404349"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", -1], ["quantity", 1.0], ["settled_price", 1625.92], ["created_at", "2021-11-24 18:39:38.422338"], ["updated_at", "2021-11-24 18:39:38.422338"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 85ms (Views: 0.8ms | ActiveRecord: 19.4ms | Allocations: 10718)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 13:39:56 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>-1, "quantity"=>1, "settled_price"=>1625.92, "account_id"=>2}}
  [1m[36mAccount Load (3.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 6657.07], ["stock_balance", 3362.7], ["updated_at", "2021-11-24 18:39:56.604652"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0.0], ["updated_at", "2021-11-24 18:39:56.623457"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mPortfolio Destroy (0.7ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", -1], ["quantity", 1.0], ["settled_price", 1625.92], ["created_at", "2021-11-24 18:39:56.642560"], ["updated_at", "2021-11-24 18:39:56.642560"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 77ms (Views: 0.9ms | ActiveRecord: 17.6ms | Allocations: 12078)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 13:40:00 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.66], ["updated_at", "2021-11-24 18:40:01.024463"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4222.5312], ["updated_at", "2021-11-24 18:40:01.054191"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4222.5312], ["updated_at", "2021-11-24 18:40:01.081959"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56712.742], ["updated_at", "2021-11-24 18:40:01.108331"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.57051], ["updated_at", "2021-11-24 18:40:01.130579"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.1154], ["updated_at", "2021-11-24 18:40:01.150738"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.1154], ["updated_at", "2021-11-24 18:40:01.170932"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (16.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.805], ["updated_at", "2021-11-24 18:40:01.210235"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.34], ["updated_at", "2021-11-24 18:40:01.232474"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.925], ["updated_at", "2021-11-24 18:40:01.250667"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.89], ["updated_at", "2021-11-24 18:40:01.285866"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9556.104800000001], ["total_balance", 11556.104800000001], ["updated_at", "2021-11-24 18:40:01.299164"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5431.358], ["total_balance", 9946.358], ["updated_at", "2021-11-24 18:40:01.307608"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10134.09402], ["total_balance", 10139.59402], ["updated_at", "2021-11-24 18:40:01.314881"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 3363.3999999999996], ["total_balance", 10020.47], ["updated_at", "2021-11-24 18:40:01.322542"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 597ms (Views: 2.8ms | ActiveRecord: 96.9ms | Allocations: 53057)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 13:40:02 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.9099], ["updated_at", "2021-11-24 18:40:02.611710"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5432.353], ["total_balance", 9947.353], ["updated_at", "2021-11-24 18:40:02.645684"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 471ms (Views: 5.1ms | ActiveRecord: 26.7ms | Allocations: 37944)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 13:40:58 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"MSFT", "trade"=>-1, "quantity"=>20, "settled_price"=>336.34, "account_id"=>2}}
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.5ms | Allocations: 2376)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 13:41:03 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"MSFT", "trade"=>-1, "quantity"=>5, "settled_price"=>336.34, "account_id"=>2}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 8338.77], ["stock_balance", 1681.6999999999998], ["updated_at", "2021-11-24 18:41:03.856703"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 5.0], ["updated_at", "2021-11-24 18:41:03.871664"], ["id", 4]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", -1], ["quantity", 5.0], ["settled_price", 336.34], ["created_at", "2021-11-24 18:41:03.879599"], ["updated_at", "2021-11-24 18:41:03.879599"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 51ms (Views: 0.7ms | ActiveRecord: 10.3ms | Allocations: 11110)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (34.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (36.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (392.6ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (360.7ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 18:42:14.438648"], ["updated_at", "2021-11-24 18:42:14.438648"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 18:42:14.447359"], ["updated_at", "2021-11-24 18:42:14.447359"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 18:42:14.676629"], ["updated_at", "2021-11-24 18:42:14.676629"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 18:42:14.690714"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 18:42:14.701331"], ["updated_at", "2021-11-24 18:42:14.701331"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admin@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 18:42:14.766800"], ["updated_at", "2021-11-24 18:42:14.766800"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 18:42:14.783840"], ["updated_at", "2021-11-24 18:42:14.783840"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 18:42:14.797349"], ["updated_at", "2021-11-24 18:42:14.797349"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 18:42:14.803028"], ["updated_at", "2021-11-24 18:42:14.803028"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 18:42:14.815717"], ["updated_at", "2021-11-24 18:42:14.815717"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 18:42:14.831776"], ["updated_at", "2021-11-24 18:42:14.831776"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 18:42:14.837825"], ["updated_at", "2021-11-24 18:42:14.837825"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 18:42:14.844153"], ["updated_at", "2021-11-24 18:42:14.844153"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 18:42:14.850360"], ["updated_at", "2021-11-24 18:42:14.850360"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 18:42:14.865553"], ["updated_at", "2021-11-24 18:42:14.865553"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 18:42:14.878580"], ["updated_at", "2021-11-24 18:42:14.878580"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 18:42:14.886582"], ["updated_at", "2021-11-24 18:42:14.886582"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 18:42:14.893148"], ["updated_at", "2021-11-24 18:42:14.893148"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 18:42:14.902590"], ["updated_at", "2021-11-24 18:42:14.902590"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 18:42:14.908716"], ["updated_at", "2021-11-24 18:42:14.908716"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 18:42:14.914578"], ["updated_at", "2021-11-24 18:42:14.914578"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 18:42:14.920428"], ["updated_at", "2021-11-24 18:42:14.920428"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 18:42:14.926177"], ["updated_at", "2021-11-24 18:42:14.926177"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 18:42:14.931991"], ["updated_at", "2021-11-24 18:42:14.931991"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 18:42:14.937709"], ["updated_at", "2021-11-24 18:42:14.937709"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 18:42:14.943527"], ["updated_at", "2021-11-24 18:42:14.943527"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 18:42:14.949334"], ["updated_at", "2021-11-24 18:42:14.949334"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 18:42:14.954593"], ["updated_at", "2021-11-24 18:42:14.954593"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 18:42:14.960249"], ["updated_at", "2021-11-24 18:42:14.960249"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 18:42:14.972787"], ["updated_at", "2021-11-24 18:42:14.972787"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 18:42:14.981540"], ["updated_at", "2021-11-24 18:42:14.981540"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 18:42:14.988487"], ["updated_at", "2021-11-24 18:42:14.988487"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 18:42:14.994648"], ["updated_at", "2021-11-24 18:42:14.994648"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 18:42:15.000288"], ["updated_at", "2021-11-24 18:42:15.000288"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 18:42:15.015389"], ["updated_at", "2021-11-24 18:42:15.015389"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 18:42:15.021373"], ["updated_at", "2021-11-24 18:42:15.021373"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 18:42:15.027055"], ["updated_at", "2021-11-24 18:42:15.027055"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 18:42:15.032836"], ["updated_at", "2021-11-24 18:42:15.032836"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 18:42:15.038491"], ["updated_at", "2021-11-24 18:42:15.038491"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 13:59:42 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 9123)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 13:59:43 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (1.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.9961], ["updated_at", "2021-11-24 18:59:43.526050"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4229.133], ["updated_at", "2021-11-24 18:59:43.538172"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1626.85], ["updated_at", "2021-11-24 18:59:43.545816"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.285], ["updated_at", "2021-11-24 18:59:43.552619"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9301], ["updated_at", "2021-11-24 18:59:43.559806"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.59], ["updated_at", "2021-11-24 18:59:43.567236"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.9961], ["updated_at", "2021-11-24 18:59:43.572599"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.8505], ["updated_at", "2021-11-24 18:59:43.583147"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4229.133], ["updated_at", "2021-11-24 18:59:43.591807"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56803.945], ["updated_at", "2021-11-24 18:59:43.600673"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.707573], ["updated_at", "2021-11-24 18:59:43.609464"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.79], ["updated_at", "2021-11-24 18:59:43.619332"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9563.621500000001], ["total_balance", 11563.621500000001], ["updated_at", "2021-11-24 18:59:43.631180"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (1.2ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8243.4], ["total_balance", 10013.4], ["updated_at", "2021-11-24 18:59:43.661842"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5426.902], ["total_balance", 9941.902], ["updated_at", "2021-11-24 18:59:43.679333"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10117.063250000001], ["total_balance", 10122.563250000001], ["updated_at", "2021-11-24 18:59:43.691300"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 504ms (Views: 14.5ms | ActiveRecord: 62.8ms | Allocations: 71809)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:20:16 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 218ms (ActiveRecord: 5.5ms | Allocations: 7808)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:20:22 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>-1, "quantity"=>2, "settled_price"=>1626.85, "account_id"=>2}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (1.0ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 5023.7], ["stock_balance", 4989.7], ["updated_at", "2021-11-24 19:20:23.030545"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 1.0], ["updated_at", "2021-11-24 19:20:23.051394"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", -1], ["quantity", 2.0], ["settled_price", 1626.85], ["created_at", "2021-11-24 19:20:23.063325"], ["updated_at", "2021-11-24 19:20:23.063325"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 87ms (Views: 14.5ms | ActiveRecord: 14.8ms | Allocations: 11708)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 14:21:00 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 231ms (ActiveRecord: 0.3ms | Allocations: 4152)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:8:in `index'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:21:01 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 177ms (ActiveRecord: 1.4ms | Allocations: 4585)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 14:21:04 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 201ms (ActiveRecord: 1.1ms | Allocations: 4089)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:8:in `index'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:21:08 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 182ms (ActiveRecord: 1.1ms | Allocations: 4541)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (35.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (40.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (357.1ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (357.3ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 19:21:31.077489"], ["updated_at", "2021-11-24 19:21:31.077489"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 19:21:31.095996"], ["updated_at", "2021-11-24 19:21:31.095996"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 19:21:31.315225"], ["updated_at", "2021-11-24 19:21:31.315225"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 19:21:31.330506"], ["key", "environment"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 19:21:31.344189"], ["updated_at", "2021-11-24 19:21:31.344189"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admin@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:21:31.390407"], ["updated_at", "2021-11-24 19:21:31.390407"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 19:21:31.439888"], ["updated_at", "2021-11-24 19:21:31.439888"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 19:21:31.464049"], ["updated_at", "2021-11-24 19:21:31.464049"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 19:21:31.471331"], ["updated_at", "2021-11-24 19:21:31.471331"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 19:21:31.494592"], ["updated_at", "2021-11-24 19:21:31.494592"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 19:21:31.501709"], ["updated_at", "2021-11-24 19:21:31.501709"], ["account_id", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:21:31.507510"], ["updated_at", "2021-11-24 19:21:31.507510"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 19:21:31.513472"], ["updated_at", "2021-11-24 19:21:31.513472"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 19:21:31.519729"], ["updated_at", "2021-11-24 19:21:31.519729"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 19:21:31.534963"], ["updated_at", "2021-11-24 19:21:31.534963"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 19:21:31.541593"], ["updated_at", "2021-11-24 19:21:31.541593"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 19:21:31.547837"], ["updated_at", "2021-11-24 19:21:31.547837"], ["account_id", 2]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:21:31.553870"], ["updated_at", "2021-11-24 19:21:31.553870"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 19:21:31.560048"], ["updated_at", "2021-11-24 19:21:31.560048"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 19:21:31.566968"], ["updated_at", "2021-11-24 19:21:31.566968"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 19:21:31.572748"], ["updated_at", "2021-11-24 19:21:31.572748"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 19:21:31.578098"], ["updated_at", "2021-11-24 19:21:31.578098"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 19:21:31.583775"], ["updated_at", "2021-11-24 19:21:31.583775"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 19:21:31.590097"], ["updated_at", "2021-11-24 19:21:31.590097"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 19:21:31.596240"], ["updated_at", "2021-11-24 19:21:31.596240"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 19:21:31.608043"], ["updated_at", "2021-11-24 19:21:31.608043"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 19:21:31.617924"], ["updated_at", "2021-11-24 19:21:31.617924"], ["account_id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:21:31.626955"], ["updated_at", "2021-11-24 19:21:31.626955"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 19:21:31.633206"], ["updated_at", "2021-11-24 19:21:31.633206"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 19:21:31.639037"], ["updated_at", "2021-11-24 19:21:31.639037"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 19:21:31.644333"], ["updated_at", "2021-11-24 19:21:31.644333"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 19:21:31.649839"], ["updated_at", "2021-11-24 19:21:31.649839"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.3ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 19:21:31.655168"], ["updated_at", "2021-11-24 19:21:31.655168"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.2ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 19:21:31.660314"], ["updated_at", "2021-11-24 19:21:31.660314"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 19:21:31.665792"], ["updated_at", "2021-11-24 19:21:31.665792"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 19:21:31.676869"], ["updated_at", "2021-11-24 19:21:31.676869"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 19:21:31.686346"], ["updated_at", "2021-11-24 19:21:31.686346"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 19:21:31.695721"], ["updated_at", "2021-11-24 19:21:31.695721"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 19:21:31.704341"], ["updated_at", "2021-11-24 19:21:31.704341"], ["account_id", 4]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 14:22:18 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 3.4ms | Allocations: 9123)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:22:19 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 428ms (ActiveRecord: 5.9ms | Allocations: 15975)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 14:22:47 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 445ms (ActiveRecord: 0.9ms | Allocations: 4257)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:8:in `index'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:22:48 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 201ms (ActiveRecord: 0.8ms | Allocations: 4586)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 14:32:24 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"adriana@wealthify.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 9127)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:32:25 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (2.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.85], ["updated_at", "2021-11-24 19:32:25.626266"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4211.7974], ["updated_at", "2021-11-24 19:32:25.638239"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1619.73], ["updated_at", "2021-11-24 19:32:25.646053"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.02], ["updated_at", "2021-11-24 19:32:25.653213"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.931], ["updated_at", "2021-11-24 19:32:25.665879"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.48], ["updated_at", "2021-11-24 19:32:25.676231"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.85], ["updated_at", "2021-11-24 19:32:25.684688"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.58], ["updated_at", "2021-11-24 19:32:25.690991"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4211.7974], ["updated_at", "2021-11-24 19:32:25.697441"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56761.035], ["updated_at", "2021-11-24 19:32:25.704822"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.317127], ["updated_at", "2021-11-24 19:32:25.712013"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.74], ["updated_at", "2021-11-24 19:32:25.720083"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9534.696100000001], ["total_balance", 11534.696100000001], ["updated_at", "2021-11-24 19:32:25.745456"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8219.39], ["total_balance", 9989.39], ["updated_at", "2021-11-24 19:32:25.758007"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5409.95], ["total_balance", 9924.95], ["updated_at", "2021-11-24 19:32:25.769471"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10067.421750000001], ["total_balance", 10072.921750000001], ["updated_at", "2021-11-24 19:32:25.779849"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 565ms (Views: 10.7ms | ActiveRecord: 51.8ms | Allocations: 71817)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:34:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"MSFT", "trade"=>-1, "quantity"=>1, "settled_price"=>336.02, "account_id"=>2}}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 2106.02], ["stock_balance", 7883.369999999999], ["updated_at", "2021-11-24 19:34:21.886224"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 9.0], ["updated_at", "2021-11-24 19:34:21.896136"], ["id", 4]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", -1], ["quantity", 1.0], ["settled_price", 336.02], ["created_at", "2021-11-24 19:34:21.904865"], ["updated_at", "2021-11-24 19:34:21.904865"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 38ms (Views: 1.5ms | ActiveRecord: 8.1ms | Allocations: 11369)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:42:04 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>1, "settled_price"=>1619.73, "account_id"=>2}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 486.28999999999996], ["stock_balance", 9503.099999999999], ["updated_at", "2021-11-24 19:42:04.410918"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 4.0], ["updated_at", "2021-11-24 19:42:04.420807"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 1.0], ["settled_price", 1619.73], ["created_at", "2021-11-24 19:42:04.427689"], ["updated_at", "2021-11-24 19:42:04.427689"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 60ms (Views: 0.4ms | ActiveRecord: 13.7ms | Allocations: 13987)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:42:24 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>-1, "quantity"=>1, "settled_price"=>1619.73, "account_id"=>2}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 2106.02], ["stock_balance", 7883.369999999999], ["updated_at", "2021-11-24 19:42:24.313389"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 3.0], ["updated_at", "2021-11-24 19:42:24.327931"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", -1], ["quantity", 1.0], ["settled_price", 1619.73], ["created_at", "2021-11-24 19:42:24.340094"], ["updated_at", "2021-11-24 19:42:24.340094"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 42ms (Views: 0.6ms | ActiveRecord: 10.0ms | Allocations: 10718)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:42:40 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"MSFT", "trade"=>1, "quantity"=>1, "settled_price"=>336.02, "account_id"=>2}}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (1.2ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 1770.0], ["stock_balance", 8219.39], ["updated_at", "2021-11-24 19:42:40.561344"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 10.0], ["updated_at", "2021-11-24 19:42:40.575152"], ["id", 4]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 1.0], ["settled_price", 336.02], ["created_at", "2021-11-24 19:42:40.582638"], ["updated_at", "2021-11-24 19:42:40.582638"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 40ms (Views: 0.3ms | ActiveRecord: 13.2ms | Allocations: 10745)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:43:13 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"MSFT", "trade"=>-1, "quantity"=>12, "settled_price"=>336.02, "account_id"=>2}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.0ms | Allocations: 2417)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:52:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:43:21 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"MSFT", "trade"=>-1, "quantity"=>3, "settled_price"=>336.02, "account_id"=>2}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:26:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:32:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 2778.06], ["stock_balance", 7211.33], ["updated_at", "2021-11-24 19:43:21.763488"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:62:in `create'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:65:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "MSFT"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 7.0], ["updated_at", "2021-11-24 19:43:21.781089"], ["id", 4]]
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:72:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", -1], ["quantity", 3.0], ["settled_price", 336.02], ["created_at", "2021-11-24 19:43:21.790333"], ["updated_at", "2021-11-24 19:43:21.790333"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:84:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:84:in `create'
Completed 201 Created in 51ms (Views: 0.6ms | ActiveRecord: 10.0ms | Allocations: 11127)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:52:14 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>3, "settled_price"=>1619.73, "account_id"=>2}}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:42:in `create'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 4.5ms | Allocations: 15409)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:56:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:52:54 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>1, "quantity"=>2, "settled_price"=>1619.73, "account_id"=>2}}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:42:in `create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 3.0ms | Allocations: 2487)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/transactions_controller.rb:56:in `create'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/transactions
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/api/transactions" for ::1 at 2021-11-24 14:53:07 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"ticker"=>"SHOP", "trade"=>-1, "quantity"=>3, "settled_price"=>1619.73, "account_id"=>2}}
  [1m[36mAccount Load (5.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:28:in `create'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", 1]]
  ↳ app/controllers/transactions_controller.rb:38:in `create'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."account_id" = $1 AND "transactions"."ticker" = $2 AND "transactions"."trade" = $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["trade", -1]]
  ↳ app/controllers/transactions_controller.rb:42:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "cash_balance" = $1, "stock_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["cash_balance", 7637.25], ["stock_balance", 2352.1399999999994], ["updated_at", "2021-11-24 19:53:07.909904"], ["id", 2]]
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:76:in `create'
  [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:80:in `create'
  [1m[36mCACHE Portfolio Load (0.0ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1 AND "portfolios"."ticker" = $2 LIMIT $3[0m  [["account_id", 2], ["ticker", "SHOP"], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:82:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:87:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:87:in `create'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "quantity" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["quantity", 0.0], ["updated_at", "2021-11-24 19:53:07.937252"], ["id", 3]]
  ↳ app/controllers/transactions_controller.rb:87:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:87:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:91:in `create'
  [1m[36mPortfolio Destroy (0.2ms)[0m  [1m[31mDELETE FROM "portfolios" WHERE "portfolios"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/transactions_controller.rb:91:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:91:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:99:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:99:in `create'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", -1], ["quantity", 3.0], ["settled_price", 1619.73], ["created_at", "2021-11-24 19:53:07.946703"], ["updated_at", "2021-11-24 19:53:07.946703"], ["account_id", 2]]
  ↳ app/controllers/transactions_controller.rb:99:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/transactions_controller.rb:99:in `create'
Completed 201 Created in 82ms (Views: 0.5ms | ActiveRecord: 17.9ms | Allocations: 22811)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 14:54:01 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 10.775], ["updated_at", "2021-11-24 19:54:02.085753"], ["id", 12]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.125], ["updated_at", "2021-11-24 19:54:02.106866"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4212.281], ["updated_at", "2021-11-24 19:54:02.117731"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.9715], ["updated_at", "2021-11-24 19:54:02.124458"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.64], ["updated_at", "2021-11-24 19:54:02.131132"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.125], ["updated_at", "2021-11-24 19:54:02.136725"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.67], ["updated_at", "2021-11-24 19:54:02.142171"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4212.281], ["updated_at", "2021-11-24 19:54:02.147350"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56758.32], ["updated_at", "2021-11-24 19:54:02.152538"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.29293], ["updated_at", "2021-11-24 19:54:02.157883"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.75], ["updated_at", "2021-11-24 19:54:02.163186"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.2ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.56], ["updated_at", "2021-11-24 19:54:02.168435"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9540.9215], ["total_balance", 11540.9215], ["updated_at", "2021-11-24 19:54:02.175933"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5422.775], ["total_balance", 9937.775], ["updated_at", "2021-11-24 19:54:02.182719"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10088.0167], ["total_balance", 10093.5167], ["updated_at", "2021-11-24 19:54:02.196058"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 2355.92], ["total_balance", 9993.17], ["updated_at", "2021-11-24 19:54:02.206434"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 451ms (Views: 3.3ms | ActiveRecord: 38.6ms | Allocations: 53909)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/2
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/2" for ::1 at 2021-11-24 14:54:19 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (3.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 10.771], ["updated_at", "2021-11-24 19:54:19.890879"], ["id", 12]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.1], ["updated_at", "2021-11-24 19:54:19.919768"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.97], ["updated_at", "2021-11-24 19:54:19.964506"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.1], ["updated_at", "2021-11-24 19:54:19.983648"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.71], ["updated_at", "2021-11-24 19:54:19.995661"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.745], ["updated_at", "2021-11-24 19:54:20.010953"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 336.57], ["updated_at", "2021-11-24 19:54:20.020902"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9540.4215], ["total_balance", 11540.4215], ["updated_at", "2021-11-24 19:54:20.032735"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5424.2], ["total_balance", 9939.2], ["updated_at", "2021-11-24 19:54:20.043868"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10086.6667], ["total_balance", 10092.1667], ["updated_at", "2021-11-24 19:54:20.053727"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 2355.99], ["total_balance", 9993.24], ["updated_at", "2021-11-24 19:54:20.065653"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 2)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 518ms (Views: 5.4ms | ActiveRecord: 43.1ms | Allocations: 49048)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (22.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_development"[0m
  [1m[35m (18.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "server_test"[0m
  [1m[35m (77.5ms)[0m  [1m[35mCREATE DATABASE "server_development" ENCODING = 'unicode'[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE DATABASE "server_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 19:17:43.164811"], ["updated_at", "2021-11-24 19:17:43.164811"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 19:17:43.177295"], ["updated_at", "2021-11-24 19:17:43.177295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "cash_balance" float, "stock_balance" float, "total_balance" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "referral_bonus" integer, "signup_bonus" boolean)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "portfolios" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "portfolios" ("id" bigserial primary key, "ticker" character varying, "quantity" float, "current_spot_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_portfolios_on_account_id" ON "portfolios" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "referrals" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" bigserial primary key, "recipient_id" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_referrals_on_user_id" ON "referrals" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "transactions" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "ticker" character varying, "trade" integer, "quantity" float, "settled_price" float, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "account_id" bigint NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_account_id" ON "transactions" ("account_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "referral_code" character varying)[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "portfolios" ADD CONSTRAINT "fk_rails_ccd37f55ab"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" ADD CONSTRAINT "fk_rails_1bb2ba0c15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "transactions" ADD CONSTRAINT "fk_rails_01f020e267"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211124171346)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211119163009),
(20211119163542),
(20211119163721),
(20211119163903),
(20211119170947),
(20211119184501),
(20211119185026),
(20211120012622),
(20211120013655),
(20211120014208),
(20211120014456),
(20211123011257);

[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-11-24 19:17:43.261536"], ["updated_at", "2021-11-24 19:17:43.261536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-11-24 19:17:43.294452"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "d4eaab624edaf629f2f8d74893500ba2aa2eae8b"], ["created_at", "2021-11-24 19:17:43.299132"], ["updated_at", "2021-11-24 19:17:43.299132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "wealthify"], ["last_name", "wealthify"], ["email", "admin@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:17:43.350895"], ["updated_at", "2021-11-24 19:17:43.350895"], ["referral_code", "aX6b7e"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 2000.0], ["stock_balance", 9566.0], ["total_balance", 12000.0], ["created_at", "2021-11-24 19:17:43.377831"], ["updated_at", "2021-11-24 19:17:43.377831"], ["user_id", 1], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (1.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 19:17:43.404100"], ["updated_at", "2021-11-24 19:17:43.404100"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.8ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 1.5], ["current_spot_price", 4271.0], ["created_at", "2021-11-24 19:17:43.412309"], ["updated_at", "2021-11-24 19:17:43.412309"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.4ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 19:17:43.439457"], ["updated_at", "2021-11-24 19:17:43.439457"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 1.5], ["settled_price", 4271.0], ["created_at", "2021-11-24 19:17:43.447410"], ["updated_at", "2021-11-24 19:17:43.447410"], ["account_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adriana@wealthify.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Adriana"], ["last_name", "Calvo-Matos"], ["email", "adriana@wealthify.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:17:43.454114"], ["updated_at", "2021-11-24 19:17:43.454114"], ["referral_code", "ac6b9h"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 1770.0], ["stock_balance", 8230.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 19:17:43.461350"], ["updated_at", "2021-11-24 19:17:43.461350"], ["user_id", 2], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.7ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "SHOP"], ["quantity", 3.0], ["current_spot_price", 1600.0], ["created_at", "2021-11-24 19:17:43.468787"], ["updated_at", "2021-11-24 19:17:43.468787"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "MSFT"], ["quantity", 10.0], ["current_spot_price", 343.0], ["created_at", "2021-11-24 19:17:43.491379"], ["updated_at", "2021-11-24 19:17:43.491379"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "SHOP"], ["trade", 1], ["quantity", 3.0], ["settled_price", 1600.0], ["created_at", "2021-11-24 19:17:43.498908"], ["updated_at", "2021-11-24 19:17:43.498908"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "MSFT"], ["trade", 1], ["quantity", 10.0], ["settled_price", 343.0], ["created_at", "2021-11-24 19:17:43.505978"], ["updated_at", "2021-11-24 19:17:43.505978"], ["account_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaron@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aaron"], ["last_name", "Tenn"], ["email", "aaron@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:17:43.512558"], ["updated_at", "2021-11-24 19:17:43.512558"], ["referral_code", "hz6b9e"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 4515.0], ["stock_balance", 5485.0], ["total_balance", 10000.0], ["created_at", "2021-11-24 19:17:43.519376"], ["updated_at", "2021-11-24 19:17:43.519376"], ["user_id", 3], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "WISH"], ["quantity", 50.0], ["current_spot_price", 4.0], ["created_at", "2021-11-24 19:17:43.526226"], ["updated_at", "2021-11-24 19:17:43.526226"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMSC"], ["quantity", 5.0], ["current_spot_price", 15.0], ["created_at", "2021-11-24 19:17:43.532208"], ["updated_at", "2021-11-24 19:17:43.532208"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.4ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AAPL"], ["quantity", 20.0], ["current_spot_price", 158.0], ["created_at", "2021-11-24 19:17:43.538106"], ["updated_at", "2021-11-24 19:17:43.538106"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "AMC"], ["quantity", 50.0], ["current_spot_price", 41.0], ["created_at", "2021-11-24 19:17:43.544169"], ["updated_at", "2021-11-24 19:17:43.544169"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "WISH"], ["trade", 1], ["quantity", 50.0], ["settled_price", 4.0], ["created_at", "2021-11-24 19:17:43.550497"], ["updated_at", "2021-11-24 19:17:43.550497"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMSC"], ["trade", 1], ["quantity", 5.0], ["settled_price", 15.0], ["created_at", "2021-11-24 19:17:43.557322"], ["updated_at", "2021-11-24 19:17:43.557322"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AAPL"], ["trade", 1], ["quantity", 20.0], ["settled_price", 158.0], ["created_at", "2021-11-24 19:17:43.563809"], ["updated_at", "2021-11-24 19:17:43.563809"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "AMC"], ["trade", 1], ["quantity", 50.0], ["settled_price", 41.0], ["created_at", "2021-11-24 19:17:43.569835"], ["updated_at", "2021-11-24 19:17:43.569835"], ["account_id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Brandon"], ["last_name", "Niu"], ["email", "niubrandon@gmail.com"], ["password_digest", "$2a$12$8YSWbJd/Yy5ykN.9t/Q90.SrtHX10q1j.2ougPE/x6adjrqVCDzJS"], ["created_at", "2021-11-24 19:17:43.575915"], ["updated_at", "2021-11-24 19:17:43.575915"], ["referral_code", "z16b7z"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 5.5], ["stock_balance", 9994.5], ["total_balance", 10000.0], ["created_at", "2021-11-24 19:17:43.583267"], ["updated_at", "2021-11-24 19:17:43.583267"], ["user_id", 4], ["referral_bonus", 0], ["signup_bonus", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["quantity", 0.5], ["current_spot_price", 3999.0], ["created_at", "2021-11-24 19:17:43.590902"], ["updated_at", "2021-11-24 19:17:43.590902"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.5ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["quantity", 0.01], ["current_spot_price", 57500.0], ["created_at", "2021-11-24 19:17:43.597841"], ["updated_at", "2021-11-24 19:17:43.597841"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.9ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["quantity", 100.0], ["current_spot_price", 38.5], ["created_at", "2021-11-24 19:17:43.604583"], ["updated_at", "2021-11-24 19:17:43.604583"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "TLRY"], ["quantity", 300.0], ["current_spot_price", 10.7], ["created_at", "2021-11-24 19:17:43.611807"], ["updated_at", "2021-11-24 19:17:43.611807"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPortfolio Create (0.6ms)[0m  [1m[32mINSERT INTO "portfolios" ("ticker", "quantity", "current_spot_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["ticker", "CGC"], ["quantity", 30.0], ["current_spot_price", 12.0], ["created_at", "2021-11-24 19:17:43.618222"], ["updated_at", "2021-11-24 19:17:43.618222"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "ETH-USD"], ["trade", 1], ["quantity", 0.5], ["settled_price", 3999.0], ["created_at", "2021-11-24 19:17:43.625302"], ["updated_at", "2021-11-24 19:17:43.625302"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "BTC-USD"], ["trade", 1], ["quantity", 0.01], ["settled_price", 57500.0], ["created_at", "2021-11-24 19:17:43.642755"], ["updated_at", "2021-11-24 19:17:43.642755"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "DOT1-USD"], ["trade", 1], ["quantity", 100.0], ["settled_price", 38.5], ["created_at", "2021-11-24 19:17:43.650380"], ["updated_at", "2021-11-24 19:17:43.650380"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "TLRY"], ["trade", 1], ["quantity", 300.0], ["settled_price", 10.7], ["created_at", "2021-11-24 19:17:43.657794"], ["updated_at", "2021-11-24 19:17:43.657794"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("ticker", "trade", "quantity", "settled_price", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["ticker", "CGC"], ["trade", 1], ["quantity", 30.0], ["settled_price", 12.0], ["created_at", "2021-11-24 19:17:43.665391"], ["updated_at", "2021-11-24 19:17:43.665391"], ["account_id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 14:18:25 -0500
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 728ms (Views: 0.2ms | ActiveRecord: 14.7ms | Allocations: 9137)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 14:18:26 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 249ms (ActiveRecord: 22.4ms | Allocations: 16276)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 14:20:35 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 718ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 997)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 14:20:36 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
Completed 500 Internal Server Error in 177ms (ActiveRecord: 0.8ms | Allocations: 4890)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/accounts_controller.rb:120:in `get_live_price'
app/controllers/accounts_controller.rb:60:in `adjust_portfolio_spot_price'
app/controllers/accounts_controller.rb:72:in `adjust_accounts_balance_from_updated_portfolios'
app/controllers/accounts_controller.rb:22:in `show'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 14:33:35 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (2.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.77], ["updated_at", "2021-11-24 19:33:36.381900"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4219.4917], ["updated_at", "2021-11-24 19:33:36.389051"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1616.2802], ["updated_at", "2021-11-24 19:33:36.393196"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 335.84], ["updated_at", "2021-11-24 19:33:36.397164"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.94], ["updated_at", "2021-11-24 19:33:36.401117"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.48], ["updated_at", "2021-11-24 19:33:36.405131"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.77], ["updated_at", "2021-11-24 19:33:36.409007"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.56], ["updated_at", "2021-11-24 19:33:36.412919"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4219.4917], ["updated_at", "2021-11-24 19:33:36.421292"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 56822.242], ["updated_at", "2021-11-24 19:33:36.427794"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.381695], ["updated_at", "2021-11-24 19:33:36.438385"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.74], ["updated_at", "2021-11-24 19:33:36.447652"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9544.63755], ["total_balance", 11544.63755], ["updated_at", "2021-11-24 19:33:36.487209"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8207.2406], ["total_balance", 9977.2406], ["updated_at", "2021-11-24 19:33:36.502548"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5407.8], ["total_balance", 9922.8], ["updated_at", "2021-11-24 19:33:36.518342"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10078.33777], ["total_balance", 10083.83777], ["updated_at", "2021-11-24 19:33:36.545034"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 806ms (Views: 4.2ms | ActiveRecord: 45.6ms | Allocations: 73266)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 14:33:36 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.76], ["updated_at", "2021-11-24 19:33:37.496941"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 160.76], ["updated_at", "2021-11-24 19:33:37.511087"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9544.437549999999], ["total_balance", 11544.437549999999], ["updated_at", "2021-11-24 19:33:37.528431"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (1.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5407.6], ["total_balance", 9922.6], ["updated_at", "2021-11-24 19:33:37.537433"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 601ms (Views: 9.2ms | ActiveRecord: 32.9ms | Allocations: 46673)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 17:09:58 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 732ms (Views: 0.2ms | ActiveRecord: 17.8ms | Allocations: 4230)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:09:59 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (2.0ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4270.178], ["updated_at", "2021-11-24 22:09:59.975673"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 1628.7], ["updated_at", "2021-11-24 22:09:59.981372"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 337.91], ["updated_at", "2021-11-24 22:09:59.985933"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 3.97], ["updated_at", "2021-11-24 22:09:59.990389"], ["id", 5]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 13.68], ["updated_at", "2021-11-24 22:09:59.999931"], ["id", 6]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.89], ["updated_at", "2021-11-24 22:10:00.005172"], ["id", 8]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4270.178], ["updated_at", "2021-11-24 22:10:00.009193"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57389.9], ["updated_at", "2021-11-24 22:10:00.013562"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.529324], ["updated_at", "2021-11-24 22:10:00.018141"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 11.87], ["updated_at", "2021-11-24 22:10:00.022244"], ["id", 13]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.94], ["updated_at", "2021-11-24 22:10:00.026306"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 161.94], ["updated_at", "2021-11-24 22:10:00.030590"], ["id", 7]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 8265.2], ["total_balance", 10035.2], ["updated_at", "2021-11-24 22:10:00.038056"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10128.0204], ["total_balance", 10133.5204], ["updated_at", "2021-11-24 22:10:00.043778"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9644.067], ["total_balance", 11644.067], ["updated_at", "2021-11-24 22:10:00.049431"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 5450.200000000001], ["total_balance", 9965.2], ["updated_at", "2021-11-24 22:10:00.055141"], ["id", 3]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 389ms (Views: 22.5ms | ActiveRecord: 30.5ms | Allocations: 54492)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 17:21:36 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (2.0ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4262.333], ["updated_at", "2021-11-24 22:21:37.096837"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4262.333], ["updated_at", "2021-11-24 22:21:37.112385"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57231.547], ["updated_at", "2021-11-24 22:21:37.116876"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.521484], ["updated_at", "2021-11-24 22:21:37.144301"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10121.73037], ["total_balance", 10127.23037], ["updated_at", "2021-11-24 22:21:37.166471"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9632.299500000001], ["total_balance", 11632.299500000001], ["updated_at", "2021-11-24 22:21:37.172413"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 467ms (Views: 3.0ms | ActiveRecord: 36.8ms | Allocations: 47965)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:21:38 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 371ms (Views: 3.2ms | ActiveRecord: 9.0ms | Allocations: 36480)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 17:23:19 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4253.75], ["updated_at", "2021-11-24 22:23:19.539256"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4253.75], ["updated_at", "2021-11-24 22:23:19.545364"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57182.71], ["updated_at", "2021-11-24 22:23:19.549557"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.47177], ["updated_at", "2021-11-24 22:23:19.553850"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10111.9791], ["total_balance", 10117.4791], ["updated_at", "2021-11-24 22:23:19.568174"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9619.425], ["total_balance", 11619.425], ["updated_at", "2021-11-24 22:23:19.574138"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 477ms (Views: 3.1ms | ActiveRecord: 15.1ms | Allocations: 43456)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:23:20 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 384ms (Views: 3.0ms | ActiveRecord: 7.9ms | Allocations: 36480)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 17:32:53 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 760ms (Views: 0.3ms | ActiveRecord: 20.7ms | Allocations: 4037)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:32:54 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4256.1646], ["updated_at", "2021-11-24 22:32:54.825203"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4256.1646], ["updated_at", "2021-11-24 22:32:54.832059"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57199.258], ["updated_at", "2021-11-24 22:32:54.836842"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.547558], ["updated_at", "2021-11-24 22:32:54.841303"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10120.930680000001], ["total_balance", 10126.430680000001], ["updated_at", "2021-11-24 22:32:54.857394"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9623.046900000001], ["total_balance", 11623.046900000001], ["updated_at", "2021-11-24 22:32:54.862856"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 545ms (Views: 7.8ms | ActiveRecord: 21.5ms | Allocations: 44178)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 17:38:04 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 715ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 854)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:38:05 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4258.629], ["updated_at", "2021-11-24 22:38:06.280320"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4258.629], ["updated_at", "2021-11-24 22:38:06.286752"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57222.36], ["updated_at", "2021-11-24 22:38:06.291172"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.477562], ["updated_at", "2021-11-24 22:38:06.295421"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10115.3943], ["total_balance", 10120.8943], ["updated_at", "2021-11-24 22:38:06.310529"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9626.7435], ["total_balance", 11626.7435], ["updated_at", "2021-11-24 22:38:06.336615"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 578ms (Views: 3.1ms | ActiveRecord: 16.7ms | Allocations: 44110)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 17:38:45 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 722ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 856)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:38:46 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 485ms (Views: 3.0ms | ActiveRecord: 8.4ms | Allocations: 36475)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 17:40:11 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 744ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 855)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 17:40:11 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 10.9], ["updated_at", "2021-11-24 22:40:12.317057"], ["id", 12]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4259.4756], ["updated_at", "2021-11-24 22:40:12.336056"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4259.4756], ["updated_at", "2021-11-24 22:40:12.340930"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57203.508], ["updated_at", "2021-11-24 22:40:12.344964"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.47458], ["updated_at", "2021-11-24 22:40:12.349154"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10175.33088], ["total_balance", 10180.83088], ["updated_at", "2021-11-24 22:40:12.363691"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9628.0134], ["total_balance", 11628.0134], ["updated_at", "2021-11-24 22:40:12.369985"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 529ms (Views: 3.1ms | ActiveRecord: 17.1ms | Allocations: 45771)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 19:23:46 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 759ms (Views: 0.3ms | ActiveRecord: 18.9ms | Allocations: 4039)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 19:23:46 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4274.0938], ["updated_at", "2021-11-25 00:23:47.366667"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4274.0938], ["updated_at", "2021-11-25 00:23:47.373673"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57368.96], ["updated_at", "2021-11-25 00:23:47.377840"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.261063], ["updated_at", "2021-11-25 00:23:47.382115"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10162.942799999999], ["total_balance", 10168.442799999999], ["updated_at", "2021-11-25 00:23:47.398193"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9649.9407], ["total_balance", 11649.9407], ["updated_at", "2021-11-25 00:23:47.404002"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 468ms (Views: 3.1ms | ActiveRecord: 21.8ms | Allocations: 44190)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 19:48:33 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (2.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.1ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4319.1], ["updated_at", "2021-11-25 00:48:34.078476"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4319.1], ["updated_at", "2021-11-25 00:48:34.086010"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 58096.07], ["updated_at", "2021-11-25 00:48:34.090428"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.10019], ["updated_at", "2021-11-25 00:48:34.094767"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10276.6297], ["total_balance", 10282.1297], ["updated_at", "2021-11-25 00:48:34.110627"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9717.45], ["total_balance", 11717.45], ["updated_at", "2021-11-25 00:48:34.116612"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 509ms (Views: 3.0ms | ActiveRecord: 37.0ms | Allocations: 46695)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 19:48:40 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 445ms (Views: 3.2ms | ActiveRecord: 11.8ms | Allocations: 36526)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 19:49:28 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.9ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4327.004], ["updated_at", "2021-11-25 00:49:28.456570"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4327.004], ["updated_at", "2021-11-25 00:49:28.462721"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 58242.895], ["updated_at", "2021-11-25 00:49:28.466933"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.18919], ["updated_at", "2021-11-25 00:49:28.471167"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10290.94995], ["total_balance", 10296.44995], ["updated_at", "2021-11-25 00:49:28.485630"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9729.306], ["total_balance", 11729.306], ["updated_at", "2021-11-25 00:49:28.491175"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 438ms (Views: 2.7ms | ActiveRecord: 15.6ms | Allocations: 43468)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 19:57:03 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 754ms (Views: 0.2ms | ActiveRecord: 22.6ms | Allocations: 4037)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 19:57:04 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.1ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4324.936], ["updated_at", "2021-11-25 00:57:04.879054"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4324.936], ["updated_at", "2021-11-25 00:57:04.885509"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 58146.76], ["updated_at", "2021-11-25 00:57:04.889787"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.091515], ["updated_at", "2021-11-25 00:57:04.893617"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10279.1871], ["total_balance", 10284.6871], ["updated_at", "2021-11-25 00:57:04.925491"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9726.204], ["total_balance", 11726.204], ["updated_at", "2021-11-25 00:57:04.931496"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 562ms (Views: 3.1ms | ActiveRecord: 19.0ms | Allocations: 44369)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 20:05:40 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 753ms (Views: 0.3ms | ActiveRecord: 16.6ms | Allocations: 3982)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 20:05:40 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.3ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4331.9165], ["updated_at", "2021-11-25 01:05:41.302475"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4331.9165], ["updated_at", "2021-11-25 01:05:41.309130"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 58175.695], ["updated_at", "2021-11-25 01:05:41.314535"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.199093], ["updated_at", "2021-11-25 01:05:41.319218"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10293.7245], ["total_balance", 10299.2245], ["updated_at", "2021-11-25 01:05:41.356096"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9736.674750000002], ["total_balance", 11736.674750000002], ["updated_at", "2021-11-25 01:05:41.362717"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 375ms (Views: 3.7ms | ActiveRecord: 18.5ms | Allocations: 44368)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 20:08:03 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (1.0ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4329.7583], ["updated_at", "2021-11-25 01:08:04.592184"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4329.7583], ["updated_at", "2021-11-25 01:08:04.606267"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 58128.355], ["updated_at", "2021-11-25 01:08:04.610658"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.140617], ["updated_at", "2021-11-25 01:08:04.614633"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10286.324400000001], ["total_balance", 10291.824400000001], ["updated_at", "2021-11-25 01:08:04.644878"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9733.437450000001], ["total_balance", 11733.437450000001], ["updated_at", "2021-11-25 01:08:04.650584"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 671ms (Views: 2.8ms | ActiveRecord: 15.8ms | Allocations: 43633)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 20:08:06 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 545ms (Views: 2.6ms | ActiveRecord: 7.2ms | Allocations: 35744)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 20:08:25 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 464ms (Views: 2.7ms | ActiveRecord: 6.8ms | Allocations: 35727)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 21:34:12 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 752ms (Views: 0.3ms | ActiveRecord: 15.5ms | Allocations: 4038)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/undefined
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/undefined
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:34:12 -0500
Started GET "/api/accounts/undefined" for ::1 at 2021-11-24 21:34:12 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"undefined"}
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (1.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
Completed 404 Not Found in 25ms (ActiveRecord: 15.7ms | Allocations: 5039)


  
ActiveRecord::RecordNotFound (Couldn't find Account with 'id'=undefined):
  
app/controllers/accounts_controller.rb:96:in `set_account'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4310.1235], ["updated_at", "2021-11-25 02:34:13.167450"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4310.1235], ["updated_at", "2021-11-25 02:34:13.173075"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57695.508], ["updated_at", "2021-11-25 02:34:13.177929"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.008045], ["updated_at", "2021-11-25 02:34:13.191338"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.8ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10258.921330000001], ["total_balance", 10264.421330000001], ["updated_at", "2021-11-25 02:34:13.229171"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9703.98525], ["total_balance", 11703.98525], ["updated_at", "2021-11-25 02:34:13.238291"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 441ms (Views: 5.3ms | ActiveRecord: 19.3ms | Allocations: 120392)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/undefined
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/undefined
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/undefined" for ::1 at 2021-11-24 21:35:30 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"undefined"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
Completed 404 Not Found in 9ms (ActiveRecord: 0.3ms | Allocations: 537)


  
ActiveRecord::RecordNotFound (Couldn't find Account with 'id'=undefined):
  
app/controllers/accounts_controller.rb:96:in `set_account'
{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 21:35:48 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 721ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 853)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:35:49 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4309.7812], ["updated_at", "2021-11-25 02:35:49.691813"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.6ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4309.7812], ["updated_at", "2021-11-25 02:35:49.696778"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57687.28], ["updated_at", "2021-11-25 02:35:49.708341"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 39.01827], ["updated_at", "2021-11-25 02:35:49.713186"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10259.6904], ["total_balance", 10265.1904], ["updated_at", "2021-11-25 02:35:49.729575"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9703.4718], ["total_balance", 11703.4718], ["updated_at", "2021-11-25 02:35:49.734952"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 346ms (Views: 3.0ms | ActiveRecord: 15.3ms | Allocations: 46297)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:35:49 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 334ms (Views: 3.1ms | ActiveRecord: 9.3ms | Allocations: 36471)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:36:03 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.9ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4305.4663], ["updated_at", "2021-11-25 02:36:03.980479"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.3ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4305.4663], ["updated_at", "2021-11-25 02:36:03.985866"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57666.906], ["updated_at", "2021-11-25 02:36:03.990053"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.991035], ["updated_at", "2021-11-25 02:36:03.994376"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10254.60571], ["total_balance", 10260.10571], ["updated_at", "2021-11-25 02:36:04.012061"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9696.99945], ["total_balance", 11696.99945], ["updated_at", "2021-11-25 02:36:04.017303"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 315ms (Views: 3.2ms | ActiveRecord: 13.4ms | Allocations: 45203)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:36:06 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 306ms (Views: 3.2ms | ActiveRecord: 6.7ms | Allocations: 36471)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:36:10 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 307ms (Views: 3.2ms | ActiveRecord: 7.6ms | Allocations: 36478)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:38:18 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4307.4155], ["updated_at", "2021-11-25 02:38:21.694180"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4307.4155], ["updated_at", "2021-11-25 02:38:21.700039"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.4ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57646.855], ["updated_at", "2021-11-25 02:38:21.704279"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.98141], ["updated_at", "2021-11-25 02:38:21.708122"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10254.4173], ["total_balance", 10259.9173], ["updated_at", "2021-11-25 02:38:21.724888"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9699.92325], ["total_balance", 11699.92325], ["updated_at", "2021-11-25 02:38:21.730303"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 3677ms (Views: 3.1ms | ActiveRecord: 15.2ms | Allocations: 45204)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 21:38:35 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 723ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 855)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:38:36 -0500
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Processing by AccountsController#show as HTML
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 301ms (Views: 3.1ms | ActiveRecord: 7.8ms | Allocations: 36484)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:38:36 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.1ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 305ms (Views: 3.0ms | ActiveRecord: 8.4ms | Allocations: 36482)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:38:40 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 304ms (Views: 3.3ms | ActiveRecord: 6.8ms | Allocations: 36477)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 21:38:42 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (1.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 303ms (Views: 2.6ms | ActiveRecord: 11.1ms | Allocations: 35732)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts" for ::1 at 2021-11-24 21:38:45 -0500
Processing by AccountsController#index as HTML
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/accounts_controller.rb:12:in `index'
Completed 200 OK in 278ms (Views: 2.7ms | ActiveRecord: 6.2ms | Allocations: 35725)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users/login
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users/login" for ::1 at 2021-11-24 21:43:16 -0500
Processing by UsersController#login as HTML
  Parameters: {"user"=>{"email"=>"niubrandon@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "niubrandon@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12:in `login'
Completed 200 OK in 712ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 853)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:43:16 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.8ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4302.2944], ["updated_at", "2021-11-25 02:43:17.251933"], ["id", 2]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.7ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 4302.2944], ["updated_at", "2021-11-25 02:43:17.257627"], ["id", 9]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 57563.445], ["updated_at", "2021-11-25 02:43:17.262180"], ["id", 10]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mPortfolio Update (0.5ms)[0m  [1m[33mUPDATE "portfolios" SET "current_spot_price" = $1, "updated_at" = $2 WHERE "portfolios"."id" = $3[0m  [["current_spot_price", 38.91291], ["updated_at", "2021-11-25 02:43:17.266283"], ["id", 11]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.9ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 10244.172649999999], ["total_balance", 10249.672649999999], ["updated_at", "2021-11-25 02:43:17.304479"], ["id", 4]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mAccount Update (0.7ms)[0m  [1m[33mUPDATE "accounts" SET "stock_balance" = $1, "total_balance" = $2, "updated_at" = $3 WHERE "accounts"."id" = $4[0m  [["stock_balance", 9692.241600000001], ["total_balance", 11692.241600000001], ["updated_at", "2021-11-25 02:43:17.311042"], ["id", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 349ms (Views: 3.1ms | ActiveRecord: 17.5ms | Allocations: 45220)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/4
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/4" for ::1 at 2021-11-24 21:43:17 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 4)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 320ms (Views: 3.0ms | ActiveRecord: 8.0ms | Allocations: 36477)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: POST
  Access-Control-Request-Headers: content-type
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: content-type
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /users
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started POST "/users" for ::1 at 2021-11-24 21:43:33 -0500
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"first_name"=>"CCC", "last_name"=>"CCC", "email"=>"ccc@gmail.com", "password"=>"[FILTERED]", "referral_code"=>""}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ccc@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "referral_code") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "CCC"], ["last_name", "CCC"], ["email", "ccc@gmail.com"], ["password_digest", "$2a$12$nNkN9JgsFyEsk4swAgokrekIDbagcuJeFNJgyU7YU84KjakBFa5PK"], ["created_at", "2021-11-25 02:43:33.928719"], ["updated_at", "2021-11-25 02:43:33.928719"], ["referral_code", ""]]
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:47:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("cash_balance", "stock_balance", "total_balance", "created_at", "updated_at", "user_id", "referral_bonus", "signup_bonus") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["cash_balance", 10000.0], ["stock_balance", 0.0], ["total_balance", 10000.0], ["created_at", "2021-11-25 02:43:33.945054"], ["updated_at", "2021-11-25 02:43:33.945054"], ["user_id", 5], ["referral_bonus", 0], ["signup_bonus", false]]
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ccc@gmail.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "referral_code" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-11-25 02:43:33.950826"], ["referral_code", "xU7w2Q"], ["id", 5]]
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:85:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:87:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ccc@gmail.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:87:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:87:in `create'
Completed 201 Created in 767ms (Views: 0.2ms | ActiveRecord: 10.5ms | Allocations: 12754)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: GET
  Access-Control-Request-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Preflight Headers:
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD
  Access-Control-Expose-Headers: 
  Access-Control-Max-Age: 0
  Access-Control-Allow-Headers: authorization
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 21:43:33 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.6ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 308ms (Views: 1.6ms | ActiveRecord: 8.3ms | Allocations: 37940)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
Incoming Headers:
  Origin: http://localhost:3001
  Path-Info: /api/accounts/5
  Access-Control-Request-Method: 
  Access-Control-Request-Headers: 
Started GET "/api/accounts/5" for ::1 at 2021-11-24 21:43:34 -0500
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:96:in `set_account'
  [1m[36mPortfolio Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "portfolios"."ticker" FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:136:in `each_with_index'
  [1m[36mPortfolio Load (0.7ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios"[0m
  ↳ app/controllers/accounts_controller.rb:62:in `adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:65:in `block in adjust_portfolio_spot_price'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  ↳ app/controllers/accounts_controller.rb:76:in `adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 2]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 3]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.3ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 4]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 1]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.2ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE "portfolios"."account_id" = $1[0m  [["account_id", 5]]
  ↳ app/controllers/accounts_controller.rb:80:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/accounts_controller.rb:85:in `block in adjust_accounts_balance_from_updated_portfolios'
  [1m[36mPortfolio Load (0.5ms)[0m  [1m[34mSELECT "portfolios".* FROM "portfolios" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE (account_id = 5)[0m
  ↳ app/controllers/accounts_controller.rb:28:in `show'
Completed 200 OK in 310ms (Views: 1.6ms | ActiveRecord: 8.0ms | Allocations: 37910)


{"Access-Control-Allow-Origin"=>"*", "Access-Control-Allow-Methods"=>"GET, POST, DELETE, PUT, PATCH, OPTIONS, HEAD", "Access-Control-Expose-Headers"=>"", "Access-Control-Max-Age"=>"0"}
